;/*FB_PKG_DELIM*/

__d("PolarisCreationContextProvider.react",["react","usePolarisCreationDispatch","usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,c=a.dispatch;a=a.state;return i.jsx(d("usePolarisCreationDispatch").CreationDispatchContext.Provider,{value:c,children:i.jsx(d("usePolarisCreationState").CreationStateContext.Provider,{value:a,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationHelpers",["PolarisCreationTypes","PolarisRoutes","browserHistory","polarisUnexpected"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("PolarisCreationTypes").STEP.select}function b(){return d("PolarisCreationTypes").STEP.generate}function e(a){switch(a){case d("PolarisCreationTypes").STEP.select:return d("PolarisRoutes").CREATE_SELECT_PATH;case d("PolarisCreationTypes").STEP.generate:return d("PolarisRoutes").CREATE_GENERATE_PATH;case d("PolarisCreationTypes").STEP.crop:case d("PolarisCreationTypes").STEP.edit:return d("PolarisRoutes").CREATE_STYLE_PATH;case d("PolarisCreationTypes").STEP.compose:return d("PolarisRoutes").CREATE_DETAILS_PATH;case d("PolarisCreationTypes").STEP.publish:case d("PolarisCreationTypes").STEP.done:return d("PolarisRoutes").CREATE_UPLOAD_PATH;case d("PolarisCreationTypes").STEP.error:return d("PolarisRoutes").CREATE_ERROR_PATH;case d("PolarisCreationTypes").STEP.editPostInfo:return d("browserHistory").browserHistory.location.pathname;default:c("polarisUnexpected")("unexpected creation step");return d("PolarisRoutes").CREATE_SELECT_PATH}}function f(a){switch(a){case d("PolarisCreationTypes").STEP.select:return d("PolarisCreationTypes").STEP.crop;case d("PolarisCreationTypes").STEP.generate:return d("PolarisCreationTypes").STEP.crop;case d("PolarisCreationTypes").STEP.crop:return d("PolarisCreationTypes").STEP.edit;case d("PolarisCreationTypes").STEP.edit:return d("PolarisCreationTypes").STEP.compose;case d("PolarisCreationTypes").STEP.compose:return d("PolarisCreationTypes").STEP.publish;case d("PolarisCreationTypes").STEP.publish:c("polarisUnexpected")("no step after /create/upload/");return d("PolarisCreationTypes").STEP.select;case d("PolarisCreationTypes").STEP.editPostInfo:c("polarisUnexpected")("no step after editing post info");return d("PolarisCreationTypes").STEP.editPostInfo;default:c("polarisUnexpected")("unexpected creation step");return d("PolarisCreationTypes").STEP.select}}function h(a){switch(a){case d("PolarisCreationTypes").STEP.select:c("polarisUnexpected")("no step before /create/select/");return d("PolarisCreationTypes").STEP.select;case d("PolarisCreationTypes").STEP.generate:c("polarisUnexpected")("no step before /create/generate/");return d("PolarisCreationTypes").STEP.generate;case d("PolarisCreationTypes").STEP.crop:return d("PolarisCreationTypes").STEP.select;case d("PolarisCreationTypes").STEP.edit:return d("PolarisCreationTypes").STEP.crop;case d("PolarisCreationTypes").STEP.compose:return d("PolarisCreationTypes").STEP.edit;case d("PolarisCreationTypes").STEP.publish:c("polarisUnexpected")("shouldnt return to prev step once publish started");return d("PolarisCreationTypes").STEP.select;case d("PolarisCreationTypes").STEP.editPostInfo:c("polarisUnexpected")("shouldnt have a prev step from editing post");return d("PolarisCreationTypes").STEP.editPostInfo;default:c("polarisUnexpected")("unexpected creation step");return d("PolarisCreationTypes").STEP.select}}g.getCreationFirstStep=a;g.getCreationFirstStepGenAI=b;g.getCreationPath=e;g.getCreationNextStep=f;g.getCreationPrevStep=h}),98);
__d("IGDSDeletePanoFilledIcon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:i.jsx("path",{d:"M21.253 5.001h-4.255V3.632A2.64 2.64 0 0 0 14.362.996H9.635A2.64 2.64 0 0 0 7 3.632v1.37H2.748a1.5 1.5 0 0 0 0 3h18.505a1.5 1.5 0 0 0 0-3Zm-7.255 0H9.999V3.996h3.999Zm4.965 4H5.037a1 1 0 0 0-.992 1.124l1.327 10.606A2.59 2.59 0 0 0 7.942 23h8.116a2.59 2.59 0 0 0 2.57-2.269l1.327-10.606a1 1 0 0 0-.992-1.124Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("PolarisCreationCropHelpers",["PolarisCreationV2State","PolarisMediaConstants"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return i(a,b,c)===a}function h(a,b,c){if(c<a)return a;return c>b?b:c}function i(a,b,c){switch(b){case"image":return h(d("PolarisMediaConstants").IMAGE_ASPECT_RATIO_MIN,d("PolarisMediaConstants").IMAGE_ASPECT_RATIO_MAX,a);case"video":return c===1?h(d("PolarisMediaConstants").VIDEO_ASPECT_RATIO_DOVETAIL_MIN,d("PolarisMediaConstants").IMAGE_ASPECT_RATIO_MAX,a):h(d("PolarisMediaConstants").IMAGE_ASPECT_RATIO_MIN,d("PolarisMediaConstants").IMAGE_ASPECT_RATIO_MAX,a)}return a}function b(a,b,c){if(a===d("PolarisCreationV2State").CropTypes.PORTRAIT)return b===1&&c==="video";else if(a===d("PolarisCreationV2State").CropTypes.PORTRAIT_DOVETAIL)return b>1;return!1}function c(a,b,c){var d=c.panningOffsetRatioX;c=c.panningOffsetRatioY;d=d*b;b=c*a;return{offsetX:d,offsetY:b}}g.isValidAspectRatio=a;g.getClosestValidAspectRatio=i;g.isInvalidPortraitRatio=b;g.getPanningOffsets=c}),98);
__d("PolarisCreationMediaButton.react",["cx","IGDSBox.react","PolarisIGCoreButton","PolarisIGCoreText","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.altText,d=a.disabled;d=d===void 0?!1:d;var e=a.endText,f=a.icon,g=a.onClick,h=a.selected;a=a.size;a=a===void 0?"default":a;f=f;var i=h?"ig-primary-text":"web-always-white";return j.jsx("div",{className:"_abfz"+(e!=null?" _abf-":"")+(d?" _abf_":"")+(h?" _abg0":"")+(a==="default"?" _abg1":"")+(a==="small"?" _abg2":""),disabled:d,role:"button",children:j.jsx(c("PolarisIGCoreButton"),{borderless:!0,onClick:d?void 0:g,children:j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"center",padding:a==="default"?2:1,position:"relative",children:[j.jsx(f,{alt:b,color:i,size:a==="default"?16:12}),e!=null&&j.jsx(c("IGDSBox.react"),{marginStart:2,position:"relative",children:j.jsx(c("PolarisIGCoreText"),{color:i,weight:"semibold",children:e})})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisModalOverlay.react",["cx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.onClose;return j.jsx("div",{className:"_aa73",onClick:a,role:"none"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationMediaPopover.react",["cx","PolarisDOMListener.react","PolarisModalOverlay.react","PolarisTransition.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useRef;function a(a){var b=a.children,e=a.onClose,f=a.onMouseDownOutside,g=a.visible,h=k(null),i=function(a,b){f!=null&&b===d("PolarisTransition.react").TRANSITION_STATUS.ENTERED&&a.target instanceof Node&&h.current&&!h.current.contains(a.target)&&f(a)};return j.jsx(d("PolarisTransition.react").Transition,{"in":g,timeout:180,children:function(a){return(g||a!==d("PolarisTransition.react").TRANSITION_STATUS.EXITED)&&j.jsxs(j.Fragment,{children:[e!=null&&g&&j.jsx(c("PolarisModalOverlay.react"),{onClose:e}),j.jsx("div",{"aria-hidden":!g,className:"_ac36"+(a===d("PolarisTransition.react").TRANSITION_STATUS.EXITING||a===d("PolarisTransition.react").TRANSITION_STATUS.EXITED?" _ac37":"")+(a===d("PolarisTransition.react").TRANSITION_STATUS.ENTERING||a===d("PolarisTransition.react").TRANSITION_STATUS.ENTERED?" _ac38":""),ref:h,children:b}),j.jsx(c("PolarisDOMListener.react"),{capture:!0,event:"mousedown",handler:function(b){return i(b,a)},target:document})]})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationMediaPopoverButton.react",["IGDSBox.react","PolarisCreationMediaButton.react","PolarisCreationMediaPopover.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useRef;function a(a){var b=a.altText,d=a.children,e=a.disabled,f=a.expanded,g=a.icon,h=a.togglePopover,k=j(null);a=function(a){var b;a.target instanceof Node&&!(k==null?void 0:(b=k.current)==null?void 0:b.contains(a.target))&&h()};return i.jsxs(i.Fragment,{children:[i.jsx(c("IGDSBox.react"),{maxWidth:"100%",padding:2,position:"relative",children:i.jsx(c("PolarisCreationMediaPopover.react"),{onMouseDownOutside:a,visible:f,children:d})}),i.jsx("div",{ref:k,children:i.jsx(c("PolarisCreationMediaButton.react"),{altText:b,disabled:e,icon:g,onClick:h,selected:f})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisIGCoreFitPanoOutlineIcon",["PolarisIGCoreSVGIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:i.jsx("path",{d:"M10 20H4v-6a1 1 0 0 0-2 0v7a1 1 0 0 0 1 1h7a1 1 0 0 0 0-2ZM20.999 2H14a1 1 0 0 0 0 2h5.999v6a1 1 0 0 0 2 0V3a1 1 0 0 0-1-1Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("PolarisIGCoreCropLandscapePanoOutlineIcon",["PolarisIGCoreSVGIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:i.jsx("path",{d:"M19 20H5a4.004 4.004 0 0 1-4-4V8a4.004 4.004 0 0 1 4-4h14a4.004 4.004 0 0 1 4 4v8a4.004 4.004 0 0 1-4 4ZM5 6a2.002 2.002 0 0 0-2 2v8a2.002 2.002 0 0 0 2 2h14a2.002 2.002 0 0 0 2-2V8a2.002 2.002 0 0 0-2-2Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("PolarisIGCoreCropPortraitPanoOutlineIcon",["PolarisIGCoreSVGIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:i.jsx("path",{d:"M16 23H8a4.004 4.004 0 0 1-4-4V5a4.004 4.004 0 0 1 4-4h8a4.004 4.004 0 0 1 4 4v14a4.004 4.004 0 0 1-4 4ZM8 3a2.002 2.002 0 0 0-2 2v14a2.002 2.002 0 0 0 2 2h8a2.002 2.002 0 0 0 2-2V5a2.002 2.002 0 0 0-2-2Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("PolarisIGCoreCropSquarePanoOutlineIcon",["PolarisIGCoreSVGIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:i.jsx("path",{d:"M19 23H5a4.004 4.004 0 0 1-4-4V5a4.004 4.004 0 0 1 4-4h14a4.004 4.004 0 0 1 4 4v14a4.004 4.004 0 0 1-4 4ZM5 3a2.002 2.002 0 0 0-2 2v14a2.002 2.002 0 0 0 2 2h14a2.002 2.002 0 0 0 2-2V5a2.002 2.002 0 0 0-2-2Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("usePolarisCreationMedia",["invariant","nullthrows","usePolarisCreationState"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){a=a.filteredMedia;if(a==null)return null;var b=a.height;a=a.width;a!=null&&b!=null||h(0,51614);return{height:b,width:a}}function j(a){var b=a.type,d=b==="image"?c("nullthrows")(a==null?void 0:a.image):c("nullthrows")(a==null?void 0:a.video);return{adjustmentParams:a==null?void 0:a.adjustmentParams,filterName:a==null?void 0:a.filters.filterName,filterStrength:a==null?void 0:a.filters.filterStrength,media:a,mediaItem:d,mediaItemType:b}}function a(a){var b=d("usePolarisCreationState").useCreationState();b=c("nullthrows")(b.media.get(a));a=i(b);return babelHelpers["extends"]({},j(b),{mediaHeight:a==null?void 0:a.height,mediaWidth:a==null?void 0:a.width})}g.getMediaItemDimensions=i;g.getMediaInfo=j;g.useCreationMedia=a}),98);
__d("usePolarisCreationCurrentMedia",["usePolarisCreationMedia","usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a,b=d("usePolarisCreationState").useCreationState();a=(a=b.currentMediaId)!=null?a:b.multiPostOrder[0];b=d("usePolarisCreationMedia").useCreationMedia(a);var c=b.adjustmentParams,e=b.filterName,f=b.filterStrength,g=b.media,h=b.mediaItem;b=b.mediaItemType;return{currentMedia:g,currentMediaAdjustmentParams:c,currentMediaFilter:e,currentMediaFilterStrength:f,currentMediaId:a,currentMediaItem:h,currentMediaItemType:b}}g["default"]=a}),98);
__d("usePolarisCreationIsSingleVideoPost",["usePolarisCreationCurrentMedia","usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("usePolarisCreationState").useCreationState(),b=c("usePolarisCreationCurrentMedia")();b=b.currentMediaItemType;return a.media.size===1&&b==="video"}g["default"]=a}),98);
__d("usePolarisCreationCropSetting",["PolarisCreationConstants","PolarisCreationCropHelpers","PolarisCreationV2ActionTypes","PolarisCreationV2State","PolarisCreationV2Strings","PolarisHasFeedCreationV2Dogfooding","PolarisIGCoreCropLandscapePanoOutlineIcon","PolarisIGCoreCropPortraitPanoOutlineIcon","PolarisIGCoreCropSquarePanoOutlineIcon","PolarisIGCorePhotoPanoOutlineIcon","usePolarisCreationDispatch","usePolarisCreationIsSingleVideoPost","usePolarisCreationMedia","usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a,b=d("usePolarisCreationDispatch").useCreationDispatch(),e=d("usePolarisCreationState").useCreationState(),f=c("usePolarisCreationIsSingleVideoPost")(),g=e.multiPostOrder.length;e=e.multiPostOrder[0];e=d("usePolarisCreationMedia").useCreationMedia(e);e=e.media;var h=d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()?d("PolarisCreationCropHelpers").getClosestValidAspectRatio(e.originalAspectRatio,e.type,g):e.originalAspectRatio,i=(a={},a[d("PolarisCreationV2State").CropTypes.ORIGINAL]=h,a[d("PolarisCreationV2State").CropTypes.SQUARE]=d("PolarisCreationConstants").SQUARE_CROP_RATIO,a[d("PolarisCreationV2State").CropTypes.PORTRAIT]=d("PolarisCreationConstants").PORTRAIT_CROP_RATIO,a[d("PolarisCreationV2State").CropTypes.PORTRAIT_DOVETAIL]=d("PolarisCreationConstants").PORTRAIT_DOVETAIL_CROP_RATIO,a[d("PolarisCreationV2State").CropTypes.LANDSCAPE]=d("PolarisCreationConstants").LANDSCAPE_CROP_RATIO,a);h=[{altText:d("PolarisCreationV2Strings").PHOTO_OUTLINE_ALT,icon:c("PolarisIGCorePhotoPanoOutlineIcon"),title:d("PolarisCreationV2Strings").SELECT_CROP_ORIGINAL,type:d("PolarisCreationV2State").CropTypes.ORIGINAL},{altText:d("PolarisCreationV2Strings").CROP_SQUARE_ALT,icon:c("PolarisIGCoreCropSquarePanoOutlineIcon"),title:d("PolarisCreationV2Strings").SELECT_CROP_SQUARE,type:d("PolarisCreationV2State").CropTypes.SQUARE},{altText:d("PolarisCreationV2Strings").CROP_PORTRAIT_ALT,icon:c("PolarisIGCoreCropPortraitPanoOutlineIcon"),title:f?d("PolarisCreationV2Strings").SELECT_CROP_PORTRAIT_DOVETAIL:d("PolarisCreationV2Strings").SELECT_CROP_PORTRAIT,type:f?d("PolarisCreationV2State").CropTypes.PORTRAIT_DOVETAIL:d("PolarisCreationV2State").CropTypes.PORTRAIT},{altText:d("PolarisCreationV2Strings").CROP_LANDSCAPE_ALT,icon:c("PolarisIGCoreCropLandscapePanoOutlineIcon"),title:d("PolarisCreationV2Strings").SELECT_CROP_LANDSCAPE,type:d("PolarisCreationV2State").CropTypes.LANDSCAPE}];a=d("PolarisCreationCropHelpers").isValidAspectRatio(e.originalAspectRatio,e.type,g)?d("PolarisCreationConstants").DEFAULT_SELECTED_CROP:d("PolarisCreationConstants").SQUARE_SELECTED_CROP;function j(a){var c=i[a];b({cropRatio:c,cropType:a,type:d("PolarisCreationV2ActionTypes").CREATION_SET_CROP_RATIO})}return{cropTypes:h,initialSelectedCrop:d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()?d("PolarisCreationConstants").SQUARE_SELECTED_CROP:a,setSelectedCropType:j}}g["default"]=a}),98);
__d("usePolarisCreationMediaPopoverContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext;c={CROP:"CROP",GALLERY:"GALLERY",ZOOM:"ZOOM"};var j=b.createContext({openedPopover:null,setOpenedPopover:function(){}});function a(){return i(j)}g.CreationMediaPopoverView=c;g.CreationMediaPopoverContext=j;g.useCreationMediaPopoverContext=a}),98);
__d("PolarisCreationCropMediaButton.react",["invariant","CometPressable.react","IGDSBox.react","IGDSDivider.react","IGDSText.react","PolarisCreationConstants","PolarisCreationCropHelpers","PolarisCreationMediaPopoverButton.react","PolarisCreationV2ActionTypes","PolarisCreationV2Strings","PolarisIGCoreFitPanoOutlineIcon","react","usePolarisCreationCropSetting","usePolarisCreationDispatch","usePolarisCreationMedia","usePolarisCreationMediaPopoverContext","usePolarisCreationState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useState;function m(a){var b=a.cropType,d=a.onClick;a=a.selected;var e=a?"webAlwaysWhite":"secondaryText";a=a?"web-always-white":"ig-secondary-text";var f=b.altText,g=b.icon,h=b.title;g=g;return j.jsx(c("CometPressable.react"),{onPress:function(){return d(b.type)},overlayDisabled:!0,children:j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",flex:"grow",justifyContent:"start",marginStart:3,paddingX:1,position:"relative",children:[j.jsx(c("IGDSBox.react"),{alignItems:"start",flex:"grow",position:"relative",children:j.jsx(c("IGDSText.react").BodyEmphasized,{color:e,children:h})}),j.jsx(c("IGDSBox.react"),{padding:3,position:"relative",children:j.jsx(g,{alt:f,color:a,size:24})})]})})}m.displayName=m.name+" [from "+f.id+"]";function a(){var a=d("usePolarisCreationMediaPopoverContext").useCreationMediaPopoverContext(),b=a.openedPopover,e=a.setOpenedPopover,f=b===d("usePolarisCreationMediaPopoverContext").CreationMediaPopoverView.CROP,g=d("usePolarisCreationDispatch").useCreationDispatch(),i=d("usePolarisCreationState").useCreationState();a=c("usePolarisCreationCropSetting")();var n=a.cropTypes,o=a.initialSelectedCrop,p=a.setSelectedCropType,q=i.multiPostOrder.length;a=i.multiPostOrder[0];a=d("usePolarisCreationMedia").useCreationMedia(a);var r=a.media;a=l((a=i.cropType)!=null?a:o);var s=a[0],t=a[1];k(function(){i.cropRatio==null||i.cropType==null?(o===d("PolarisCreationConstants").SQUARE_SELECTED_CROP||h(0,54678),g({cropRatio:d("PolarisCreationConstants").SQUARE_CROP_RATIO,cropType:s,type:d("PolarisCreationV2ActionTypes").CREATION_SET_CROP_RATIO}),t(o)):d("PolarisCreationCropHelpers").isInvalidPortraitRatio(i.cropType,q,r.type)?(g({cropRatio:d("PolarisCreationCropHelpers").getClosestValidAspectRatio(r.originalAspectRatio,r.type,q),cropType:s,type:d("PolarisCreationV2ActionTypes").CREATION_SET_CROP_RATIO}),t(o)):i.cropType!=null&&t(i.cropType)},[r.originalAspectRatio,r.type,g,o,q,i.cropRatio,s,i.cropType]);a=function(){e(f?null:d("usePolarisCreationMediaPopoverContext").CreationMediaPopoverView.CROP)};b=b!=null&&b!==d("usePolarisCreationMediaPopoverContext").CreationMediaPopoverView.CROP;return j.jsx(c("IGDSBox.react"),{alignItems:"start",direction:"column",position:"relative",children:j.jsx(c("PolarisCreationMediaPopoverButton.react"),{altText:d("PolarisCreationV2Strings").SELECT_CROP_ALT_TEXT,disabled:b,expanded:f,icon:c("PolarisIGCoreFitPanoOutlineIcon"),togglePopover:a,children:n.map(function(a,b){return j.jsxs(j.Fragment,{children:[j.jsx(m,{cropType:a,onClick:function(){p(a.type)},selected:a.type===s}),b<n.length-1&&j.jsx(c("IGDSDivider.react"),{})]},b)})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationError",["InstagramODS","PolarisMonitorErrors","keyMirror"],(function(a,b,c,d,e,f,g){"use strict";var h=c("keyMirror")({MAX_MEDIA_ADDED:null,MAX_MEDIA_SIZE:null,MAX_VIDEO_GALLERY_LENGTH:null,MAX_VIDEO_LENGTH:null,MIN_MEDIA_SIZE:null,MIN_VIDEO_LENGTH:null,READ_VIDEO_ERROR:null,UNSUPPORTED_FILE_ERROR:null,UPLOAD_ERROR:null});a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c,d=b.filename,e=b.numFilesOverLimit,f=b.serverError;b=b.type;c=a.call(this,b)||this;c.name="CreationError";c.type=b;c.filename=d;c.numFilesOverLimit=e;c.serverError=f;return c}b.maxVideoLength=function(a){c("InstagramODS").incr("web.creation.error.max_video_length");return new b({filename:a,type:h.MAX_VIDEO_LENGTH})};b.maxVideoLengthGallery=function(a){c("InstagramODS").incr("web.creation.error.max_video_length_gallery");return new b({filename:a,type:h.MAX_VIDEO_GALLERY_LENGTH})};b.minVideoLength=function(a){c("InstagramODS").incr("web.creation.error.min_video_length");return new b({filename:a,type:h.MIN_VIDEO_LENGTH})};b.maxMediaAdded=function(a){c("InstagramODS").incr("web.creation.error.max_media_added");return new b({numFilesOverLimit:a,type:h.MAX_MEDIA_ADDED})};b.maxMediaSize=function(a){c("InstagramODS").incr("web.creation.error.max_media_size");return new b({filename:a,type:h.MAX_MEDIA_SIZE})};b.minMediaSize=function(a){c("InstagramODS").incr("web.creation.error.min_media_size");return new b({filename:a,type:h.MIN_MEDIA_SIZE})};b.uploadError=function(a){d("PolarisMonitorErrors").logError(a);c("InstagramODS").incr("web.creation.error.upload_error");return new b({serverError:a,type:h.UPLOAD_ERROR})};b.readVideoError=function(a,e){d("PolarisMonitorErrors").logError(a);c("InstagramODS").incr("web.creation.error.read_video_error");return new b({filename:e,type:h.READ_VIDEO_ERROR})};b.unsupportedFileError=function(a){c("InstagramODS").incr("web.creation.error.unsupported_file");return new b({filename:a,type:h.UNSUPPORTED_FILE_ERROR})};return b}(babelHelpers.wrapNativeSuper(Error));g.CreationErrorType=h;g.CreationError=a}),98);
__d("PolarisCreationErrorHelpers",["PolarisCreationV2Strings","PolarisHasFeedCreationV2Dogfooding","PolarisUA","qex"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b;b=a==null?void 0:(b=a.serverError)==null?void 0:(b=b.responseObject)==null?void 0:b.message;a=a==null?void 0:(a=a.serverError)==null?void 0:(a=a.responseObject)==null?void 0:a.spam;if(b!=null&&a!==!0&&c("qex")._("362")===!1)return b}function a(a){return j(a)[a.type]}var i=d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()?d("PolarisCreationV2Strings").FILE_COULDNT_BE_UPLOADED_TITLE:d("PolarisCreationV2Strings").VIDEO_TOO_LONG_TITLE;function j(a){var b,c=d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding();b=(b=a==null?void 0:a.filename)!=null?b:"";return{MAX_MEDIA_SIZE:{body:d("PolarisCreationV2Strings").fileIsTooLargeBody(b),header:d("PolarisCreationV2Strings").FILE_TOO_LARGE_HEADER,title:c?d("PolarisCreationV2Strings").FILE_COULDNT_BE_UPLOADED_TITLE:d("PolarisCreationV2Strings").FILE_TOO_LARGE_TITLE},MAX_VIDEO_GALLERY_LENGTH:{body:d("PolarisCreationV2Strings").videoIsTooLongForGalleryBody(),header:c?d("PolarisCreationV2Strings").VIDEO_TOO_LONG_GALLERY_DOVETAIL_HEADER:d("PolarisCreationV2Strings").VIDEO_TOO_LONG_HEADER,title:c?d("PolarisCreationV2Strings").VIDEO_COULDNT_BE_UPLOADED_TITLE:d("PolarisCreationV2Strings").VIDEO_TOO_LONG_TITLE},MAX_VIDEO_LENGTH:{body:d("PolarisCreationV2Strings").videoIsTooLongDovetailBody(b),header:d("PolarisCreationV2Strings").VIDEO_TOO_LONG_DOVETAIL_HEADER,title:i},MIN_MEDIA_SIZE:{body:d("PolarisCreationV2Strings").fileIsTooSmallBody(b),header:d("PolarisCreationV2Strings").FILE_TOO_SMALL_HEADER,title:c?d("PolarisCreationV2Strings").FILE_COULDNT_BE_UPLOADED_TITLE:d("PolarisCreationV2Strings").FILE_TOO_SMALL_TITLE},MIN_VIDEO_LENGTH:{body:d("PolarisCreationV2Strings").videoIsTooShortBody(b),header:d("PolarisCreationV2Strings").VIDEO_TOO_SHORT_HEADER,title:d("PolarisCreationV2Strings").FILE_COULDNT_BE_UPLOADED_TITLE},READ_VIDEO_ERROR:{body:d("PolarisCreationV2Strings").videoFileReadFailedBody(b),header:d("PolarisCreationV2Strings").VIDEO_FILE_READ_FAILED_HEADER,title:c?d("PolarisCreationV2Strings").VIDEO_COULDNT_BE_UPLOADED_TITLE:d("PolarisCreationV2Strings").VIDEO_FILE_READ_FAILED_TITLE},UNSUPPORTED_FILE_ERROR:{body:c?d("PolarisCreationV2Strings").fileCouldntBeUploaded(b):d("PolarisCreationV2Strings").SUPPORTED_FILES_TEXT,header:c?d("PolarisCreationV2Strings").FILE_NOT_SUPPORTED_HEADER:d("PolarisCreationV2Strings").SINGLE_FILE_UPLOAD_ERROR,title:c?d("PolarisCreationV2Strings").FILE_COULDNT_BE_UPLOADED_TITLE:d("PolarisCreationV2Strings").UPLOAD_FAILED_TITLE},UPLOAD_ERROR:d("PolarisUA").isDesktop()?{body:h(a),header:d("PolarisCreationV2Strings").UPLOAD_FAILED_HEADER,primaryActionName:d("PolarisCreationV2Strings").TRY_AGAIN_CTA_TEXT,title:d("PolarisCreationV2Strings").UPLOAD_FAILED_TITLE}:{header:d("PolarisCreationV2Strings").UPLOAD_FAILED_HEADER,title:d("PolarisCreationV2Strings").UPLOAD_FAILED_TITLE}}}function k(a){return{MAX_MEDIA_ADDED:{message:a!=null?d("PolarisCreationV2Strings").maxMediaAddedError(a):d("PolarisCreationV2Strings").MAX_MEDIA_ADDED_ERROR},MAX_MEDIA_SIZE:{message:d("PolarisCreationV2Strings").FILE_TOO_LARGE_MESSAGE},MAX_VIDEO_GALLERY_LENGTH:{message:d("PolarisCreationV2Strings").CANNOT_ADD_MEDIA_BECAUSE_VIDEO_TOO_LONG_FOR_GALLERY_MESSAGE},MAX_VIDEO_LENGTH:{message:d("PolarisCreationV2Strings").VIDEO_TOO_LONG_MESSAGE},MIN_MEDIA_SIZE:{message:d("PolarisCreationV2Strings").FILE_TOO_SMALL_MESSAGE},MIN_VIDEO_LENGTH:{message:d("PolarisCreationV2Strings").VIDEO_TOO_SHORT_MESSAGE},READ_VIDEO_ERROR:{message:d("PolarisCreationV2Strings").VIDEO_FILE_READ_FAILED_MESSAGE}}}function b(a){return k(a.numFilesOverLimit)[a.type]}g.getCreationErrorPageForError=a;g.getCreationErrorToastForError=b}),98);
__d("PolarisCreationStepProvider.react",["PolarisCreationHelpers","PolarisCreationTypes","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useCallback,k=c.useContext,l=c.useMemo,m=c.useState;c={handleErrorPage:function(){},handleNextStep:function(){},handlePrevStep:function(){},handlePublishSuccess:function(){},handleStartOver:function(){},handleTryAgain:function(){},step:d("PolarisCreationHelpers").getCreationFirstStep()};var n=e(c);function a(a){var b=a.children;a=a.initialStep;a=a===void 0?d("PolarisCreationHelpers").getCreationFirstStep():a;a=m(a);var c=a[0],e=a[1],f=j(function(){e(d("PolarisCreationHelpers").getCreationNextStep(c))},[c]),g=j(function(){e(d("PolarisCreationHelpers").getCreationPrevStep(c))},[c]),h=j(function(){e(d("PolarisCreationTypes").STEP.select)},[]),k=j(function(){e(d("PolarisCreationTypes").STEP.done)},[]),o=j(function(){e(d("PolarisCreationTypes").STEP.error)},[]),p=j(function(){e(d("PolarisCreationTypes").STEP.publish)},[]);a=l(function(){return{handleErrorPage:o,handleNextStep:f,handlePrevStep:g,handlePublishSuccess:k,handleStartOver:h,handleTryAgain:p,step:c}},[o,f,g,k,h,p,c]);return i.jsx(n.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return k(n)}g.CreationStepProvider=a;g.useCreationStep=b}),98);
__d("PolarisMediaDimensionHelpers",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){return g(a,b,c,d,!0)}function g(a,b,c,d,e){e===void 0&&(e=!1);var f=a/b,g={height:c,width:c/f};f={height:f*d,width:d};if(e!==!0&&a<c&&b<d)return{height:Math.floor(a),width:Math.floor(b)};a>=b?(e=f,e.height>c&&(e=g)):(e=g,e.width>d&&(e=f));return{height:Math.floor(e.height),width:Math.floor(e.width)}}f.getDimensionsToStretchFit=a;f.getDimensionsBelowMax=g}),66);
__d("PolarisCreationMediaHelpers",["PolarisMediaDimensionHelpers","PolarisUA","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=16777216,i=.99,j=h*i;function k(a){var b=a.croppedHeight,c=a.croppedWidth,d=a.imageHeight,e=a.imageWidth,f=a.offsetLeft;a=a.offsetTop;f=f;a=a;f<0&&(f=0);a<0&&(a=0);a+b>d&&(a=d-b);f+c>e&&(f=e-c);return{finalSourceX:f,finalSourceY:a}}function a(a){var b=a.imageHeight,e=a.imageWidth,f=a.offsetLeft,g=a.offsetTop,h=a.scaleFactor;a=a.sourceImg;var i=e*b;d("PolarisUA").isMobileSafari()&&i>j?i=Math.min(1,Math.sqrt(j/i)):i=1;e=l(e,b,h,f,g);b=e.sourceHeight;h=e.sourceWidth;f=e.sourceX;g=e.sourceY;e=Math.round(h*i);i=Math.round(b*i);var m=document.createElement("canvas");m.width=e;m.height=i;var n=c("nullthrows")(m.getContext("2d"));f=k({croppedHeight:b,croppedWidth:h,imageHeight:a.height,imageWidth:a.width,offsetLeft:f,offsetTop:g});g=f.finalSourceX;f=f.finalSourceY;n.drawImage(a,g,f,h,b,0,0,e,i);return m}function l(a,b,c,d,e){var f=a/c;c=b/c;a=(a-f)/2;b=(b-c)/2;a=a+d;d=b+e;return{sourceHeight:c,sourceWidth:f,sourceX:a,sourceY:d}}function m(a,b,c){var d=a/b,e=a,f=b,g=0,h=0;d>c?(e=b*c,g=Math.abs(a-e)/2):d<c&&(f=a/c,h=Math.abs(b-f)/2);return{croppedHeight:f,croppedWidth:e,offsetLeft:g,offsetTop:h}}function n(a){if(a<0)return 0;a=Math.floor(a);return a%2===0?a:a-1}function b(a){var b=a.cropRatio,c=a.mute,d=a.panningOffsetRatioX,e=a.panningOffsetRatioY,f=a.trimEnd,g=a.trimStart,h=a.videoHeight;a=a.videoWidth;a=m(a,h,b);h=a.croppedHeight;b=a.croppedWidth;var i=a.offsetLeft;a=a.offsetTop;d=b*d;e=h*e;i=i-d;d=a-e;a=i<0?0:Math.floor(i);e=d<0?0:Math.floor(d);return{crop_height:n(h),crop_width:n(b),crop_x1:a,crop_y1:e,mute:c,trim_end:f,trim_start:g}}function e(a,b,e,f){if(f==null)return{croppedHeightScaled:0,croppedWidthScaled:0};a=m(a,b,e);b=a.croppedHeight;e=a.croppedWidth;a=c("nullthrows")(f).getBoundingClientRect();f=a.height;a=a.width;b=d("PolarisMediaDimensionHelpers").getDimensionsToStretchFit(b,e,f,a);return{croppedHeightScaled:b.height,croppedWidthScaled:b.width}}function f(a,b,c,d){var e=a,f=b;a<c&&(e=c,f=c/a*b);b<d&&(f=d,e=d/b*a);return{height:e,width:f}}function o(a,b,c){a=1/a;b=a/2*b;a=a/2*c;return{transformedOffsetX:b,transformedOffsetY:a}}function p(a,b){b===void 0&&(b="");var c=1024;a=atob(a);var d=a.length,e=Math.ceil(d/c),f=new Array(e);for(var g=0;g<e;++g){var h=g*c,i=Math.min(h+c,d),j=new Array(i-h);for(var h=h,k=0;h<i;++k,++h)j[k]=a[h].charCodeAt(0);f[g]=new Uint8Array(j)}return new Blob(f,{type:b})}g.getBoundedSource=k;g.renderCroppedImage=a;g.getSourceCoordinatesAndDimensions=l;g.getCroppedWidthAndHeight=m;g.getVideoEditParams=b;g.getCroppedHeightAndWidthScaledDimensions=e;g.getScaledOriginalMediaDimensions=f;g.transformPanningOffsetsForRatios=o;g.b64toBlob=p}),98);
__d("PolarisIGTVConstants",[],(function(a,b,c,d,e,f){"use strict";({LANDSCAPE:"landscape",PORTRAIT:"portrait"});a=1e7;b=10;c=3e4;f.UPLOAD_CHUNK_SIZE=a;f.UPLOAD_RETRY_COUNT=b;f.UPLOAD_RETRY_TIMEOUT_MS=c}),66);
__d("IgMediaIngestStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5550");b=d("FalcoLoggerInternal").create("ig_media_ingest_start",a);e=b;g["default"]=e}),98);
__d("IgMediaPublishFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5563");b=d("FalcoLoggerInternal").create("ig_media_publish_failure",a);e=b;g["default"]=e}),98);
__d("IgMediaPublishInvokeFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5551");b=d("FalcoLoggerInternal").create("ig_media_publish_invoke",a);e=b;g["default"]=e}),98);
__d("IgMediaPublishReadyFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5552");b=d("FalcoLoggerInternal").create("ig_media_publish_ready",a);e=b;g["default"]=e}),98);
__d("IgMediaPublishSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5553");b=d("FalcoLoggerInternal").create("ig_media_publish_success",a);e=b;g["default"]=e}),98);
__d("IgMediaUploadFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5569");b=d("FalcoLoggerInternal").create("ig_media_upload_failure",a);e=b;g["default"]=e}),98);
__d("IgMediaUploadStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5337");b=d("FalcoLoggerInternal").create("ig_media_upload_start",a);e=b;g["default"]=e}),98);
__d("IgMediaUploadSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5338");b=d("FalcoLoggerInternal").create("ig_media_upload_success",a);e=b;g["default"]=e}),98);
__d("PolarisIGVideoCoverPhotoUploadFailureFalcoEvent",["PolarisFalcoLogger"],(function(a,b,c,d,e,f,g){"use strict";var h={falco:!0,pigeon:!1};a={log:function(a){d("PolarisFalcoLogger").FalcoLogger.log("ig_video_cover_photo_upload_failure",a(),{},h)}};b=a;g["default"]=b}),98);
__d("PolarisIGVideoCoverPhotoUploadStartFalcoEvent",["PolarisFalcoLogger"],(function(a,b,c,d,e,f,g){"use strict";var h={falco:!0,pigeon:!1};a={log:function(a){d("PolarisFalcoLogger").FalcoLogger.log("ig_video_cover_photo_upload_start",a(),{},h)}};b=a;g["default"]=b}),98);
__d("PolarisIGVideoCoverPhotoUploadSuccessFalcoEvent",["PolarisFalcoLogger"],(function(a,b,c,d,e,f,g){"use strict";var h={falco:!0,pigeon:!1};a={log:function(a){d("PolarisFalcoLogger").FalcoLogger.log("ig_video_cover_photo_upload_success",a(),{},h)}};b=a;g["default"]=b}),98);
__d("PolarisUploadLogger",["IgMediaIngestStartFalcoEvent","IgMediaPublishFailureFalcoEvent","IgMediaPublishInvokeFalcoEvent","IgMediaPublishReadyFalcoEvent","IgMediaPublishSuccessFalcoEvent","IgMediaUploadFailureFalcoEvent","IgMediaUploadStartFalcoEvent","IgMediaUploadSuccessFalcoEvent","PolarisIGVideoCoverPhotoUploadFailureFalcoEvent","PolarisIGVideoCoverPhotoUploadStartFalcoEvent","PolarisIGVideoCoverPhotoUploadSuccessFalcoEvent","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){Object.assign(this,a)}a.fromLoggingData=function(b){return new a(b)};var b=a.prototype;b.toIGMediaUploadEventData=function(){var a;return{connection:"None",duration_ms:(a=this.durationMs)==null?void 0:a.toString(),ingest_id:c("nullthrows")(this.uploadId),ingest_surface:this.ingestSurface,media_type:this.mediaType,original_file_size_bytes:(a=this.fileSizeBytes)==null?void 0:a.toString(),original_media_height:(a=this.mediaHeight)==null?void 0:a.toString(),original_media_width:(a=this.mediaWidth)==null?void 0:a.toString(),session_id:this.sessionId}};b.toIGMediaUploadErrorEventData=function(a){var b;return{connection:"None",duration_ms:(b=this.durationMs)==null?void 0:b.toString(),error_message:a,ingest_id:c("nullthrows")(this.uploadId),ingest_surface:this.ingestSurface,media_type:this.mediaType,original_file_size_bytes:(b=this.fileSizeBytes)==null?void 0:b.toString(),original_media_height:(a=this.mediaHeight)==null?void 0:a.toString(),original_media_width:(b=this.mediaWidth)==null?void 0:b.toString(),session_id:this.sessionId}};b.toIGMediaIngestEventData=function(){return{connection:"None",ingest_id:c("nullthrows")(this.uploadId),ingest_surface:this.ingestSurface,is_carousel_item:this.isCarouselItem,media_type:this.mediaType,session_id:this.sessionId}};b.toIGMediaPublishEventData=function(){var a;return{connection:"None",duration_ms:(a=this.durationMs)==null?void 0:a.toString(),file_size_bytes:(a=this.fileSizeBytes)==null?void 0:a.toString(),ingest_id:c("nullthrows")(this.uploadId),ingest_surface:this.ingestSurface,is_carousel_item:this.isCarouselItem,media_type:this.mediaType,session_id:this.sessionId}};b.toIGMediaPublishInvokeEventData=function(){return{connection:"None",ingest_surface:this.ingestSurface,is_carousel_item:this.isCarouselItem,media_type:this.mediaType,publish_id:this.sessionId,session_id:this.sessionId,target_surface:this.ingestSurface}};b.toIGMediaPublishSuccessEvent=function(){return{connection:"None",ingest_surface:this.ingestSurface,is_carousel_item:this.isCarouselItem,media_type:this.mediaType,publish_id:this.sessionId,session_id:this.sessionId,target_surface:this.ingestSurface}};b.toIGMediaPublishFailureEvent=function(){return{connection:"None",ingest_surface:this.ingestSurface,media_type:this.mediaType,session_id:this.sessionId,target_surface:this.ingestSurface}};b.toIGMediaCoverPhotoUploadEventData=function(){return{connection:"None",file_size_bytes:this.fileSizeBytes,ingest_id:c("nullthrows")(this.uploadId),ingest_surface:this.ingestSurface,media_height:this.mediaHeight,media_type:"video",media_width:this.mediaWidth,session_id:this.sessionId,target_surface:this.ingestSurface}};b.logUploadStart=function(){var a=this;c("IgMediaUploadStartFalcoEvent").log(function(){return a.toIGMediaUploadEventData()});c("IgMediaIngestStartFalcoEvent").log(function(){return a.toIGMediaIngestEventData()})};b.logUploadSuccess=function(){var a=this;c("IgMediaUploadSuccessFalcoEvent").log(function(){return a.toIGMediaUploadEventData()});this.logPublishReady()};b.logUploadFailure=function(a){var b=this;c("IgMediaUploadFailureFalcoEvent").log(function(){return b.toIGMediaUploadErrorEventData(a)})};b.logPublishInvoke=function(){var a=this;c("IgMediaPublishInvokeFalcoEvent").log(function(){return a.toIGMediaPublishInvokeEventData()})};b.logPublishReady=function(){var a=this;c("IgMediaPublishReadyFalcoEvent").log(function(){return a.toIGMediaPublishEventData()})};b.logPublishSuccess=function(){var a=this;c("IgMediaPublishSuccessFalcoEvent").log(function(){return a.toIGMediaPublishSuccessEvent()})};b.logPublishFailure=function(){var a=this;c("IgMediaPublishFailureFalcoEvent").log(function(){return a.toIGMediaPublishFailureEvent()})};b.logCoverPhotoUploadStart=function(){var a=this;c("PolarisIGVideoCoverPhotoUploadStartFalcoEvent").log(function(){return a.toIGMediaCoverPhotoUploadEventData()})};b.logCoverPhotoUploadSuccess=function(){var a=this;c("PolarisIGVideoCoverPhotoUploadSuccessFalcoEvent").log(function(){return a.toIGMediaCoverPhotoUploadEventData()})};b.logCoverPhotoUploadFailure=function(){var a=this;c("PolarisIGVideoCoverPhotoUploadFailureFalcoEvent").log(function(){return a.toIGMediaCoverPhotoUploadEventData()})};return a}();g["default"]=a}),98);
__d("polarisCanvasDrawImage",["nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.element,d=a.height;a=a.width;var e=document.createElement("canvas");e.setAttribute("width",a+"px");e.setAttribute("height",d+"px");var f=c("nullthrows")(e.getContext("2d"));f.drawImage(b,0,0,a,d);return{element:e,height:d,width:a}}g["default"]=a}),98);
__d("polarisCreateJpegFileFromCanvas",["polarisGetBlobFromCanvas"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return c("polarisGetBlobFromCanvas")(a).then(function(a){return new File([a],b,{type:"image/jpeg"})})}g["default"]=a}),98);
__d("polarisExtractVideoFrame",["polarisCanvasDrawImage"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.videoHeight,d=a.videoWidth;return c("polarisCanvasDrawImage")({element:a,height:b,width:d})}g["default"]=a}),98);
__d("polarisResolveVideoEvent",["PolarisUA","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i="loadeddata";function j(a){return a.then(function(a){return new(h||(h=b("Promise")))(function(b){window.setTimeout(function(){return b(a)},1e3)})})}function a(a,c){var e=new(h||(h=b("Promise")))(function(b){var d=function d(){a.removeEventListener(c,d),b(a)};a.addEventListener(c,d)});return c===i&&d("PolarisUA").isEdge()?j(e):e}g["default"]=a}),98);
__d("polarisSourceImageFactory",[],(function(a,b,c,d,e,f){"use strict";var g={dataURL:"",file:new Blob(),height:0,location:null,orientation:0,width:0};function a(a){a===void 0&&(a={});return babelHelpers["extends"]({},g,a)}f["default"]=a}),66);
__d("polarisCreateCoverPhoto",["PolarisCreationConstants","PolarisUA","Promise","asyncToGeneratorRuntime","polarisCanvasDrawImage","polarisCreateJpegFileFromCanvas","polarisExtractVideoFrame","polarisReadImageFile","polarisResolveVideoEvent","polarisSourceImageFactory"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return Math.round((a+Number.EPSILON)*100)/100}function j(a){return[d("PolarisCreationConstants").DEFAULT_VIDEO_COVER_TIME,i(a*.25),i(a*.5),i(a*.75),i(a-.01)]}function k(a){return new(h||(h=b("Promise")))(function(b,c){var e=document.createElement("video");e.src=a.src;d("PolarisUA").isMobileSafari()&&(e.autoplay=!0);e.onloadeddata=function(){return b(e)}})}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield k(a));a=(yield o(a,null,b));b=(yield d("polarisReadImageFile").readImageFile(a));var e=b.dataURL,f=b.height,g=b.location,h=b.orientation;b=b.width;return c("polarisSourceImageFactory")({dataURL:e,file:a,height:f,location:g,orientation:h,width:b})});return m.apply(this,arguments)}function a(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=j(a.duration);c=c.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){return l(a,b)});return function(a){return c.apply(this,arguments)}}());return(h||(h=b("Promise"))).all(c)});return n.apply(this,arguments)}function o(a,b,d){d===void 0&&(d=.01);var e=c("polarisResolveVideoEvent")(a,"timeupdate").then(function(){var d=babelHelpers["extends"]({},c("polarisExtractVideoFrame")(a),{rotationAngle:0,type:"image/jpeg"});d=b!=null?b(d):d;var e=d.element;e=e instanceof HTMLCanvasElement?e:c("polarisCanvasDrawImage")(d).element;return c("polarisCreateJpegFileFromCanvas")(e,"cover.jpg")});a.currentTime=d;return e}g.getImageIntervalsForDuration=j;g.createCoverPhoto=l;g.createCoverPhotoPlaceholdersFromVideo=a;g.createCoverPhotoFileFromVideo=o}),98);
__d("polarisResumableVideoUpload",["PolarisAPIRuploadVideo","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c,e,f,g){f===void 0&&(f=function(a,b){return!0});g===void 0&&(g={retries:10,timeBetweenRetries:3e4});g=g;var i=g.chunkSize,j=i===void 0?a.file.size:i,k=g.retries,l=g.timeBetweenRetries,m=a.file.size,n=0;function o(a){c&&c({sent:n+a.sent,successfullyAcknowledged:n,total:m})}return new(h||(h=b("Promise")))(function(c,g){var h=0;function i(){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b,p;try{n=(yield d("PolarisAPIRuploadVideo").ruploadVideoOffset(a)),b=(yield d("PolarisAPIRuploadVideo").ruploadVideo(babelHelpers["extends"]({},a,{chunkSize:j,fileByteOffset:n}),o,e)),h=0}catch(a){p=a,h++}b!=null&&n+j>=m?c(b):p!=null&&(h>=k||!f(a,p))?g(p):window.setTimeout(function(){return i()},p==null?0:l)});return p.apply(this,arguments)}i()})}g["default"]=a}),98);
__d("polarisWithExponentialBackoff",["Promise"],(function(a,b,c,d,e,f){"use strict";var g,h=64e3,i=1e3;function j(a){return a!==429&&a!==500}function k(a,c){c=c===void 0?{}:c;var d=c.currentRetryInMs,e=d===void 0?i:d;d=c.maxRetryInMs;var f=d===void 0?h:d;d=c.onStatusCode;var l=d===void 0?j:d;return a().then(function(c){return l(c.statusCode)?c:new(g||(g=b("Promise")))(function(b,c){window.setTimeout(function(){k(a,{currentRetryInMs:e*2,maxRetryInMs:f,onStatusCode:l}).then(b)["catch"](c)},e*2)})})["catch"](function(c){if(l(c.statusCode)||e>f)throw c;return new(g||(g=b("Promise")))(function(b,c){window.setTimeout(function(){k(a,{currentRetryInMs:e*2,maxRetryInMs:f,onStatusCode:l}).then(b)["catch"](c)},e*2)})})}f.MAX_RETRY_IN_MS=h;f.withExponentialBackoff=k}),66);
__d("PolarisCreationV2Actions",["InstagramODS","PolarisAPIFbUploaderPhoto","PolarisAPIRuploadPhoto","PolarisAPIRuploadVideo","PolarisCreationConstants","PolarisCreationError","PolarisCreationMediaHelpers","PolarisCreationV2ActionTypes","PolarisCreationV2State","PolarisIGTVConstants","PolarisImageFactory","PolarisUploadHelpers","PolarisUploadLogger","Promise","asyncToGeneratorRuntime","nullthrows","polarisCreateCoverPhoto","polarisReadImageFile","polarisReadVideoFile","polarisResumableVideoUpload","polarisUnexpected","polarisWithExponentialBackoff","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return{type:d("PolarisCreationV2ActionTypes").CREATION_RESET_STATE}}function e(){var a=c("uuidv4")();return{sessionId:a,type:d("PolarisCreationV2ActionTypes").CREATION_SESSION_STARTED}}function i(a){return new Array(a).fill(0).map(function(a){return d("PolarisUploadHelpers").createUploadId()})}function j(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield p(a,b));var c=new Map(),d=[],e=i(a.length);a.forEach(function(a,b){b=e[b];c.set(b,a);d.push(b)});return{mediaMap:c,mediaOrder:d}});return k.apply(this,arguments)}function f(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield j(a,b));b=a.mediaMap;a=a.mediaOrder;return{media:b,multiPostOrder:a,type:d("PolarisCreationV2ActionTypes").CREATION_SET_MEDIA}});return l.apply(this,arguments)}function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield j(a,b));b=a.mediaMap;a=a.mediaOrder;return{media:b,multiPostOrder:a,type:d("PolarisCreationV2ActionTypes").CREATION_ADD_MEDIA}});return n.apply(this,arguments)}function o(a){return{mediaId:a,type:d("PolarisCreationV2ActionTypes").CREATION_REMOVE_MEDIA}}function p(a,e){var f=[],g=a.length;a.forEach(function(a){var b=a.type,h=d("polarisReadImageFile").isImage(b),i=h?e.image:e.video,j=i.maxFileSize;i=i.minFileSize;if(a.size>j)throw d("PolarisCreationError").CreationError.maxMediaSize(a.name);if(a.size<i)throw d("PolarisCreationError").CreationError.minMediaSize(a.name);h?f.push(q(a)):d("polarisReadVideoFile").isVideo(b)?f.push(t(a,e.video,g)):c("polarisUnexpected")("Unexpected media type")});return(h||(h=b("Promise"))).all(f)}function q(a){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(d("polarisReadImageFile").isHeicImage(a.type)){var b=(yield F({blob:a,id:d("PolarisUploadHelpers").createUploadId(),sessionId:c("uuidv4")(),transcodeOnly:!0}));b=(yield d("polarisReadImageFile").readImageFile(b.transcodedBlob))}else b=(yield d("polarisReadImageFile").readImageFile(a));a={dataURL:b.dataURL,file:a,height:b.height,location:b.location,orientation:b.orientation,width:b.width};b=b.width/b.height;return{adjustmentParams:{brightness:0,contrast:0,fade:0,saturation:0,temperature:0,vignette:0},altText:null,audio:d("PolarisCreationV2State").AUDIO_STATUS.none,coverPhoto:null,croppedCanvas:null,filteredBlob:null,filteredMedia:null,filteredThumbnails:null,filters:{filterName:d("PolarisCreationConstants").INIT_FILTER_NAME,filterStrength:d("PolarisCreationConstants").INIT_FILTER_STRENGTH},id:null,image:a,originalAspectRatio:b,panningOffsetRatioX:0,panningOffsetRatioY:0,scale:1,tags:new Map(),transferProgress:null,trim:null,type:"image",uploadId:null,video:null}});return r.apply(this,arguments)}function s(a){return a.videoHeight===0||a.videoWidth===0}function t(a,b,c){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=(yield d("polarisReadVideoFile").readVideoFile(a));if(s(f)){c("InstagramODS").incr("web.creation.video_file_read_failure");throw d("PolarisCreationError").CreationError.readVideoError(new Error("Could not read video file"),a.name)}else c("InstagramODS").incr("web.creation.error.video_file_read_success");var g={dataURL:f.src,file:a,height:f.videoHeight,videoDurationMs:f.duration,width:f.videoWidth};if(f.duration>b.maxDuration)if(e>1)throw d("PolarisCreationError").CreationError.maxVideoLengthGallery(a.name);else throw d("PolarisCreationError").CreationError.maxVideoLength(a.name);else if(b.minDuration!=null&&f.duration<b.minDuration)throw d("PolarisCreationError").CreationError.minVideoLength(a.name);e=(yield d("polarisCreateCoverPhoto").createCoverPhotoPlaceholdersFromVideo(f));b=f.videoWidth/f.videoHeight;return{adjustmentParams:{brightness:0,contrast:0,fade:0,saturation:0,temperature:0,vignette:0},altText:null,audio:d("PolarisCreationV2State").AUDIO_STATUS.on,coverPhoto:{placeholders:e,selectedCoverPhoto:e[0],selectedCoverPhotoTime:d("PolarisCreationConstants").DEFAULT_VIDEO_COVER_TIME},croppedCanvas:null,filteredBlob:null,filteredMedia:null,filteredThumbnails:null,filters:{filterName:d("PolarisCreationConstants").INIT_FILTER_NAME,filterStrength:d("PolarisCreationConstants").INIT_FILTER_STRENGTH},id:null,image:null,originalAspectRatio:b,panningOffsetRatioX:0,panningOffsetRatioY:0,scale:1,tags:new Map(),transferProgress:null,trim:{end:f.duration,start:0},type:"video",uploadId:null,video:g}});return u.apply(this,arguments)}function v(a,b,c,d,e,f){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,i,j){var k=c("PolarisImageFactory").createImage();return new(h||(h=b("Promise")))(function(h){k.onload=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=c("nullthrows")(e.width),l=c("nullthrows")(e.height);b=d("PolarisCreationMediaHelpers").getCroppedWidthAndHeight(b,l,f);l=b.croppedHeight;var m=b.croppedWidth,n=b.offsetLeft;b=b.offsetTop;var o=m*g/j,p=l*i/j;l=d("PolarisCreationMediaHelpers").renderCroppedImage({imageHeight:l,imageWidth:m,offsetLeft:n-o,offsetTop:b-p,scaleFactor:j,sourceImg:k});h({croppedCanvas:l,id:a,type:d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_META})}),k.src=c("nullthrows")(e.dataURL)})});return w.apply(this,arguments)}function x(a){return y.apply(this,arguments)}function y(){y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return(h||(h=b("Promise"))).resolve({croppedCanvas:document.createElement("canvas"),id:a,type:d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_META})});return y.apply(this,arguments)}function z(a,b,c){return{end:c,id:a,start:b,type:d("PolarisCreationV2ActionTypes").CREATION_UPDATE_VIDEO_TRIM}}function A(a,b){return{adjustmentParams:b,id:a,type:d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_META}}function B(a,b,c){return{filters:{filterName:b,filterStrength:c},id:a,type:d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_META}}function C(a,b){return{filteredBlob:b,id:a,type:d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_META}}function D(a,b){return E.apply(this,arguments)}function E(){E=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){try{var e=(yield d("polarisReadImageFile").readImageFile(a));a={dataURL:e.dataURL,file:a,height:e.height,location:e.location,orientation:e.orientation,width:e.width};return{filteredMedia:a,id:c,type:d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_META}}catch(a){return(h||(h=b("Promise"))).reject(a)}});return E.apply(this,arguments)}function F(a){return G.apply(this,arguments)}function G(){G=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.blob,e=a.fallbackDimensions,f=a.id,g=a.isSidecar,h=a.reencodedBlob,i=a.sessionId,j=a.transcodeOnly,k,l;try{a=(yield d("polarisReadImageFile").readImageFile(b));k=a.height;l=a.width}catch(a){if(j!==!0)if(e)k=e.height,l=e.width;else throw a}var m=d("PolarisUploadHelpers").createUploadId(),n=c("PolarisUploadLogger").fromLoggingData({fileSizeBytes:b.size,ingestSurface:"feed",isCarouselItem:g,mediaHeight:k,mediaType:"photo",mediaWidth:l,sessionId:i,uploadId:m});try{n.logUploadStart();return yield d("polarisWithExponentialBackoff").withExponentialBackoff(function(){return d("PolarisAPIFbUploaderPhoto").fbUploaderPhoto(b,null,m,j)}).then(function(a){n.logUploadSuccess();var b=j===!0&&a.encodedFile!=null?d("PolarisCreationMediaHelpers").b64toBlob(a.encodedFile):void 0;return{id:f,transcodedBlob:b,type:d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_META,uploadId:a.upload_id}})["catch"](function(a){if(h!=null)return F({blob:h,id:f,isSidecar:g,sessionId:i,transcodeOnly:j});throw a})}catch(a){n.logUploadFailure(a.message);throw d("PolarisCreationError").CreationError.uploadError(a)}});return G.apply(this,arguments)}function H(a,b){return[(b==null?void 0:b.statusCode)===0,b==null?void 0:b.retryable,b==null?void 0:(a=b.responseObject)==null?void 0:(b=a.debug_info)==null?void 0:b.retriable].some(function(a){return a===!0})}function I(a){return J.apply(this,arguments)}function J(){J=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.id,e=a.isSidecar,f=a.onUploadProgress,g=a.sessionId,h=a.sourceCoverPhotoFile,i=a.sourceVideoFile;a=a.videoEditParams;var j=(yield d("polarisReadVideoFile").readVideoFile(i)),k=d("PolarisUploadHelpers").createUploadId(),l=e!==!0,m=l?"unified_video":"feed";try{var n=c("PolarisUploadLogger").fromLoggingData({durationMs:Math.floor(j.duration*1e3),fileSizeBytes:i.size,ingestSurface:m,isCarouselItem:e,mediaHeight:j.videoHeight,mediaType:"video",mediaWidth:j.videoWidth,sessionId:g,uploadId:k}),o={entityName:"fb_uploader_"+k,file:new File([i],"video_"+k),isIgtvVideo:l,isSidecar:e,isUnifiedVideo:l,uploadId:k,uploadMediaDurationMs:Math.floor(j.duration*1e3),uploadMediaHeight:j.videoHeight,uploadMediaWidth:j.videoWidth};a!=null&&(o.videoEditParams=a);var p=c("PolarisUploadLogger").fromLoggingData({fileSizeBytes:h.size,ingestSurface:m,mediaHeight:(i=a==null?void 0:a.crop_height)!=null?i:j.videoHeight,mediaType:"video",mediaWidth:(e=a==null?void 0:a.crop_width)!=null?e:j.videoWidth,sessionId:g,uploadId:k}),q={entityName:"fb_uploader_"+k,file:h,uploadId:k,uploadMediaHeight:j.videoHeight,uploadMediaWidth:j.videoWidth};n.logUploadStart();if(l){m=function(a){};try{yield c("polarisResumableVideoUpload")(o,f,m,H,{chunkSize:d("PolarisIGTVConstants").UPLOAD_CHUNK_SIZE,retries:d("PolarisIGTVConstants").UPLOAD_RETRY_COUNT,timeBetweenRetries:d("PolarisIGTVConstants").UPLOAD_RETRY_TIMEOUT_MS}),n.logUploadSuccess()}catch(a){n.logUploadFailure(a.message);throw a}}else yield d("polarisWithExponentialBackoff").withExponentialBackoff(function(){return d("PolarisAPIRuploadVideo").ruploadVideo(o)}).then(function(){return n.logUploadSuccess()})["catch"](function(a){n.logUploadFailure(a.message);throw a});p.logCoverPhotoUploadStart();yield d("polarisWithExponentialBackoff").withExponentialBackoff(function(){return d("PolarisAPIRuploadPhoto").ruploadPhoto(q)}).then(function(){return p.logCoverPhotoUploadSuccess()})["catch"](function(a){p.logCoverPhotoUploadFailure();throw a});return{id:b,type:d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_META,uploadId:k}}catch(a){throw d("PolarisCreationError").CreationError.uploadError(a)}});return J.apply(this,arguments)}function K(a,b){return{id:a,transferProgress:b,type:d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_META}}function L(a){return a.mozHasAudio===!0||a.webkitAudioDecodedByteCount!=null&&a.webkitAudioDecodedByteCount>0||a.audioTracks&&a.audioTracks.length>0}function M(a,b){a=L(a);return!a?{audio:d("PolarisCreationV2State").AUDIO_STATUS.none,id:b,type:d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_META}:null}function N(a){return{errorMessage:a,type:d("PolarisCreationV2ActionTypes").CREATION_SET_ERROR_MESSAGE}}g.creationReset=a;g.creationSessionStarted=e;g.creationSelectMedia=f;g.creationAddMedia=m;g.creationRemoveMedia=o;g.transformSourceMedias=p;g.transformImageMedia=q;g.transformVideoMedia=t;g.createCroppedPhoto=v;g.createCroppedVideo=x;g.createTrimmedVideo=z;g.setAdjustment=A;g.setFilter=B;g.setFilteredBlob=C;g.setFilteredMedia=D;g.stagePhoto=F;g.stageVideo=I;g.uploadProgressed=K;g.verifyAudioTracks=M;g.creationSetErrorMessage=N}),98);
__d("usePolarisCreationSelectMedia",["PolarisCreationCameraLogger","PolarisCreationConstants","PolarisCreationError","PolarisCreationStepProvider.react","PolarisCreationTypes","PolarisCreationV2Actions","PolarisHasFeedCreationV2Dogfooding","PolarisMediaHelpers","Promise","asyncToGeneratorRuntime","usePolarisCreationDispatch","usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){if(Object.prototype.hasOwnProperty.call(d("PolarisCreationTypes").CREATION_MIME_TYPES,a==null?void 0:a.type))return!0;throw d("PolarisCreationError").CreationError.unsupportedFileError(a.name)}function j(a){return d("PolarisMediaHelpers").isImageMIMEType(a[0])?d("PolarisCreationCameraLogger").InstagramCameraMediaTypes.PHOTO:d("PolarisCreationCameraLogger").InstagramCameraMediaTypes.VIDEO}function k(a,b){a=a+b.length;return{image:{maxFileSize:d("PolarisCreationConstants").MAX_FILE_SIZE,minFileSize:d("PolarisCreationConstants").MIN_FILE_SIZE},video:{maxDuration:a===1?d("PolarisCreationConstants").MAX_VIDEO_LENGTH_DOVETAIL_S:d("PolarisCreationConstants").MAX_VIDEO_LENGTH_S,maxFileSize:a===1?d("PolarisCreationConstants").MAX_FILE_SIZE_DOVETAIL:d("PolarisCreationConstants").MAX_FILE_SIZE,minDuration:d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()?d("PolarisCreationConstants").MIN_VIDEO_LENGTH_S:void 0,minFileSize:d("PolarisCreationConstants").MIN_FILE_SIZE}}}function a(){var a=d("usePolarisCreationState").useCreationState(),c=d("usePolarisCreationDispatch").useCreationDispatch(),e=function(b){b=Array.from(b).filter(function(a){return i(a)});var c=d("PolarisCreationConstants").MAX_NUM_MEDIA-a.multiPostOrder.length;return b.slice(0,c)},f=function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(f){var g=e(f);if(g.length>0){var i=j(g);d("PolarisCreationCameraLogger").logFeedCreationFeedGallerySelectMedia({mediaType:i,sessionId:a.sessionId});g.length>1&&d("PolarisCreationCameraLogger").logFeedCreationFeedGallerySelectMultiple({sessionId:a.sessionId});i=(yield d("PolarisCreationV2Actions").creationSelectMedia(g,k(a.multiPostOrder.length,g)));c(i);if(g.length!==f.length)throw d("PolarisCreationError").CreationError.maxMediaAdded(f.length-g.length)}else return(h||(h=b("Promise"))).reject(new Error("no media files to select"))});return function(a){return f.apply(this,arguments)}}(),g=function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(f){var g=e(f);if(g.length>0){var i=j(g);d("PolarisCreationCameraLogger").logFeedCreationFeedGallerySelectMedia({mediaType:i,sessionId:a.sessionId});a.multiPostOrder.length===1&&d("PolarisCreationCameraLogger").logFeedCreationFeedGallerySelectMultiple({sessionId:a.sessionId});i=(yield d("PolarisCreationV2Actions").creationAddMedia(g,k(a.multiPostOrder.length,g)));c(i);if(g.length!==f.length)throw d("PolarisCreationError").CreationError.maxMediaAdded(f.length-g.length)}else return(h||(h=b("Promise"))).reject(new Error("no media files to add"))});return function(a){return f.apply(this,arguments)}}(),l=d("PolarisCreationStepProvider.react").useCreationStep(),m=l.handleStartOver;l=function(b){var e=a.multiPostOrder.indexOf(b);if(e!==-1){a.multiPostOrder.length<=1&&m();e=d("PolarisCreationV2Actions").creationRemoveMedia(b);return c(e)}};var n=function(){var a=d("PolarisCreationV2Actions").creationReset();return c(a)};return{addMediaFiles:g,clearAllMedia:n,removeMedia:l,selectMediaFiles:f}}g["default"]=a}),98);
__d("usePolarisCreationToast",["PolarisCreationV2Actions","usePolarisCreationDispatch"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("usePolarisCreationDispatch").useCreationDispatch(),b=function(b){b=d("PolarisCreationV2Actions").creationSetErrorMessage(b);return a(b)},c=function(){var b=d("PolarisCreationV2Actions").creationSetErrorMessage(null);return a(b)};return{clearToast:c,setErrorMessage:b}}g["default"]=a}),98);
__d("PolarisCreationAddMediaThumbnail.react",["cx","fbt","IGDSAddOutline24Icon","IGDSBox.react","PolarisCreationCameraLogger","PolarisCreationConstants","PolarisCreationError","PolarisCreationErrorHelpers","PolarisCreationTypes","PolarisIGCorePressable","PolarisImageFileForm.react","asyncToGeneratorRuntime","react","usePolarisCreationSelectMedia","usePolarisCreationState","usePolarisCreationToast"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useRef;function m(a){var b=!1;a=a.values();for(a of a)b=b||a.type==="video"&&a.video!=null&&a.video.videoDurationMs>d("PolarisCreationConstants").MAX_VIDEO_LENGTH_GALLERY_S;return!b}function a(){var a=d("usePolarisCreationState").useCreationState();a=a.media;return m(a)?k.jsx(n,{}):k.jsx(o,{})}a.displayName=a.name+" [from "+f.id+"]";function n(){var a=l(null),e=d("usePolarisCreationState").useCreationState(),f=e.sessionId;e=c("usePolarisCreationToast")();var g=e.setErrorMessage;e=function(){d("PolarisCreationCameraLogger").logFeedCreationCameraStartGallerySession({sessionId:f});var b=a==null?void 0:a.current;b!=null&&b.selectFile()};var h=c("usePolarisCreationSelectMedia")(),i=h.addMediaFiles;h=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{yield i(a),d("PolarisCreationCameraLogger").logFeedCreationCameraEndGallerySession({sessionId:f})}catch(b){if(b instanceof d("PolarisCreationError").CreationError){a=d("PolarisCreationErrorHelpers").getCreationErrorToastForError(b);a!=null&&g(a.message)}else throw b}});return function(b){return a.apply(this,arguments)}}();return k.jsxs(k.Fragment,{children:[k.jsx(p,{onPress:e}),k.jsx(d("PolarisImageFileForm.react").ImageFileForm,{acceptMimeTypes:Object.keys(d("PolarisCreationTypes").CREATION_MIME_TYPES),capture:!1,multiple:!0,onFileChange:h,ref:a})]})}n.displayName=n.name+" [from "+f.id+"]";function o(){var a=c("usePolarisCreationToast")(),b=a.setErrorMessage;a=function(){var a=d("PolarisCreationErrorHelpers").getCreationErrorToastForError(d("PolarisCreationError").CreationError.maxVideoLengthGallery());a!=null&&b(a.message)};return k.jsx(p,{onPress:a})}o.displayName=o.name+" [from "+f.id+"]";function p(a){a=a.onPress;return k.jsx(c("PolarisIGCorePressable"),{className:"_aaef",onPress:a,children:k.jsx(c("IGDSBox.react"),{alignItems:"center",height:"100%",justifyContent:"center",position:"relative",width:"100%",children:k.jsx(c("IGDSAddOutline24Icon"),{alt:i._("__JHASH__O5KKwfu0DYS__JHASH__"),color:"ig-secondary-text",size:22})})})}p.displayName=p.name+" [from "+f.id+"]";g.canAddMoreMedia=m;g.CreationAddMediaThumbnail=a}),98);
__d("usePolarisObjectState",["react","shallowEqual"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useRef,j=b.useState;function a(a,b){b===void 0&&(b=c("shallowEqual"));a=j(a);var d=a[0],e=a[1],f=i(d);a=i(function(a){a=typeof a==="function"?a(f.current):a;b(f.current,a)||(e(a),f.current=a)});return[d,a.current]}g["default"]=a}),98);
__d("usePolarisCreationMediaPreview",["PolarisCreationMediaHelpers","nullthrows","react","usePolarisObjectState"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useLayoutEffect,j=b.useState;function a(a,b){var e=j(null),f=e[0];e=e[1];var g=c("usePolarisObjectState")({height:"100%",width:"100%"}),h=g[0],k=g[1];g=c("nullthrows")(a.type==="image"?a.image:a.video);var l=g.height;g=g.width;b=d("PolarisCreationMediaHelpers").getCroppedHeightAndWidthScaledDimensions(l,g,b,f);var m=b.croppedHeightScaled,n=b.croppedWidthScaled;b=d("PolarisCreationMediaHelpers").getCroppedHeightAndWidthScaledDimensions(g,l,a.originalAspectRatio,f);var o=b.croppedHeightScaled,p=b.croppedWidthScaled;i(function(){var a=d("PolarisCreationMediaHelpers").getScaledOriginalMediaDimensions(o,p,m,n),b=a.height;a=a.width;k({height:b+"px",width:a+"px"})},[o,p,k,m,n]);return{croppedHeightScaled:m,croppedWidthScaled:n,frameEl:f,mediaDimensions:h,setFrameEl:e}}g["default"]=a}),98);
__d("PolarisCreationMediaPreviewThumbnail.react",["cx","IGDSBox.react","PolarisCreationMediaHelpers","react","usePolarisCreationMediaPreview"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.aspectRatio,e=a.media,f=a.showOverlay;a.size;a=a.src;b=d("PolarisCreationMediaHelpers").transformPanningOffsetsForRatios(b,e.panningOffsetRatioX,e.panningOffsetRatioY);var g=b.transformedOffsetX;b=b.transformedOffsetY;var h=c("usePolarisCreationMediaPreview")(e,1),i=h.croppedHeightScaled,k=h.croppedWidthScaled,l=h.mediaDimensions;h=h.setFrameEl;g=g*k;k=b*i;b=f?.5:0;i={height:l.height,transform:"translateX("+g+"px) translateY("+k+"px) scale("+e.scale,transition:"none",width:l.width};return j.jsx(c("IGDSBox.react"),{alignItems:"center",containerRef:h,height:"100%",justifyContent:"center",overflow:"hidden",position:"relative",width:"100%",children:j.jsx("div",{className:"_abgj",style:babelHelpers["extends"]({backgroundImage:"\n            linear-gradient(rgba(0, 0, 0, "+b+"), rgba(0, 0, 0, "+b+")),\n            url("+a+")\n          "},i,l)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisIGCoreChevronLeftPanoOutlineIcon",["PolarisIGCoreSVGIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:i.jsx("polyline",{fill:"none",points:"16.502 3 7.498 12 16.502 21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})}))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("PolarisIGCoreChevronRightPanoOutlineIcon",["PolarisIGCoreSVGIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:i.jsx("polyline",{fill:"none",points:"8 3 17.004 12 8 21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})}))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("PolarisCreationMediaPreviewCarouselButtons.react",["cx","Locale","PolarisCreationMediaButton.react","PolarisCreationV2ActionTypes","PolarisGenericStrings","PolarisHasFeedCreationV2Dogfooding","PolarisIGCoreChevronLeftPanoOutlineIcon","PolarisIGCoreChevronRightPanoOutlineIcon","PolarisStepIndicator.react","react","usePolarisCreationCurrentMedia","usePolarisCreationDispatch","usePolarisCreationState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=d("usePolarisCreationDispatch").useCreationDispatch(),b=c("usePolarisCreationCurrentMedia")();b=b.currentMediaId;var e=d("usePolarisCreationState").useCreationState(),f=e.multiPostOrder;if(f.length>1&&d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()){var g=f.indexOf(b);e=g>0;b=g<f.length-1;var h=c("Locale").isRTL(),i=h?c("PolarisIGCoreChevronRightPanoOutlineIcon"):c("PolarisIGCoreChevronLeftPanoOutlineIcon");h=h?c("PolarisIGCoreChevronLeftPanoOutlineIcon"):c("PolarisIGCoreChevronRightPanoOutlineIcon");return j.jsxs("span",{className:"_abfv",children:[e&&j.jsx("div",{className:"_amho",children:j.jsx(c("PolarisCreationMediaButton.react"),{altText:d("PolarisGenericStrings").LEFT_CHEVRON,icon:i,onClick:function(){a({id:f[g-1],type:d("PolarisCreationV2ActionTypes").CREATION_SET_CURRENT_ID})},selected:!1})}),b&&j.jsx("div",{className:"_amhp",children:j.jsx(c("PolarisCreationMediaButton.react"),{altText:d("PolarisGenericStrings").RIGHT_CHEVRON,icon:h,onClick:function(){a({id:f[g+1],type:d("PolarisCreationV2ActionTypes").CREATION_SET_CURRENT_ID})},selected:!1})}),j.jsx("div",{className:"_abfy",children:j.jsx(c("PolarisStepIndicator.react"),{numSteps:f.length,selectedStep:g})})]})}return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFilteredCanvas.react",["cx","PolarisCreationMediaPreviewCarouselButtons.react","PolarisFilterGLContext","PolarisHasFeedCreationV2Dogfooding","PolarisMediaDimensionHelpers","PolarisResponsiveBlock.react","nullthrows","polarisWithForwardRef","react","usePolarisObjectState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef;function a(a){var b=a.adjustmentParams,e=a.filter,f=a.filterStrength,g=a.fixedSquare,h=g===void 0?!1:g,i=a.forwardedRef,m=a.src;g=c("usePolarisObjectState")({height:0,width:0});a=g[0];var n=g[1];g=c("usePolarisObjectState")({height:m.height,width:m.width});var o=g[0],p=g[1];g=c("usePolarisObjectState")({height:0,width:0});var q=g[0],r=g[1],s=l();k(function(){var a;s.current=new(c("PolarisFilterGLContext"))(c("nullthrows")(i.current));(a=s.current)==null?void 0:a.init();return function(){var a;(a=s.current)==null?void 0:a.stopDraw()}},[i,s]);k(function(){var a;if(((a=s.current)==null?void 0:a.activeFilterName)!==e){(a=s.current)==null?void 0:a.setFilter(e)}Object.keys(b).map(function(a){var c;(c=s.current)==null?void 0:c.setParam(a,b[a]/100)})},[s,e,b]);k(function(){var a;(a=s.current)==null?void 0:a.setParam("filterStrength",f)},[s,f]);k(function(){var a;(a=s.current)==null?void 0:a.setImage(m).then(function(a){a[0];a=a[1];p({height:a.height,width:a.width})})},[s,p,m]);k(function(){if(h)n({height:"100%",width:"100%"});else{var a=d("PolarisMediaDimensionHelpers").getDimensionsToStretchFit(o.height,o.width,q.height,q.width);n(a)}},[o,q,n,h]);k(function(){var a;(a=s.current)==null?void 0:a.startDraw()},[s,e,f,b,m]);function t(a,b){r({height:b,width:a})}g=function(){return d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()?j.jsx(c("PolarisCreationMediaPreviewCarouselButtons.react"),{}):null};return j.jsxs(c("PolarisResponsiveBlock.react"),{className:"_abm6",onResize:t,children:[g(),j.jsx("canvas",{className:h?"_abm7":"",height:m.height,ref:i,style:{height:a.height,width:a.width},width:m.width})]})}a.displayName=a.name+" [from "+f.id+"]";e=c("polarisWithForwardRef")(a);g["default"]=e}),98);
__d("PolarisCreationThumbnail.react",["cx","IGDSBox.react","IGDSPlayPanoFilledIcon","PolarisCreationMediaPreviewThumbnail.react","PolarisCreationStepProvider.react","PolarisCreationTypes","PolarisFilteredCanvas.react","PolarisGenericStrings","nullthrows","react","usePolarisCreationCurrentMedia","usePolarisCreationMedia","usePolarisCreationState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useRef;function a(a){var b=a.id,e=a.size,f=k(null);a=d("PolarisCreationStepProvider.react").useCreationStep();var g=a.step,h=d("usePolarisCreationState").useCreationState();a=c("usePolarisCreationCurrentMedia")();var i=a.currentMediaId;a=d("usePolarisCreationMedia").useCreationMedia(b);var l=a.adjustmentParams,m=a.filterName,n=a.filterStrength,o=a.media,p=a.mediaItem,q=a.mediaItemType;if(o==null||p==null)return null;a=function(a){if(q==="video"){var k;return j.jsx(c("PolarisCreationMediaPreviewThumbnail.react"),{aspectRatio:(k=h.cropRatio)!=null?k:1,media:o,showOverlay:!a,size:e,src:(k=o==null?void 0:(k=o.coverPhoto)==null?void 0:(k=k.selectedCoverPhoto)==null?void 0:k.dataURL)!=null?k:""})}switch(g){case d("PolarisCreationTypes").STEP.crop:return j.jsx(c("PolarisCreationMediaPreviewThumbnail.react"),{aspectRatio:(k=h.cropRatio)!=null?k:o.originalAspectRatio,media:o,showOverlay:!a,size:e,src:p.dataURL});default:return i===b?j.jsx("div",{className:"_aabg",children:j.jsx(c("PolarisFilteredCanvas.react"),{adjustmentParams:l,filter:m,filterStrength:n/100,fixedSquare:!0,ref:f,src:c("nullthrows")(o.croppedCanvas)},c("nullthrows")(p.dataURL))}):j.jsx(c("PolarisCreationMediaPreviewThumbnail.react"),{aspectRatio:(k=h.cropRatio)!=null?k:o.originalAspectRatio,media:o,showOverlay:!a,size:e,src:p.dataURL})}};return j.jsxs(j.Fragment,{children:[a(i===b),q==="video"&&i!==b&&j.jsx(c("IGDSBox.react"),{alignItems:"center",height:e,justifyContent:"center",position:"absolute",width:e,children:j.jsx(c("IGDSPlayPanoFilledIcon"),{alt:d("PolarisGenericStrings").PLAY_BUTTON_ALT,color:"ig-separator",shadow:!0,size:16})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisHDragSort",["Locale","clamp","react","react-spring-wwwig","react-use-gesture"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useLayoutEffect,j=b.useRef;function k(a,b,c){a=[].concat(a);a.splice(c,0,a.splice(b,1)[0]);return a}var l={clamp:!0,friction:26,mass:1,precision:.01,tension:170,velocity:0};function m(a,b,c,d){return function(e){e=a.indexOf(e)*b;d&&(e*=-1);return{config:l,immediate:c,scale:1,shadow:0,x:e,zIndex:0}}}function n(a,b,c,d,e,f,g){f===void 0&&(f=0);g===void 0&&(g=0);return function(h){return d===!0&&h===e?{config:l,immediate:function(a){return a==="x"||a==="zIndex"},scale:1.2,shadow:20,x:(c?-1:1)*f*b+g,zIndex:1}:m(a,b,!1,c)(h)}}function o(a,b,c){return function(d){return m(a,b,!0,c)(d)}}function p(a,b,d,e,f){f=c("clamp")(Math.round((a*d+(f?-1:1)*e)/d),0,b.current.length-1);return k(b.current,a,f)}function a(a,b,c,e,f){var g=j([]),h=j([]);if(a.length!==g.current.length||a.length!==h.current.length){g.current=a;h.current=(a=g.current.map(function(a,b){return b}))!=null?a:[]}var k=d("Locale").isRTL();a=d("react-spring-wwwig").useSprings(g.current.length,o(h.current,b,k),[h.current]);var l=a[0],m=a[1];a=d("react-use-gesture").useDrag(function(a){var d=a.args;d=d[0];var i=a.active;a=a.movement;a=a[0];e!=null&&e();var j=h.current.indexOf(d),l=p(j,h,b,a,k);m(n(l,b,k,i,d,j,a));if(!i){f!=null&&f();d=h.current.join()===l.join();if(d)return;h.current=l;var o=g.current;if(c!=null&&o!=null){j=h.current.map(function(a){return o[a]});c(j)}}},{delay:100});i(function(){m(n(h.current,b,k))},[k,b,m]);return{bindDrag:a,itemsRef:g,orderRef:h,springs:l}}g.moveItem=k;g.buildSpringStyles=n;g.getNewOrder=p;g.useHDragSort=a}),98);
__d("PolarisCreationThumbnailBar.react",["CometPressable.react","IGDSBox.react","PolarisCreationAddMediaThumbnail.react","PolarisCreationConstants","PolarisCreationMediaButton.react","PolarisCreationStepProvider.react","PolarisCreationThumbnail.react","PolarisCreationTypes","PolarisCreationV2ActionTypes","PolarisCreationV2Strings","PolarisDisappearingTooltip.react","PolarisGenericStrings","PolarisHSnapScroll.react","PolarisIGAnimate","PolarisIGCoreConstants","PolarisIGCoreXPanoOutlineIcon","react","stylex","usePolarisCreationDispatch","usePolarisCreationModalSize","usePolarisCreationState","usePolarisHDragSort"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useState;function l(){var a=c("usePolarisCreationModalSize")();return a==="small"?34:44}var m=12,n=500,o={addButton:{height:"x5yr21d",marginTop:"xdj266r",marginEnd:"xw3qccf",marginBottom:"xat24cr",marginStart:"x1mnrxsn",width:"x14atkfc",$$css:!0},deleteIcon:{end:"x4r51d9",height:"x1fgtraw",position:"x10l6tqk",top:"x13vifvy",width:"xgd8bvy",zIndex:"x1vjfegm",$$css:!0},deleteIconContainer:{alignItems:"x6s0dn4",display:"x78zum5",height:"x1fgtraw",justifyContent:"xl56j7k",position:"x1n2onr6",width:"xgd8bvy",$$css:!0},largeThumbnail:{height:"xyk13k4",width:"x24u15m",$$css:!0},thumbnail:{height:"xn3w4p2",marginTop:"xdj266r",marginEnd:"x1w0mnb",marginBottom:"xat24cr",marginStart:"x1mnrxsn",touchAction:"x5ve5x3",width:"x187nhsf",$$css:!0}};function a(a){var b=a.setShowDeleteDialog;a=a.size;var e=a===void 0?"default":a;a=k(!1);var f=a[0],g=a[1],i=d("usePolarisCreationState").useCreationState();a=d("PolarisCreationStepProvider.react").useCreationStep();var p=a.step,q=d("usePolarisCreationDispatch").useCreationDispatch();a=l();var r=e==="default"?a:94,s=function(){g(!1)};a=function(a){s(),q({multiPostOrder:a,type:d("PolarisCreationV2ActionTypes").CREATION_SET_MULTI_POST_ORDER})};var t=function(){f===!1&&g(!0),i.hasViewedReorderTooltip===!1&&q({hasViewedReorderTooltip:!0,type:d("PolarisCreationV2ActionTypes").CREATION_SET_VIEWED_REORDER_TOOLTIP})};a=d("usePolarisHDragSort").useHDragSort(i.multiPostOrder,r+m,a,t,s);var u=a.bindDrag,v=a.itemsRef;t=a.orderRef;a=a.springs;var w=function(){q({hasViewedReorderTooltip:!0,type:d("PolarisCreationV2ActionTypes").CREATION_SET_VIEWED_REORDER_TOOLTIP})},x=a.map(function(a,g){var k=a.scale,l=a.shadow,m=a.x;a=a.zIndex;var n=i.currentMediaId===v.current[g];return j.createElement(d("PolarisIGAnimate").Animated.div,babelHelpers["extends"]({},p===d("PolarisCreationTypes").STEP.crop&&i.multiPostOrder.length>1?u(g):{},{key:v.current[g],style:{position:"absolute",x:m,zIndex:a}}),f===!1&&n===!0&&b!=null&&j.jsx(c("CometPressable.react"),{onPress:function(){return b(!0)},overlayDisabled:!0,role:"button",xstyle:o.deleteIcon,children:j.jsx("div",{className:"x6s0dn4 x78zum5 x1fgtraw xl56j7k x1n2onr6 xgd8bvy",children:j.jsx(c("PolarisCreationMediaButton.react"),{altText:d("PolarisGenericStrings").DELETE_TEXT,icon:c("PolarisIGCoreXPanoOutlineIcon"),onClick:function(){return b(!0)},selected:!1,size:"small"})})}),j.jsx(c("CometPressable.react"),{onPress:function(){n||q({id:v.current[g],type:d("PolarisCreationV2ActionTypes").CREATION_SET_CURRENT_ID})},overlayDisabled:!0,children:j.jsx(d("PolarisIGAnimate").Animated.div,{className:(h||(h=c("stylex")))([o.thumbnail,e==="large"&&o.largeThumbnail]),style:{boxShadow:l.to(function(a){return"rgba(0, 0, 0, "+a+"%) 0px 2px 6px 2px"}),scale:k},children:j.jsx(c("PolarisCreationThumbnail.react"),{id:v.current[g],size:r})})},v.current[g]))});t=j.jsxs(c("IGDSBox.react"),{direction:"row",display:"flex",maxWidth:"100%",position:"relative",children:[j.jsx(c("IGDSBox.react"),{flex:"grow",height:r,position:"relative",width:(r+m)*t.current.length,children:j.jsx(c("PolarisHSnapScroll.react"),{animationDuration:n,disableScrollSnap:!0,enableMouseSwipe:!1,itemCount:a.length,itemWidth:r+m,pagerDisabled:{next:f,previous:f},pagerVariant:"creation",children:x})}),p===d("PolarisCreationTypes").STEP.crop&&i.multiPostOrder.length<d("PolarisCreationConstants").MAX_NUM_MEDIA&&j.jsx("div",{className:"x5ve5x3 x5yr21d xdj266r xw3qccf xat24cr x1mnrxsn x14atkfc",children:j.jsx(d("PolarisCreationAddMediaThumbnail.react").CreationAddMediaThumbnail,{})})]});return p===d("PolarisCreationTypes").STEP.crop&&i.multiPostOrder.length<d("PolarisCreationConstants").MAX_NUM_MEDIA&&i.hasViewedReorderTooltip!==!0?j.jsx(c("PolarisDisappearingTooltip.react"),{autoHideAfter:c("PolarisIGCoreConstants").TOOLTIP.AUTO_HIDE_MS,color:"black",disableTooltipHideOnDismount:!0,onTooltipHide:w,position:e==="large"?"above":"below",tooltip:d("PolarisCreationV2Strings").REORDER_TOOLTIP,children:t}):t}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisIGCoreCarouselPanoOutlineIcon",["PolarisIGCoreSVGIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:i.jsx("path",{d:"M19 15V5a4.004 4.004 0 0 0-4-4H5a4.004 4.004 0 0 0-4 4v10a4.004 4.004 0 0 0 4 4h10a4.004 4.004 0 0 0 4-4ZM3 15V5a2.002 2.002 0 0 1 2-2h10a2.002 2.002 0 0 1 2 2v10a2.002 2.002 0 0 1-2 2H5a2.002 2.002 0 0 1-2-2Zm18.862-8.773A.501.501 0 0 0 21 6.57v8.431a6 6 0 0 1-6 6H6.58a.504.504 0 0 0-.35.863A3.944 3.944 0 0 0 9 23h6a8 8 0 0 0 8-8V9a3.95 3.95 0 0 0-1.138-2.773Z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("PolarisCreationGalleryMediaButton.react",["IGDSBox.react","PolarisCreationMediaPopoverButton.react","PolarisCreationThumbnailBar.react","PolarisCreationV2Strings","PolarisIGCoreCarouselPanoOutlineIcon","react","usePolarisCreationMediaPopoverContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=94,k=12;function a(a){a=a.setShowDeleteDialog;var b=d("usePolarisCreationMediaPopoverContext").useCreationMediaPopoverContext(),e=b.openedPopover,f=b.setOpenedPopover,g=e===d("usePolarisCreationMediaPopoverContext").CreationMediaPopoverView.GALLERY;b=function(){f(g?null:d("usePolarisCreationMediaPopoverContext").CreationMediaPopoverView.GALLERY)};e=e!=null&&e!==d("usePolarisCreationMediaPopoverContext").CreationMediaPopoverView.GALLERY;return i.jsx(c("IGDSBox.react"),{alignItems:"end",direction:"column",position:"relative",width:"100%",children:i.jsx(c("PolarisCreationMediaPopoverButton.react"),{altText:d("PolarisCreationV2Strings").GALLERY_ALT_TEXT,disabled:e,expanded:g,icon:c("PolarisIGCoreCarouselPanoOutlineIcon"),togglePopover:b,children:i.jsx(c("IGDSBox.react"),{alignItems:"start",height:j+2*k,justifyContent:"center",padding:2,position:"relative",children:i.jsx(c("PolarisCreationThumbnailBar.react"),{setShowDeleteDialog:a,size:"large"})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationMediaDiscardDialog.react",["IGCoreDialog","PolarisCreationV2Strings","PolarisGenericStrings","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.mediaType,c=a.onModalClose,e=a.onRemoveMedia;return i.jsxs(d("IGCoreDialog").IGCoreDialog,{body:b==="image"?d("PolarisCreationV2Strings").DISCARD_PHOTO_BODY:d("PolarisCreationV2Strings").DISCARD_VIDEO_BODY,onModalClose:c,title:b==="image"?d("PolarisCreationV2Strings").DISCARD_PHOTO_TITLE:d("PolarisCreationV2Strings").DISCARD_VIDEO_TITLE,children:[i.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:"ig-error-or-destructive",onClick:function(){e(),c()},children:d("PolarisCreationV2Strings").DISCARD_CTA_TEXT}),i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:c,children:d("PolarisGenericStrings").CANCEL_TEXT})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationSlider.react",["cx","IGDSBox.react","PolarisIGCoreText","PolarisUA","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useLayoutEffect,l=b.useState;function m(a,b,c,d){var e=d?"rgb(0, 0, 0)":"rgb(219, 219, 219)";d=d?"rgb(255, 255, 255)":"rgb(38, 38, 38)";if(a){a=c/2;return b<a?"linear-gradient(\n      to right,\n      "+e+" 0%,\n      "+e+" "+b+"%,\n      "+d+" "+b+"%,\n      "+d+" 50%,\n      "+e+" 50%,\n      "+e+" 100%\n    )":"linear-gradient(\n      to right,\n      "+e+" 0%,\n      "+e+" 50%,\n      "+d+" 50%,\n      "+d+" "+b+"%,\n      "+e+" "+b+"%,\n      "+e+" 100%\n    )"}return"linear-gradient(\n    to right,\n    "+d+" 0%,\n    "+d+" "+b+"%,\n    "+e+" "+b+"%,\n    "+e+" 100%\n  )"}function n(a,b,c,d){d===void 0&&(d=!1);var e=(parseInt(c.value,10)-parseInt(c.min,10))/(parseInt(c.max,10)-parseInt(c.min,10))*100;c.style.backgroundImage=m(a,e,b,d)}function a(a){var b=a.centerBased,e=b===void 0?!1:b;b=a.color;var f=b===void 0?"default":b;b=a.disabled;b=b===void 0?!1:b;var g=a.initialValue,h=a.maxValue,i=h===void 0?100:h;h=a.minValue;h=h===void 0?0:h;var m=a.onChange,o=a.onSetValue,p=a.showValue;a=a.size;a=a===void 0?"default":a;var q=l(g),r=q[0],s=q[1];q=l(null);var t=q[0];q=q[1];var u=l(!1),v=u[0],w=u[1];k(function(){s(g)},[g]);k(function(){t&&n(e,i,t,f==="dark")},[e,f,t,i,r]);u=function(a){s(a.target.value),m(Number(a.target.value))};var x=function(a){s(a.target.value),o&&o(Number(a.target.value))},y=function(){w(!0)},z=function(a){w(!1),x(a)};return j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"center",position:"relative",width:"100%",children:[j.jsx(c("IGDSBox.react"),{flex:"grow",position:"relative",children:j.jsx("input",{className:"_ac2y"+(a==="default"?" _ac2z":"")+(a==="small"?" _ac2-":"")+(f==="dark"?" _ac2_":"")+(b?" _ac30":""),dir:"ltr",disabled:b,max:i,min:h,onChange:u,onInput:function(a){a=a.target;return n(e,i,a)},onMouseDown:y,onMouseUp:z,onTouchEnd:z,onTouchStart:y,readOnly:!d("PolarisUA").isMobileSafari(),ref:q,type:"range",value:r})}),p&&j.jsx(c("IGDSBox.react"),{marginStart:2,position:"relative",width:24,children:j.jsx(c("PolarisIGCoreText"),{color:Number(r)!==0?"ig-primary-text":"ig-secondary-text",size:"footnote",textAlign:"right",weight:v?"semibold":"normal",children:r})})]})}a.displayName=a.name+" [from "+f.id+"]";g.updateBackgroundFill=n;g.CreationSlider=a}),98);
__d("PolarisCreationZoomSlider.react",["cx","PolarisCreationSlider.react","PolarisCreationV2ActionTypes","react","usePolarisCreationDispatch"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=2;function l(a){return(a-1)/(k-1)*100}function m(a){return 1+a/100*(k-1)}function a(a){var b=a.id,c=a.onChange;a=a.scale;var e=d("usePolarisCreationDispatch").useCreationDispatch();return j.jsx("div",{className:"_abm5",children:j.jsx(d("PolarisCreationSlider.react").CreationSlider,{color:"dark",initialValue:l(a),onChange:function(a){return c(m(a))},onSetValue:function(a){e({id:b,scale:m(a),type:d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_META})},showValue:!1,size:"small"})})}a.displayName=a.name+" [from "+f.id+"]";g.SLIDER_ZOOM_VALUE=k;g.scaleToSlider=l;g.sliderToScale=m;g.CreationZoomSlider=a}),98);
__d("PolarisIGCoreZoomPanoOutlineIcon",["PolarisIGCoreSVGIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:i.jsx("path",{d:"m22.707 21.293-4.825-4.825a9.519 9.519 0 1 0-1.414 1.414l4.825 4.825a1 1 0 0 0 1.414-1.414ZM10.5 18.001a7.5 7.5 0 1 1 7.5-7.5 7.509 7.509 0 0 1-7.5 7.5Zm3.5-8.5h-2.5v-2.5a1 1 0 1 0-2 0v2.5H7a1 1 0 1 0 0 2h2.5v2.5a1 1 0 0 0 2 0v-2.5H14a1 1 0 0 0 0-2Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("PolarisCreationZoomMediaButton.react",["IGDSBox.react","PolarisCreationMediaPopoverButton.react","PolarisCreationV2Strings","PolarisCreationZoomSlider.react","PolarisIGCoreZoomPanoOutlineIcon","react","usePolarisCreationCurrentMedia","usePolarisCreationMediaPopoverContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=32,k=132;function a(a){a=a.onZoomChange;var b=d("usePolarisCreationMediaPopoverContext").useCreationMediaPopoverContext(),e=b.openedPopover,f=b.setOpenedPopover,g=e===d("usePolarisCreationMediaPopoverContext").CreationMediaPopoverView.ZOOM;b=c("usePolarisCreationCurrentMedia")();var h=b.currentMedia;b=b.currentMediaId;h=h.scale;var l=function(){f(g?null:d("usePolarisCreationMediaPopoverContext").CreationMediaPopoverView.ZOOM)};e=e!=null&&e!==d("usePolarisCreationMediaPopoverContext").CreationMediaPopoverView.ZOOM;return i.jsx(c("IGDSBox.react"),{alignItems:"start",direction:"column",position:"relative",children:i.jsx(c("PolarisCreationMediaPopoverButton.react"),{altText:d("PolarisCreationV2Strings").ZOOM_ALT_TEXT,disabled:e,expanded:g,icon:c("PolarisIGCoreZoomPanoOutlineIcon"),togglePopover:l,children:i.jsx(c("IGDSBox.react"),{height:j,justifyContent:"center",position:"relative",width:k,children:i.jsx(d("PolarisCreationZoomSlider.react").CreationZoomSlider,{id:b,onChange:a,scale:h})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationMediaPreviewControlsOverlay.react",["cx","IGDSBox.react","IGDSDeletePanoFilledIcon","IGDSIconButton.react","PolarisCreationCropMediaButton.react","PolarisCreationGalleryMediaButton.react","PolarisCreationMediaDiscardDialog.react","PolarisCreationMediaPreviewCarouselButtons.react","PolarisCreationStepProvider.react","PolarisCreationTypes","PolarisCreationZoomMediaButton.react","PolarisGenericStrings","PolarisHasFeedCreationV2Dogfooding","PolarisUA","react","usePolarisCreationCurrentMedia","usePolarisCreationSelectMedia"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useState;function l(a){var b=a.onZoomChange;a=a.setShowDeleteDialog;var e=c("usePolarisCreationCurrentMedia")();e=e.currentMediaItemType;return d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()?j.jsxs(j.Fragment,{children:[j.jsx(c("IGDSBox.react"),{bottom:!0,left:!0,margin:2,position:"absolute",children:j.jsx(c("PolarisCreationCropMediaButton.react"),{})}),e==="image"&&b!=null&&j.jsx(c("IGDSBox.react"),{bottom:!0,left:!0,marginStart:11,padding:2,position:"absolute",children:j.jsx(c("PolarisCreationZoomMediaButton.react"),{onZoomChange:b})}),j.jsx(c("IGDSBox.react"),{alignItems:"end",bottom:!0,padding:2,position:"absolute",right:!0,width:"100%",children:j.jsx(c("PolarisCreationGalleryMediaButton.react"),{setShowDeleteDialog:a})})]}):null}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.children,e=a.croppedHeightScaled,f=a.croppedWidthScaled,g=a.enableMoreOptions,h=a.mediaType;a=a.onZoomChange;var i=d("PolarisCreationStepProvider.react").useCreationStep();i=i.step;var m=k(!1),n=m[0],o=m[1];m=c("usePolarisCreationCurrentMedia")();var p=m.currentMediaId;m=c("usePolarisCreationSelectMedia")();var q=m.removeMedia;m=k(!1);var r=m[0],s=m[1];m=k(!1);var t=m[0],u=m[1];m=k(!1);var v=m[0],w=m[1];m=g&&(r||d("PolarisUA").isTouchDevice())&&!v;g=function(){return q(p)};r=i===d("PolarisCreationTypes").STEP.crop;v=function(){return d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()?j.jsx(c("PolarisCreationMediaPreviewCarouselButtons.react"),{}):null};return j.jsxs(j.Fragment,{children:[r&&j.jsx(l,{onZoomChange:a,setShowDeleteDialog:o}),v(),j.jsxs("div",{onMouseDown:function(){return u(!0)},onMouseEnter:function(){return s(!0)},onMouseLeave:function(){s(!1),w(!1)},onMouseMove:function(){t&&w(!0)},onMouseUp:function(){u(!1),w(!1)},role:"presentation",children:[b,m&&!d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()&&j.jsx(c("IGDSBox.react"),{alignItems:"end",height:e,justifyContent:"end",position:"absolute",width:f,children:j.jsx("div",{className:"_abgk",children:j.jsx(c("IGDSIconButton.react"),{onClick:function(){o(!0),s(!1),w(!1)},children:j.jsx(c("IGDSDeletePanoFilledIcon"),{alt:d("PolarisGenericStrings").DELETE_TEXT,color:"ig-text-on-media",size:24})})})}),n&&j.jsx(c("PolarisCreationMediaDiscardDialog.react"),{mediaType:h,onModalClose:function(){return o(!1)},onRemoveMedia:g})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationMediaPreviewCropContainer.react",["PolarisIGAnimate","react","react-spring-wwwig"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,c=a.croppedHeightScaled,e=a.croppedWidthScaled;a=d("react-spring-wwwig").useSpring(function(){return{config:{friction:40,mass:1,tension:470},height:c,width:e}},[c,e]);a=a[0];return i.jsx(d("PolarisIGAnimate").Animated.div,{style:babelHelpers["extends"]({},a,{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",overflow:"hidden"}),children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisCreationVideoPlayer",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext,j=b.createContext({isPlaying:!1,pauseVideo:function(){},playVideo:function(){},setVideo:function(){},video:null});function a(){return i(j)}g.CreationVideoPlayerContext=j;g.useCreationVideoPlayerContext=a}),98);
__d("PolarisCreationVideoPlayer.react",["cx","PolarisCreationConstants","PolarisIGAnimate","PolarisVideoPlayButton.react","react","usePolarisCreationVideoPlayer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useEffect;function a(a){var b=a.autoPlay,e=a.coverPhoto,f=a.forwardRef,g=a.isAnimated;g=g===void 0?!1:g;var h=a.loop,i=a.muted,m=a.onLoadedData,n=a.src,o=a.style,p=a.trim;a=d("usePolarisCreationVideoPlayer").useCreationVideoPlayerContext();var q=a.isPlaying,r=a.pauseVideo,s=a.playVideo,t=a.setVideo,u=a.video,v=k(function(){var a;if(u==null)return;r();u.currentTime=(a=p==null?void 0:p.start)!=null?a:0},[r,p,u]);a=k(function(){var a;if(u==null)return;u.currentTime=(a=p==null?void 0:p.start)!=null?a:0;s()},[s,p,u]);var w=function(){if(u!=null){var a,b;a=(a=p==null?void 0:p.start)!=null?a:0;b=(b=(b=p==null?void 0:p.end)!=null?b:u.duration)!=null?b:0;(u.currentTime<a||b!=null&&u.currentTime>=b)&&(u.currentTime=a)}},x=function(){if(u==null)return;q===!0?r():(w(),s())};l(function(){var a=window.requestAnimationFrame(b);function b(){var c,e,f;if(u==null||!q)return;c=(c=p==null?void 0:p.start)!=null?c:0;e=(e=(e=p==null?void 0:p.end)!=null?e:u.duration)!=null?e:0;f=(f=u==null?void 0:u.duration)!=null?f:0;e!=null&&u.currentTime>=e-f*d("PolarisCreationConstants").VIDEO_TRIM_OFFSET&&(u.paused||(h===!0?u.currentTime=c:v()));a=window.requestAnimationFrame(b)}return function(){window.cancelAnimationFrame(a),q===!0&&r()}},[a,v,q,h,r,p,u]);function y(){if(u==null||m==null)return;m(u)}a=b!==!0&&e!=null&&q!==!0;y=j.jsxs(j.Fragment,{children:[j.jsx("video",{autoPlay:b,className:"_abg5",controls:!1,loop:!1,muted:i,onEnded:h!==!0?v:void 0,onLoadedData:y,ref:t,src:n}),a&&j.jsx("div",{style:{backgroundImage:"url("+((i=e)!=null?i:"")+")",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"100%",overflow:"hidden",position:"absolute",width:"100%"}})]});t=j.jsx(d("PolarisIGAnimate").Animated.div,{forwardRef:f,style:o,children:y});n=j.jsx("div",{style:o,children:y});return j.jsxs(j.Fragment,{children:[g?t:n,b!==!0&&j.jsx(c("PolarisVideoPlayButton.react"),{onClick:x,showPlayButton:!q})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationMediaPreviewMediaContainer.react",["cx","PolarisCreationCompositionGrid.react","PolarisCreationV2Actions","PolarisCreationV2State","PolarisCreationVideoPlayer.react","PolarisCreationZoomSlider.react","PolarisHasFeedCreationV2Dogfooding","PolarisIGAnimate","PolarisUA","react","usePolarisCreationCurrentMedia","usePolarisCreationDispatch"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.bindDragEvents,e=a.isPanning,f=a.mediaDimensions,g=a.mediaType,h=a.offsetX,i=a.offsetY,k=a.onPanAndZoom,l=a.onZoomChange,m=a.panAndZoomStyles;a=a.setMediaEl;var n=d("usePolarisCreationDispatch").useCreationDispatch(),o=c("usePolarisCreationCurrentMedia")(),p=o.currentMedia,q=o.currentMediaId;o=o.currentMediaItem;o=o.dataURL;var r=p.audio,s=p.scale;h={display:"flex",height:f.height,transform:"translateX("+h+"px) translateY("+i+"px) scale("+s,transition:"none",width:f.width};i=function(a){if(r!==d("PolarisCreationV2State").AUDIO_STATUS.none){a=d("PolarisCreationV2Actions").verifyAudioTracks(a,q);a!=null&&n(a)}};var t=function(){if(d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding())return null;else if(g==="image"&&k!=null)return j.jsx(d("PolarisCreationZoomSlider.react").CreationZoomSlider,{id:q,onChange:l,scale:s});return null};return j.jsxs(j.Fragment,{children:[t(),g==="image"&&j.jsx(d("PolarisIGAnimate").Animated.div,{forwardRef:a,style:babelHelpers["extends"]({},m,{backgroundImage:"url("+o+")",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",height:f.height,overflow:"hidden",width:f.width})}),g==="video"&&j.jsx(c("PolarisCreationVideoPlayer.react"),{autoPlay:!0,coverPhoto:p==null?void 0:(t=p.coverPhoto)==null?void 0:(t=t.selectedCoverPhoto)==null?void 0:t.dataURL,forwardRef:a,isAnimated:!0,loop:!0,muted:r!==d("PolarisCreationV2State").AUDIO_STATUS.on||d("PolarisUA").isSafari(),onLoadedData:i,src:o,style:babelHelpers["extends"]({},m,{height:f.height,width:f.width})}),g==="videoplayer"&&j.jsx(c("PolarisCreationVideoPlayer.react"),{autoPlay:!1,coverPhoto:p==null?void 0:(t=p.coverPhoto)==null?void 0:(a=t.selectedCoverPhoto)==null?void 0:a.dataURL,loop:!0,muted:r!==d("PolarisCreationV2State").AUDIO_STATUS.on,src:o,style:h,trim:p==null?void 0:p.trim}),k!=null&&j.jsx(d("PolarisIGAnimate").Animated.div,babelHelpers["extends"]({className:"_aabm"},b(),{children:e&&j.jsx(c("PolarisCreationCompositionGrid.react"),{})}))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDSUserCirclePanoOutlineIcon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[i.jsx("circle",{cx:"12.004",cy:"12.004",fill:"none",r:"10.5",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2"}),i.jsx("path",{d:"M18.793 20.014a6.08 6.08 0 0 0-1.778-2.447 3.991 3.991 0 0 0-2.386-.791H9.38a3.994 3.994 0 0 0-2.386.791 6.09 6.09 0 0 0-1.779 2.447",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2"}),i.jsx("circle",{cx:"12.006",cy:"9.718",fill:"none",r:"4.109",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("PolarisReelCreationNuxScreenStrings",["fbt","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i;i||d("react");a=h._("__JHASH___5Ly7h568aj__JHASH__");b=h._("__JHASH__o3skiS8ZehA__JHASH__");c=h._("__JHASH__-eO6FK8NOHv__JHASH__");e=h._("__JHASH__R6jwyB8DngY__JHASH__");f=h._("__JHASH__OBVEVvNHC_d__JHASH__");d=h._("__JHASH__Kq-O4fSoFQR__JHASH__");var j=h._("__JHASH__ZYrrlbvcUHL__JHASH__");h=h._("__JHASH__yaYvcAFGDL0__JHASH__");g.REEL_CREATION_NUX_MODAL_TITLE_PUBLIC=a;g.REEL_CREATION_NUX_MODAL_TITLE_PRIVATE=b;g.REEL_CREATION_NUX_BULLET_1_PUBLIC=c;g.REEL_CREATION_NUX_BULLET_1_PRIVATE=e;g.REEL_CREATION_NUX_BULLET_2_PUBLIC=f;g.REEL_CREATION_NUX_LEARN_MORE_LINK_PUBLIC=d;g.REEL_CREATION_NUX_LEARN_MORE_LINK_PRIVATE=j;g.REEL_CREATION_NUX_MODAL_PRIMARY_ACTION=h}),98);
__d("PolarisReelCreationNuxScreenModal.react",["cx","IGCoreDialog","IGDSBox.react","IGDSRemixPanoOutline24Icon","IGDSText.react","IGDSUserCirclePanoOutlineIcon","PolarisIGCoreButton","PolarisIGCoreDialogCircleMedia","PolarisNavigationUtils","PolarisReelCreationNuxScreenStrings","react","usePolarisViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=j.jsx("img",{alt:"",height:"76px",src:"/images/instagram/clips/reels_nux_icon.png?__d=www",width:"76px"}),l="https://help.instagram.com/270447560766967/";function m(a){var b=a.icon,d=a.isLast;a=a.text;return j.jsx(c("IGDSBox.react"),{direction:"row",position:"relative",children:j.jsxs("div",{className:(d?"_ag3_":"")+(d?"":" _ag40"),children:[j.jsx("div",{className:"_ag41",children:b}),j.jsx("div",{className:"_ag4a",children:j.jsx(c("IGDSText.react").Body,{color:"secondaryText",children:a})})]})})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b;return j.jsx(d("IGCoreDialog").IGCoreDialog,{media:j.jsx(c("PolarisIGCoreDialogCircleMedia"),{icon:k}),size:"default",title:(b=d("PolarisReelCreationNuxScreenStrings")).REEL_CREATION_NUX_MODAL_TITLE_PRIVATE,children:j.jsxs("div",{className:"_ag4b",children:[j.jsx("div",{className:"_ag40",children:j.jsx("div",{className:"_ag4a",children:j.jsx(c("IGDSText.react").Body,{color:"secondaryText",textAlign:"center",children:b.REEL_CREATION_NUX_BULLET_1_PRIVATE})})}),j.jsx("div",{className:"_ag4c",children:j.jsx(c("PolarisIGCoreButton"),{color:"ig-primary-button",fullWidth:!0,large:!0,onClick:a,children:b.REEL_CREATION_NUX_MODAL_PRIMARY_ACTION})}),j.jsx(c("IGDSBox.react"),{direction:"row",position:"relative",children:j.jsx("div",{className:"_ag4d",children:j.jsx(c("IGDSText.react").Label,{children:j.jsx(c("PolarisIGCoreButton"),{borderless:!0,onClick:function(){d("PolarisNavigationUtils").openURLWithFullPageReload(l,{openInNewTab:!0})},children:b.REEL_CREATION_NUX_LEARN_MORE_LINK_PRIVATE})})})})]})})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b;return j.jsx(d("IGCoreDialog").IGCoreDialog,{media:j.jsx(c("PolarisIGCoreDialogCircleMedia"),{icon:k}),size:"default",title:(b=d("PolarisReelCreationNuxScreenStrings")).REEL_CREATION_NUX_MODAL_TITLE_PUBLIC,children:j.jsxs("div",{className:"_ag4b",children:[j.jsx(m,{icon:j.jsx(c("IGDSUserCirclePanoOutlineIcon"),{alt:""}),isLast:!1,text:b.REEL_CREATION_NUX_BULLET_1_PUBLIC}),j.jsx(m,{icon:j.jsx(c("IGDSRemixPanoOutline24Icon"),{alt:""}),isLast:!0,text:b.REEL_CREATION_NUX_BULLET_2_PUBLIC}),j.jsx(c("IGDSBox.react"),{direction:"row",position:"relative",children:j.jsx("div",{className:"_ag4e",children:j.jsx(c("IGDSText.react").Label,{children:j.jsx(c("PolarisIGCoreButton"),{borderless:!0,onClick:function(){d("PolarisNavigationUtils").openURLWithFullPageReload(l,{openInNewTab:!0})},children:b.REEL_CREATION_NUX_LEARN_MORE_LINK_PUBLIC})})})}),j.jsx("div",{className:"_ag4f",children:j.jsx(c("PolarisIGCoreButton"),{color:"ig-primary-button",fullWidth:!0,large:!0,onClick:a,children:b.REEL_CREATION_NUX_MODAL_PRIMARY_ACTION})})]})})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b;a=a.onAction;b=(b=c("usePolarisViewer")())==null?void 0:b.isPrivate;if(b===!0)return n(a);else return o(a)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisReelCreationNuxScreen.react",["InstagramODS","PolarisDismissEntry","PolarisReelCreationNuxScreenModal.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function a(){var a=k(!1),b=a[0],e=a[1],f=function(){d("PolarisDismissEntry").isDismissed(d("PolarisDismissEntry").REELS_CREATION_SESSIONS_TYPE)||e(!0)};a=function(){d("PolarisDismissEntry").setDismissEntry(d("PolarisDismissEntry").REELS_CREATION_SESSIONS_TYPE),e(!1)};j(function(){c("InstagramODS").incr("web.notifications.reels_creation_nux_shown")},[b]);j(function(){f()});return b?i.jsx(c("PolarisReelCreationNuxScreenModal.react"),{onAction:a}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisPanDrag",["react","react-use-gesture"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));b=h;var i=b.useEffect,j=b.useState;function k(a,b,c,d,e,f){var g=a.clientWidth*d;a=a.clientHeight*d;return{bottom:(a-e)/2-c,left:-((g-f)/2+b),right:(g-f)/2-b,top:-((a-e)/2+c)}}function l(a,b,c,d,e,f,g){i(function(){var h=a.right!=null&&a.right<0,i=a.bottom!=null&&a.bottom<0,j=a.left!=null&&a.left>0,k=a.top!=null&&a.top>0,l=h&&j||k&&i;l=!l&&(h||i||j||k);if(l&&b){l=c;var m=d;h&&a.right!=null&&(l+=a.right/e);i&&a.bottom!=null&&(m+=a.bottom/f);j&&a.left!=null&&(l+=Math.abs(a.left)/e);k&&a.top!=null&&(m+=Math.abs(a.top)/f);(l!==c||m!==d)&&b(l,m,g)}},[f,e,b,a.bottom,a.left,a.right,a.top,c,d,g])}function a(a,b,c,e,f,g,h,i){var m=j(null),n=m[0];m=m[1];var o=a*h,p=b*g,q={bottom:0,left:0,right:0,top:0};n!=null&&n.clientHeight!==0&&n.clientWidth!==0&&(q=k(n,o,p,c,g,h));n=d("react-use-gesture").useDrag(function(a){var b=a.down;a=a.movement;var d=a[0];a=a[1];d=o+d;a=p+a;e({scale:c,x:d,y:a});if(f!=null&&!b){d=d/h;a=a/g;f(d,a,c)}i(b)},{bounds:q,rubberband:!0});l(q,f,a,b,h,g,c);return{bindDragEvents:n,panBounds:q,setMediaEl:m}}g.calculatePanBoundaries=k;g.usePanDragBoundaryCorrection=l;g.usePanDrag=a}),98);
__d("usePolarisCreationPanZoomDrag",["PolarisCreationConstants","PolarisCreationCropHelpers","PolarisHasFeedCreationV2Dogfooding","PolarisIGAnimate","react","usePolarisPanDrag"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));var i=h.useState;function a(a,b,c,e,f){var g=c.panningOffsetRatioX,h=c.panningOffsetRatioY,j=c.scale,k=i(j),l=k[0],m=k[1];k=d("PolarisCreationCropHelpers").getPanningOffsets(a,b,c);c=k.offsetX;k=k.offsetY;var n=d("PolarisIGAnimate").usePanAndZoom({scale:j,x:c,y:k},d("PolarisCreationConstants").PAN_AND_ZOOM_ANIMATION_CONFIG,!1,[j,c,k]),o=n.set;n=n.style;g=d("usePolarisPanDrag").usePanDrag(g,h,d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()?j:l,o,e,a,b,f);h=g.bindDragEvents;j=g.setMediaEl;l=function(a){o({scale:a}),m(a)};return{bindDragEvents:h,offsetX:c,offsetY:k,onZoomChange:l,panAndZoomStyles:n,setMediaEl:j}}g["default"]=a}),98);
__d("PolarisCreationMediaPreviewV2.react",["cx","PolarisCreationMediaPreviewControlsOverlay.react","PolarisCreationMediaPreviewCropContainer.react","PolarisCreationMediaPreviewMediaContainer.react","PolarisReelCreationNuxScreen.react","polarisVideoMergeUtils","react","usePolarisCreationCurrentMedia","usePolarisCreationMediaPopoverContext","usePolarisCreationMediaPreview","usePolarisCreationPanZoomDrag","usePolarisCreationState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useState;function a(a){var b=a.onPanAndZoom;a=a.previewType;var e=d("usePolarisCreationState").useCreationState(),f=d("usePolarisCreationMediaPopoverContext").useCreationMediaPopoverContext(),g=f.openedPopover,h=f.setOpenedPopover;f=k(!1);var i=f[0],l=f[1];f=function(a){l(a),a===!0&&g!=null&&h(null)};var m=c("usePolarisCreationCurrentMedia")(),n=m.currentMedia,o=m.currentMediaId;m=m.currentMediaItemType;a=a!=null?a:m;e=c("usePolarisCreationMediaPreview")(n,(m=e.cropRatio)!=null?m:1);m=e.croppedHeightScaled;var p=e.croppedWidthScaled,q=e.frameEl,r=e.mediaDimensions;e=e.setFrameEl;n=c("usePolarisCreationPanZoomDrag")(m,p,n,b,f);f=n.bindDragEvents;var s=n.offsetX,t=n.offsetY,u=n.onZoomChange,v=n.panAndZoomStyles;n=n.setMediaEl;q=q!==null&&m!==0&&p!==0;var w=null;a==="video"&&d("polarisVideoMergeUtils").eligibleForVideoMerge()&&(w=j.jsx(c("PolarisReelCreationNuxScreen.react"),{}));return j.jsxs("div",{className:"_abfo",ref:e,children:[w,j.jsx(c("PolarisCreationMediaPreviewControlsOverlay.react"),{croppedHeightScaled:m,croppedWidthScaled:p,enableMoreOptions:b!=null&&!i,mediaType:a,onZoomChange:u,children:q&&j.jsx(c("PolarisCreationMediaPreviewCropContainer.react"),{croppedHeightScaled:m,croppedWidthScaled:p,children:j.jsx(c("PolarisCreationMediaPreviewMediaContainer.react"),{bindDragEvents:f,isPanning:i,mediaDimensions:r,mediaType:a,offsetX:s,offsetY:t,onPanAndZoom:b,onZoomChange:u,panAndZoomStyles:v,setMediaEl:n})},o)})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationModalBodyMediaV2.react",["cx","PolarisCreationMediaPreviewV2.react","PolarisCreationV2ActionTypes","react","usePolarisCreationCurrentMedia","usePolarisCreationDispatch"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.mainContent;var b=d("usePolarisCreationDispatch").useCreationDispatch(),e=c("usePolarisCreationCurrentMedia")(),f=e.currentMediaId;e=function(a,c,e){b({id:f,panningOffsetRatioX:a,panningOffsetRatioY:c,scale:e,type:d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_META})};return j.jsx("div",{className:"_abma",children:j.jsx("div",{className:"_abmb",children:a!=null?a:j.jsx(c("PolarisCreationMediaPreviewV2.react"),{onPanAndZoom:e})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationVideoPlayerContextProvider.react",["react","usePolarisCreationVideoPlayer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useState;function a(a){a=a.children;var b=j(null),c=b[0];b=b[1];var e=j(!1),f=e[0],g=e[1];e=function(){if(c!=null){var a=c.play();a!==void 0&&a.then(function(a){g(!0)})["catch"](function(){})}};var h=function(){c!=null&&(c.pause(),g(!1))};return i.jsx(d("usePolarisCreationVideoPlayer").CreationVideoPlayerContext.Provider,{value:{isPlaying:f,pauseVideo:h,playVideo:e,setVideo:b,video:c},children:a})}a.displayName=a.name+" [from "+f.id+"]";g.CreationVideoPlayerContextProvider=a}),98);
__d("usePolarisCreationModalDimensions",["PolarisGetCreationModalDimensions"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("PolarisGetCreationModalDimensions")()}g["default"]=a}),98);
__d("PolarisCreationModalBodyV2.react",["IGDSBox.react","PolarisCreationModalBodyMediaV2.react","PolarisCreationVideoPlayerContextProvider.react","PolarisIGAnimate","PolarisUA","react","stylex","usePolarisCreationModalDimensions"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useRef,l={mainCell:{alignItems:"x6s0dn4",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",position:"x1n2onr6",width:"xh8yej3",$$css:!0},mainCellWithSetting:{alignItems:"x1cy8zhl",width:"x1bzprkw",$$css:!0},root:{flexBasis:"xdl72j9",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",height:"x15wfb8v",maxHeight:"x3aagtl",maxWidth:"xqbdwvv",minHeight:"x6ql1ns",minWidth:"x1cwzgcd",$$css:!0},rootWithSetting:{display:"x78zum5",flexBasis:"xdl72j9",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",maxWidth:"x13vbajr",minWidth:"x1ue5u6n",$$css:!0},settingsCell:{borderStartColor:"xhk4uv",borderStartStyle:"x26u7qi",borderStartWidth:"xy80clv",boxSizing:"x9f619",display:"x78zum5",position:"x1n2onr6",width:"x1f4304s",$$css:!0},settingsOverflowDetectionContainer:{maxHeight:"xmz0i5r",minHeight:"xh8midk",overflowY:"x1rife3k",$$css:!0},tabletOverflow:{flexBasis:"xdl72j9",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",$$css:!0}};function a(a){var b=a.children,e=a.mainContent,f=a.settingsColumnContent,g=k(null),i=k(null),m=f!=null;a=d("PolarisIGAnimate").useFadeTransition({duration:250,show:!0});var n=d("PolarisIGAnimate").useFadeTransition({duration:500,show:m===!0}),o=c("usePolarisCreationModalDimensions")(),p=o.modalDimensions;o=o.modalDimensionsWithSetting;p={width:p.width+"px"};o={width:o.width+"px"};return j.jsx(d("PolarisCreationVideoPlayerContextProvider.react").CreationVideoPlayerContextProvider,{children:j.jsxs("div",{className:(h||(h=c("stylex")))(l.root,m&&l.rootWithSetting),style:m?o:p,children:[a(function(a,f){return j.jsx(d("PolarisIGAnimate").Animated.div,{className:(h||(h=c("stylex")))(l.mainCell,m&&l.mainCellWithSetting),style:a,children:b!=null?b:j.jsx(c("PolarisCreationModalBodyMediaV2.react"),{mainContent:e})})}),n(function(a,b){return j.jsx(d("PolarisIGAnimate").Animated.div,{className:"xhk4uv x26u7qi xy80clv x9f619 x78zum5 x1n2onr6 x1f4304s",style:a,children:j.jsx(c("IGDSBox.react"),{containerRef:g,flex:"grow",position:"relative",children:j.jsx("div",{className:(h||(h=c("stylex")))(l.settingsOverflowDetectionContainer,d("PolarisUA").isMobileSafari()&&l.tabletOverflow),ref:i,children:f})})})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisCreationErrorPage",["PolarisCreationStepProvider.react","PolarisCreationV2ActionTypes","usePolarisCreationDispatch"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("usePolarisCreationDispatch").useCreationDispatch(),b=d("PolarisCreationStepProvider.react").useCreationStep(),c=b.handleErrorPage;b=function(b){a({errorPage:b,type:d("PolarisCreationV2ActionTypes").CREATION_SET_ERROR_PAGE}),c()};var e=function(b){a({errorPage:b,type:d("PolarisCreationV2ActionTypes").CREATION_SET_ERROR_PAGE})};return{navigateToErrorPage:b,setSelectErrorPage:e}}g["default"]=a}),98);
__d("usePolarisCreationUploadAllMedia",["PolarisCreationConstants","PolarisCreationError","PolarisCreationErrorHelpers","PolarisCreationMediaHelpers","PolarisCreationV2Actions","PolarisCreationV2State","Promise","asyncToGeneratorRuntime","nullthrows","polarisGetBlobFromCanvas","usePolarisCreationDispatch","usePolarisCreationErrorPage","usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){return a.cropRatio===b.originalAspectRatio&&b.panningOffsetRatioX===0&&b.panningOffsetRatioY===0&&b.scale===1&&((a=b.filters)==null?void 0:a.filterName)===d("PolarisCreationConstants").INIT_FILTER_NAME&&((a=b.filters)==null?void 0:a.filterStrength)===d("PolarisCreationConstants").INIT_FILTER_STRENGTH&&Object.keys(b.adjustmentParams).every(function(a){return b.adjustmentParams[a]===d("PolarisCreationConstants").INIT_ADJUSTMENT_STRENGTH})&&(((a=b.trim)==null?void 0:a.start)==null||b.trim.start===0)&&(((a=b.trim)==null?void 0:a.end)==null||b.trim.end===((a=b.video)==null?void 0:a.videoDurationMs))&&(b.type==="image"||b.type==="video"&&b.audio!==d("PolarisCreationV2State").AUDIO_STATUS.off)&&((a=b.image)==null?void 0:(a=a.file)==null?void 0:a.type)!=="image/png"}function a(){var a=d("usePolarisCreationState").useCreationState(),e=d("usePolarisCreationDispatch").useCreationDispatch(),f=c("usePolarisCreationErrorPage")(),g=f.setSelectErrorPage;function j(){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var f=a.multiPostOrder.map(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(f){var g=c("nullthrows")(a.media.get(f)),j=g.uploadId!=null;if(j)return(h||(h=b("Promise"))).resolve();j=null;var k=i(a,g);if(k){var l=g.type==="image"?g.image:g.video;j=l==null?void 0:l.file}else g.type==="image"&&(j=g==null?void 0:g.filteredBlob);l=a.multiPostOrder.length>1;if(g.type==="image"){if(j==null){var m=c("nullthrows")(g==null?void 0:g.croppedCanvas);j=(yield c("polarisGetBlobFromCanvas")(m))}m=(yield d("PolarisCreationV2Actions").stagePhoto({blob:j,fallbackDimensions:g.image?{height:g.image.height,width:g.image.width}:void 0,id:f,isSidecar:l,reencodedBlob:k?g==null?void 0:g.filteredBlob:null,sessionId:a.sessionId}))}else{k=c("nullthrows")(g==null?void 0:(k=g.coverPhoto)==null?void 0:(k=k.selectedCoverPhoto)==null?void 0:k.file);var n=function(a){e(d("PolarisCreationV2Actions").uploadProgressed(f,a))};if(j==null){var o;o=(yield d("PolarisCreationV2Actions").createCroppedPhoto(f,c("nullthrows")(g==null?void 0:(o=g.coverPhoto)==null?void 0:o.selectedCoverPhoto),c("nullthrows")(a.cropRatio),g.panningOffsetRatioX,g.panningOffsetRatioY,g.scale));o=o.croppedCanvas;k=(yield c("polarisGetBlobFromCanvas")(c("nullthrows")(o)));m=(yield d("PolarisCreationV2Actions").stageVideo({id:f,isSidecar:l,onUploadProgress:n,sessionId:a.sessionId,sourceCoverPhotoFile:k,sourceVideoFile:c("nullthrows")(g==null?void 0:(o=g.video)==null?void 0:o.file),videoEditParams:d("PolarisCreationMediaHelpers").getVideoEditParams({cropRatio:c("nullthrows")(a.cropRatio),mute:g.audio==="off",panningOffsetRatioX:g.panningOffsetRatioX,panningOffsetRatioY:g.panningOffsetRatioY,trimEnd:g==null?void 0:(o=g.trim)==null?void 0:o.end,trimStart:g==null?void 0:(o=g.trim)==null?void 0:o.start,videoHeight:c("nullthrows")(g==null?void 0:(o=g.video)==null?void 0:o.height),videoWidth:c("nullthrows")(g==null?void 0:(o=g.video)==null?void 0:o.width)})}))}else(g==null?void 0:g.audio)===d("PolarisCreationV2State").AUDIO_STATUS.off?m=(yield d("PolarisCreationV2Actions").stageVideo({id:f,isSidecar:l,onUploadProgress:n,sessionId:a.sessionId,sourceCoverPhotoFile:k,sourceVideoFile:c("nullthrows")(j),videoEditParams:{mute:(g==null?void 0:g.audio)===d("PolarisCreationV2State").AUDIO_STATUS.off}})):m=(yield d("PolarisCreationV2Actions").stageVideo({id:f,isSidecar:l,onUploadProgress:n,sessionId:a.sessionId,sourceCoverPhotoFile:k,sourceVideoFile:c("nullthrows")(j)}))}return e(m)});return function(a){return f.apply(this,arguments)}}());return yield (h||(h=b("Promise"))).all(f)["catch"](function(a){if(a instanceof d("PolarisCreationError").CreationError){var b=d("PolarisCreationErrorHelpers").getCreationErrorPageForError(a);g(b)}else throw a})});return k.apply(this,arguments)}return j}g["default"]=a}),98);
__d("PolarisCreationModalError.react",["fbt","IGCoreModal","IGDSAppInstagramPanoOutlineIcon","IGDSBox.react","IGDSErrorOutlineV2Icon","InstagramODS","PolarisCreationModalBodyV2.react","PolarisCreationStepProvider.react","PolarisCreationV2Strings","PolarisGenericNullStateView.react","PolarisGenericStrings","PolarisHasFeedCreationV2Dogfooding","PolarisIGCoreModalHeader","PolarisNavigationActions","PolarisReactRedux","PolarisUA","QPLUserFlow","asyncToGeneratorRuntime","qpl","react","usePolarisCreationState","usePolarisCreationUploadAllMedia"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useEffect;function l(a){a=a.error;var e=d("usePolarisCreationState").useCreationState(),f=c("usePolarisCreationUploadAllMedia")();a=d("PolarisCreationStepProvider.react").useCreationStep();var g=a.handleTryAgain;function h(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield f()});return i.apply(this,arguments)}a=function(){d("PolarisUA").isDesktop()&&(c("InstagramODS").incr("web.creation.try_again.v2"),h(),g(),e.errorPage=null)};return j.jsx(c("IGDSBox.react"),{flex:"grow",overflow:"hidden",position:"relative",children:j.jsx(c("IGDSBox.react"),{alignItems:"center",height:"100%",justifyContent:"center",position:"relative",width:"100%",children:j.jsx(c("PolarisGenericNullStateView.react"),{errorMessage:void 0,header:d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()?d("PolarisCreationV2Strings").SOMETHING_WENT_WRONG_HEADER:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE,icon:j.jsx(c("IGDSErrorOutlineV2Icon"),{alt:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE,size:96}),primaryAction:a,primaryActionName:d("PolarisUA").isDesktop()?d("PolarisCreationV2Strings").TRY_AGAIN_CTA_TEXT:void 0})})})}l.displayName=l.name+" [from "+f.id+"]";function a(a){a=a.error;k(function(){c("QPLUserFlow").endFailure(c("qpl")._(379199405,"1518"),"creation_modal_error")},[]);var b=d("PolarisReactRedux").useDispatch(),e=function(){return b(d("PolarisNavigationActions").closeFeedCreationModal())},f=d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding(),g=f?d("PolarisCreationV2Strings").SOMETHING_WENT_WRONG_TITLE:d("PolarisCreationV2Strings").ERROR_HEADER;return j.jsxs(c("IGCoreModal"),{"aria-label":g,backdropColor:f?"dark":"default",disablePopInAnimation:!0,fixedWidth:!0,size:"creation",children:[j.jsx(c("IGDSBox.react"),{position:"relative",width:"100%",children:j.jsx(c("PolarisIGCoreModalHeader"),{onClose:e,startAdornment:j.jsx(c("IGDSAppInstagramPanoOutlineIcon"),{alt:h._("__JHASH__EubW9vzR0uu__JHASH__"),color:"ig-primary-text"}),truncateText:!0,children:g})}),f?j.jsx(c("PolarisCreationModalBodyV2.react"),{children:j.jsx(l,{error:a})}):j.jsx(l,{error:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDSArrowIcon",["IGDSArrowLeftPanoOutlineIcon","Locale","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={back:0,down:270,next:180,up:90};function a(a){var b=a.direction;a=babelHelpers.objectWithoutPropertiesLoose(a,["direction"]);var d=j[b];(b==="next"||b==="back")&&(d+=c("Locale").isRTL()?180:0);return i.jsx("span",{style:{display:"inline-block",transform:"rotate("+d+"deg)"},children:i.jsx(c("IGDSArrowLeftPanoOutlineIcon"),babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationWarningDialog.react",["IGCoreDialog","PolarisCreationV2Strings","PolarisGenericStrings","browserHistory","react","usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.dialogBody,c=a.dialogTitle,e=a.discardText,f=a.onCancel,g=a.onDiscardClick;a=d("usePolarisCreationState").useCreationState();var h=a.entryPath;a=function(){d("browserHistory").browserHistory.replace(h,{allowStale:!0,scrollRestore:!0}),g()};return i.jsxs(d("IGCoreDialog").IGCoreDialog,{body:(b=b)!=null?b:d("PolarisCreationV2Strings").DISCARD_POST_BODY,onModalClose:f,title:(b=c)!=null?b:d("PolarisCreationV2Strings").DISCARD_POST_TITLE,children:[i.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:"ig-error-or-destructive",onClick:a,children:(c=e)!=null?c:d("PolarisCreationV2Strings").DISCARD_CTA_TEXT}),i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:f,children:d("PolarisGenericStrings").CANCEL_TEXT})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationModalHeader.react",["IGDSArrowIcon","IGDSBox.react","IGDSButton.react","IGDSIconButton.react","IGDSText.react","PolarisCreationCameraLogger","PolarisCreationConstants","PolarisCreationStepProvider.react","PolarisCreationTypes","PolarisCreationV2Strings","PolarisCreationWarningDialog.react","PolarisGenericStrings","PolarisIGCoreButton","PolarisIGCoreModalHeader","PolarisNavigationActions","PolarisReactRedux","polarisUnexpected","react","usePolarisCreationSelectMedia","usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useState;function k(a,b,e,f){f===void 0&&(f=!1);if(e!=null)return e;switch(a){case d("PolarisCreationTypes").STEP.select:return b!=null?b:d("PolarisCreationV2Strings").NEW_POST_TEXT;case d("PolarisCreationTypes").STEP.generate:return d("PolarisCreationV2Strings").NEW_POST_USING_GEN_AI_TEXT;case d("PolarisCreationTypes").STEP.crop:return d("PolarisCreationV2Strings").CROP_TEXT;case d("PolarisCreationTypes").STEP.edit:return d("PolarisCreationV2Strings").EDIT_TEXT;case d("PolarisCreationTypes").STEP.compose:return f?d("PolarisCreationV2Strings").COMPOSE_TEXT_REELS:d("PolarisCreationV2Strings").COMPOSE_TEXT;case d("PolarisCreationTypes").STEP.publish:return d("PolarisCreationV2Strings").UPLOADING_TEXT;case d("PolarisCreationTypes").STEP.done:return f?d("PolarisCreationV2Strings").UPLOAD_REEL_SUCCESS_TEXT:d("PolarisCreationV2Strings").UPLOAD_SUCCESS_TEXT;case d("PolarisCreationTypes").STEP.error:return(e=b)!=null?e:d("PolarisCreationV2Strings").ERROR_HEADER;case d("PolarisCreationTypes").STEP.editPostInfo:return d("PolarisCreationV2Strings").EDIT_INFO;default:c("polarisUnexpected")("unexpected creation step");return""}}function l(a){a=a.onBack;return i.jsx(c("IGDSBox.react"),{marginStart:2,position:"relative",children:i.jsx(c("IGDSIconButton.react"),{onClick:a,children:i.jsx(c("IGDSArrowIcon"),{alt:d("PolarisGenericStrings").BACK_TEXT,color:"ig-primary-text",direction:"back",size:24})})})}l.displayName=l.name+" [from "+f.id+"]";function m(a){a=a.onBack;var b=j(!1),d=b[0],e=b[1];return i.jsxs(i.Fragment,{children:[i.jsx(l,{onBack:function(){return e(!0)}}),d&&i.jsx(c("PolarisCreationWarningDialog.react"),{onCancel:function(){return e(!1)},onDiscardClick:a})]})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.onCta;a=d("PolarisCreationStepProvider.react").useCreationStep();a=a.step;var e=j(!1),f=e[0],g=e[1],h;switch(a){case d("PolarisCreationTypes").STEP.crop:case d("PolarisCreationTypes").STEP.edit:h=d("PolarisCreationV2Strings").NEXT_TEXT;break;case d("PolarisCreationTypes").STEP.compose:h=d("PolarisCreationV2Strings").SHARE_CTA_TEXT;break;case d("PolarisCreationTypes").STEP.editPostInfo:h=d("PolarisCreationV2Strings").DONE_EDIT_CTA_TEXT;break;case d("PolarisCreationTypes").STEP.generate:h=d("PolarisCreationV2Strings").GENERATE_CTA_TEXT;break;default:h=null}return b!=null&&h!=null?i.jsx(c("IGDSBox.react"),{padding:4,position:"relative",children:i.jsx(c("IGDSButton.react"),{display:"block",isLoading:f,label:h,onClick:function(){g(!0),b()},variant:"primary_link"})}):null}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.modalTitle,e=a.onClose,g=a.onCta;a=a.showReelCreationHeader;var h=d("PolarisReactRedux").useDispatch(),o=d("PolarisCreationStepProvider.react").useCreationStep(),p=o.handlePrevStep,q=o.step,r=d("usePolarisCreationState").useCreationState();o=c("usePolarisCreationSelectMedia")();var s=o.clearAllMedia;o=j(!1);var t=o[0],u=o[1],v=function(){d("PolarisCreationCameraLogger").logFeedCreationEndCameraSession({sessionId:r.sessionId}),e!=null?e():h(d("PolarisNavigationActions").closeFeedCreationModal())},w=function(){d("PolarisCreationConstants").NON_WARNING_STEPS.has(q)?v():u(!0)};function x(){switch(q){case d("PolarisCreationTypes").STEP.select:case d("PolarisCreationTypes").STEP.generate:case d("PolarisCreationTypes").STEP.publish:case d("PolarisCreationTypes").STEP.error:case d("PolarisCreationTypes").STEP.done:return null;case d("PolarisCreationTypes").STEP.crop:return i.jsx(m,{onBack:function(){s(),p()}});case d("PolarisCreationTypes").STEP.editPostInfo:return i.jsx(c("IGDSBox.react"),{padding:4,position:"relative",children:i.jsx(c("PolarisIGCoreButton"),{borderless:!0,onClick:w,children:i.jsx(c("IGDSText.react").Body,{children:d("PolarisGenericStrings").CANCEL_TEXT})})});case d("PolarisCreationTypes").STEP.edit:case d("PolarisCreationTypes").STEP.compose:default:return i.jsx(l,{onBack:p})}}x.displayName=x.name+" [from "+f.id+"]";return i.jsxs(i.Fragment,{children:[i.jsx(c("IGDSBox.react"),{position:"relative",width:"100%",children:i.jsx(c("PolarisIGCoreModalHeader"),{endAdornment:i.jsx(n,{onCta:g}),size:"default",startAdornment:x(),truncateText:!0,children:k(q,(o=r.errorPage)==null?void 0:o.title,b,a)})}),t&&i.jsx(c("PolarisCreationWarningDialog.react"),{onCancel:function(){return u(!1)},onDiscardClick:v})]})}a.displayName=a.name+" [from "+f.id+"]";g.getModalTitle=k;g.CreationModalHeader=a}),98);
__d("PolarisCreationLoggerHooks",["PolarisCreationCameraLogger","react","usePolarisCreationState","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a){return function(){var b=d("usePolarisCreationState").useCreationState(),e=b.sessionId,f=c("usePrevious")(e);i(function(){e!==""&&f!==e&&a({sessionId:e})})}}b=a(d("PolarisCreationCameraLogger").logFeedCreationFeedGalleryStartShareSession);e=a(d("PolarisCreationCameraLogger").logFeedCreationStartCameraSession);f=a(d("PolarisCreationCameraLogger").logFeedCreationCameraStartGallerySession);g.useCreationFeedGalleryStartShareSessionLogger=b;g.useCreationStartCameraSessionLogger=e;g.useCreationStartGallerySessionLogger=f}),98);
__d("PolarisCreationLocationInput.react",["cx","IGDSBox.react","IGDSIconButton.react","IGDSLocationPanoOutlineIcon","IGDSXPanoOutlineIcon","PolarisCreationV2ActionTypes","PolarisCreationV2Strings","PolarisGenericStrings","PolarisIGCoreAnchoredPopover","PolarisIGCoreAnchoredPopoverContentContainer","PolarisIGCoreTextInput","PolarisSearchConstants","PolarisTypeaheadContainer.react","react","usePolarisCreationDispatch","usePolarisCreationState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useRef,l=b.useState,m=211,n=339;function a(a){var b,e;a=a.width;var f=d("usePolarisCreationDispatch").useCreationDispatch(),g=d("usePolarisCreationState").useCreationState(),h=l(""),i=h[0],o=h[1];h=l(!1);var p=h[0],q=h[1];h=k(null);b=h==null?void 0:(b=h.current)==null?void 0:b.getBoundingClientRect();function r(a){a.type==="LOCATION_RESULT"&&(f({location:a,type:d("PolarisCreationV2ActionTypes").CREATION_SET_LOCATION}),o(a==null?void 0:a.name)),q(!1)}function s(){o(""),f({location:null,type:d("PolarisCreationV2ActionTypes").CREATION_SET_LOCATION})}e=i.length>0||(g==null?void 0:(e=g.location)==null?void 0:e.name)!=null?j.jsx("span",{className:"_abgg",children:j.jsx(c("IGDSIconButton.react"),{onClick:s,children:j.jsx(c("IGDSXPanoOutlineIcon"),{alt:d("PolarisGenericStrings").CLOSE_TEXT,color:"ig-secondary-text",size:16})})}):j.jsx(c("IGDSBox.react"),{marginStart:2,position:"relative",children:j.jsx(c("IGDSLocationPanoOutlineIcon"),{alt:d("PolarisCreationV2Strings").LOCATION_SEARCH_PLACEHOLDER,color:"ig-secondary-text",size:16})});return j.jsx(c("PolarisIGCoreAnchoredPopover"),{content:p&&j.jsx(c("PolarisIGCoreAnchoredPopoverContentContainer"),{height:m,hideArrow:!0,isVisible:p&&i.length>0,onClose:function(){return q(!1)},width:(s=a)!=null?s:n,children:j.jsx("div",{ref:h,children:j.jsx(c("PolarisTypeaheadContainer.react"),{cursorIndex:i.length,initialSearchContext:d("PolarisSearchConstants").SEARCH_CONTEXT.LOCATION,inputString:i,onResultSelect:r,showResultsCondensed:!1,size:"extraLarge",useSearchTriggers:!1})})}),offsetLeft:((p=b==null?void 0:b.left)!=null?p:0)+8,offsetTop:b==null?void 0:b.top,children:j.jsx("div",{className:"_abgh",children:j.jsx(c("PolarisIGCoreTextInput"),{autoComplete:"off",backgroundColor:"transparent",dangerouslySetClassName:{__className:(g==null?void 0:(a=g.location)==null?void 0:a.name)!=null?"_abgi":""},disabled:g.location!=null,endAdornment:e,height:44,name:"creation-location-input",onBlur:function(){q(!1),o("")},onChange:function(a){return o(a.target.value)},onFocus:function(){return q(!0)},placeholder:d("PolarisCreationV2Strings").LOCATION_SEARCH_PLACEHOLDER,value:(h=g==null?void 0:(s=g.location)==null?void 0:s.name)!=null?h:i})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationModalComposeExpandInput.react",["cx","IGDSBox.react","IGDSChevronIcon","IGDSText.react","PolarisGenericStrings","PolarisHasFeedCreationV2Dogfooding","PolarisIGCorePressable","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function k(a){var b=a.isExpanded;a=a.title;return d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()?j.jsx(c("IGDSText.react"),{size:"label",weight:b?"semibold":"normal",children:a}):j.jsx(c("IGDSText.react").Section,{children:a})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.children,e=a.isExpanded,f=a.onInputPress;a=a.title;return j.jsxs("div",{className:"_abm8",children:[j.jsxs(c("PolarisIGCorePressable"),{className:"_abm9",onPress:function(){return f(function(a){return!a})},children:[j.jsx(k,{isExpanded:e,title:a}),j.jsx(c("IGDSChevronIcon"),{alt:e?d("PolarisGenericStrings").UP_CHEVRON_ALT:d("PolarisGenericStrings").DOWN_CHEVRON_ALT,direction:e?"up":"down",size:16})]}),e&&j.jsx(c("IGDSBox.react"),{paddingX:4,paddingY:1,position:"relative",children:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisIGTVStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._("__JHASH__E38SQ4NwfUK__JHASH__");b=h._("__JHASH__tp3KrdGh5qZ__JHASH__");c=h._("__JHASH__8Y5HQhyOG0l__JHASH__");d=h._("__JHASH__NIGc2llVBla__JHASH__");e=h._("__JHASH__HBKoq3Iyj3f__JHASH__");f=h._("__JHASH__4VrJfcGVB9g__JHASH__");var i=h._("__JHASH__MuToVhtRDmz__JHASH__"),j=h._("__JHASH__lXXWkYXgQt3__JHASH__"),k=h._("__JHASH__R285ezvPtO0__JHASH__"),l=h._("__JHASH__4Nfu7QX-VdE__JHASH__"),m=h._("__JHASH__TUkndV4f_v8__JHASH__"),n=h._("__JHASH__wDnrlluIsJU__JHASH__"),o=h._("__JHASH__-XB6MmRR32___JHASH__"),p=h._("__JHASH__5SJDXPpwqao__JHASH__"),q=h._("__JHASH__A3KjbOhM3bI__JHASH__"),r=h._("__JHASH__vBW80tGi0kS__JHASH__"),s=h._("__JHASH__LwJogHLTP_u__JHASH__"),t=h._("__JHASH__-PNbsrlre8f__JHASH__"),u=h._("__JHASH__GTk2rb_4NF9__JHASH__");h=h._("__JHASH__Yr79hwKV17B__JHASH__");g.POST_GRID_ITEM_ENCODING_FAILED_DRAFT=a;g.POST_GRID_ITEM_ENCODING_FAILED_POST=b;g.POST_GRID_ITEM_PENDING_ENCODING=c;g.DIALOG_ITEM_EDIT=d;g.IGTV_ACTIVE_POST_DIALOG_POST_FAILED_ENCODING_TITLE=e;g.IGTV_ACTIVE_POST_DIALOG_POST_FAILED_ENCODING_BODY=f;g.IGTV_ACTIVE_POST_DIALOG_POST_FAILED_ENCODING_DISCARD=i;g.IGTV_ACTIVE_POST_DIALOG_DRAFT_FAILED_ENCODING_TITLE=j;g.IGTV_ACTIVE_POST_DIALOG_DRAFT_FAILED_ENCODING_BODY=k;g.IGTV_ACTIVE_POST_DIALOG_DRAFT_FAILED_ENCODING_DISCARD=l;g.IGTV_ACTIVE_DIALOG_FAILED_ENCODING_CANCEL=m;g.IGTV_VIDEO_UPLOAD_MONETIZATION_CHECKBOX_LABEL=n;g.IGTV_VIDEO_UPLOAD_MONETIZATION_CHECKBOX_TEXT=o;g.IGTV_VIDEO_UPLOAD_MONETIZATION_CHECKBOX_INELIGIBLE_VIDEO=p;g.IGTV_VIDEO_UPLOAD_MONETIZATION_CHECKBOX_INELIGIBLE_VIDEO_TEXT=q;g.IGTV_VIDEO_UPLOAD_MONETIZATION_CHECKBOX_INELIGIBLE_ACCOUNT=r;g.IGTV_VIDEO_UPLOAD_MONETIZATION_CHECKBOX_INELIGIBLE_ACCOUNT_TEXT=s;g.IGTV_VIDEO_UPLOAD_LEARN_MORE_LINK=t;g.IGTV_VIDEO_UPLOAD_CAPTIONS_CHECKBOX_LABEL=u;g.IGTV_VIDEO_UPLOAD_CAPTIONS_CHECKBOX_TEXT=h}),98);
__d("usePolarisCreationAdvancedVideoCaptions",["IGDSBox.react","IGDSSwitch.react","IGDSText.react","PolarisCreationV2ActionTypes","PolarisCreationV2State","PolarisIGTVStrings","react","usePolarisCreationCurrentMedia","usePolarisCreationDispatch","usePolarisCreationIsSingleVideoPost","usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(){var a=d("usePolarisCreationState").useCreationState(),b=a.advancedSettings,e=d("usePolarisCreationDispatch").useCreationDispatch();a=function(){e({hasVideoSubtitlesEnabled:!b.hasVideoSubtitlesEnabled,type:d("PolarisCreationV2ActionTypes").CREATION_SET_GENERATE_SUBTITLES_ENABLED})};return i.jsxs(c("IGDSBox.react"),{marginBottom:3,position:"relative",children:[i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"between",marginBottom:4,position:"relative",width:"100%",children:[i.jsx(c("IGDSText.react").Label,{children:d("PolarisIGTVStrings").IGTV_VIDEO_UPLOAD_CAPTIONS_CHECKBOX_LABEL}),i.jsx(c("IGDSSwitch.react"),{onValueChange:a,value:b.hasVideoSubtitlesEnabled})]}),i.jsx(c("IGDSText.react").Body2,{color:"secondaryText",children:d("PolarisIGTVStrings").IGTV_VIDEO_UPLOAD_CAPTIONS_CHECKBOX_TEXT})]})}j.displayName=j.name+" [from "+f.id+"]";function a(){var a=c("usePolarisCreationIsSingleVideoPost")(),b=c("usePolarisCreationCurrentMedia")();b=b.currentMedia;b=b.audio===d("PolarisCreationV2State").AUDIO_STATUS.on;a=a&&b;return{generateVideoCaptionsElement:i.jsx(j,{}),generateVideoCaptionsIsVisible:a}}g["default"]=a}),98);
__d("PolarisCreationModalComposeAccessibilitySettings.react",["IGDSBox.react","IGDSText.react","PolarisCreationMediaPreviewThumbnail.react","PolarisCreationModalComposeExpandInput.react","PolarisCreationV2ActionTypes","PolarisCreationV2Strings","PolarisIGCoreTextInput","nullthrows","react","usePolarisCreationAdvancedVideoCaptions","usePolarisCreationDispatch","usePolarisCreationMedia","usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=44;function k(a){var b,e=a.id,f=a.media;a=a.state;var g=d("usePolarisCreationDispatch").useCreationDispatch();return i.jsxs(i.Fragment,{children:[i.jsx(c("IGDSBox.react"),{height:j,position:"relative",width:j,children:i.jsx(c("PolarisCreationMediaPreviewThumbnail.react"),{aspectRatio:(b=a.cropRatio)!=null?b:1,media:f,showOverlay:!1,size:j,src:f.type==="image"?c("nullthrows")((b=f.filteredMedia)==null?void 0:b.dataURL):c("nullthrows")(f==null?void 0:(b=f.coverPhoto)==null?void 0:(f=b.selectedCoverPhoto)==null?void 0:f.dataURL)})}),i.jsx(c("IGDSBox.react"),{flex:"grow",marginStart:2,position:"relative",children:i.jsx(c("PolarisIGCoreTextInput"),{backgroundColor:"transparent",name:"alt-text-"+e,onChange:function(a){g({altText:a.target.value,id:e,type:d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_META})},placeholder:d("PolarisCreationV2Strings").ALT_TEXT_PLACEHOLDER,value:(f=(b=a.media.get(e))==null?void 0:b.altText)!=null?f:""})})]})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.isExpanded;a=a.onInputPress;var e=d("usePolarisCreationState").useCreationState(),f=c("usePolarisCreationAdvancedVideoCaptions")(),g=f.generateVideoCaptionsElement;f=f.generateVideoCaptionsIsVisible;return i.jsx(c("PolarisCreationModalComposeExpandInput.react"),{isExpanded:b,onInputPress:a,title:d("PolarisCreationV2Strings").ALT_TEXT_TITLE,children:i.jsxs(i.Fragment,{children:[i.jsx(c("IGDSText.react").Body2,{color:"secondaryText",textAlign:"start",children:d("PolarisCreationV2Strings").ALT_TEXT_SUBTITLE}),i.jsxs(c("IGDSBox.react"),{marginBottom:1,position:"relative",children:[e.multiPostOrder.map(function(a,b){var f=d("usePolarisCreationMedia").getMediaInfo(c("nullthrows")(e.media.get(a)));f=f.media;return i.jsx(c("IGDSBox.react"),{direction:"row",display:"flex",marginBottom:b===e.multiPostOrder.length-1?3:4,marginTop:b===0?3:0,position:"relative",children:i.jsx(k,{id:a,media:f,state:e})},a)}),f&&g]})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationSettingsToggle.react",["IGDSBox.react","IGDSSwitch.react","IGDSText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b,d=a.checked,e=a.labelText,f=a.onToggle;a=a.subtitleText;return i.jsxs(b=c("IGDSBox.react"),{position:"relative",width:"100%",children:[i.jsxs(b,{alignItems:"center",direction:"row",justifyContent:"between",position:"relative",children:[i.jsx(b,{flex:"grow",children:i.jsx(c("IGDSText.react").Label,{textAlign:"start",children:e})}),i.jsx(b,{flex:"none",children:i.jsx(c("IGDSSwitch.react"),{onValueChange:function(){return f(!d)},value:d})})]}),i.jsx(b,{paddingY:3,position:"relative",children:i.jsx(c("IGDSText.react").Body2,{color:"secondaryText",textAlign:"start",children:a})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationAdvancedAudioReuse.react",["PolarisCreationSettingsToggle.react","PolarisCreationV2ActionTypes","PolarisCreationV2Strings","react","usePolarisCreationDispatch","usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=d("usePolarisCreationState").useCreationState(),b=d("usePolarisCreationDispatch").useCreationDispatch();return i.jsx(c("PolarisCreationSettingsToggle.react"),{checked:a.advancedSettings.hasAudioReuseDisabled,labelText:d("PolarisCreationV2Strings").TURN_OFF_AUDIO_REUSE,onToggle:function(){b({hasAudioReuseDisabled:!a.advancedSettings.hasAudioReuseDisabled,type:d("PolarisCreationV2ActionTypes").CREATION_SET_AUDIO_REUSE_DISABLED})},subtitleText:d("PolarisCreationV2Strings").TURN_OFF_AUDIO_REUSE_SUBTITLE})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationAdvancedComments.react",["PolarisCreationSettingsToggle.react","PolarisCreationV2ActionTypes","PolarisCreationV2Strings","react","usePolarisCreationDispatch","usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=d("usePolarisCreationState").useCreationState(),b=d("usePolarisCreationDispatch").useCreationDispatch();return i.jsx(c("PolarisCreationSettingsToggle.react"),{checked:a.advancedSettings.hasCommentsDisabled,labelText:d("PolarisCreationV2Strings").TURN_OFF_COMMENTING,onToggle:function(){b({hasCommentsDisabled:!a.advancedSettings.hasCommentsDisabled,type:d("PolarisCreationV2ActionTypes").CREATION_SET_COMMENTS_DISABLED})},subtitleText:d("PolarisCreationV2Strings").TURN_OFF_COMMENTING_SUBTITLE})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationSettingHideLikeViewCounts.react",["PolarisCreationSettingsToggle.react","PolarisCreationV2ActionTypes","PolarisCreationV2Strings","PolarisExternalLink.react","react","usePolarisCreationDispatch","usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j="https://help.instagram.com/113355287252104";function a(){var a=d("usePolarisCreationState").useCreationState(),b=d("usePolarisCreationDispatch").useCreationDispatch();return i.jsx(c("PolarisCreationSettingsToggle.react"),{checked:a.advancedSettings.hasLikeViewCountsDisabled,labelText:d("PolarisCreationV2Strings").HIDE_LIKE_VIEW_COUNTS,onToggle:function(){b({hasLikeViewCountsDisabled:!a.advancedSettings.hasLikeViewCountsDisabled,type:d("PolarisCreationV2ActionTypes").CREATION_SET_LIKE_VIEW_COUNTS_DISABLED})},subtitleText:i.jsxs(i.Fragment,{children:[d("PolarisCreationV2Strings").HIDE_LIKE_VIEW_COUNTS_SUBTITLE," ",i.jsx(c("PolarisExternalLink.react"),{href:j,children:d("PolarisCreationV2Strings").HIDE_LIKE_VIEW_COUNTS_LEARN_MORE})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationModalComposeAdvancedSettings.react",["IGDSBox.react","IGDSDivider.react","PolarisCreationAdvancedAudioReuse.react","PolarisCreationAdvancedComments.react","PolarisCreationModalComposeExpandInput.react","PolarisCreationSettingHideLikeViewCounts.react","PolarisCreationV2Strings","PolarisUA","polarisVideoMergeUtils","react","usePolarisCreationCurrentMedia"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.isExpanded;a=a.onInputPress;var e=d("PolarisUA").isDesktop(),f=c("usePolarisCreationCurrentMedia")();f=f.currentMedia;var g=null;d("polarisVideoMergeUtils").isMediaEligibleForVideoMerge(f)&&d("polarisVideoMergeUtils").isUserEligibleForOAReuseToggle()&&d("polarisVideoMergeUtils").eligibleForVideoMerge()&&(g=i.jsx(c("PolarisCreationAdvancedAudioReuse.react"),{}));return i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisCreationModalComposeExpandInput.react"),{isExpanded:b,onInputPress:a,title:d("PolarisCreationV2Strings").ADVANCED_SETTINGS,children:i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"column",marginBottom:1,position:"relative",children:[e&&i.jsx(c("IGDSBox.react"),{marginBottom:2,position:"relative",children:i.jsx(c("PolarisCreationSettingHideLikeViewCounts.react"),{})}),i.jsx(c("PolarisCreationAdvancedComments.react"),{}),g]})}),!b&&i.jsx(c("IGDSDivider.react"),{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisCreationUpcomingEvents",["PolarisCreationV2ActionTypes","PolarisCreationV2Strings","PolarisInstapi","PolarisUpcomingEventTypes","asyncToGeneratorRuntime","react","usePolarisCreationDispatch","usePolarisCreationState","usePolarisCreationToast"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");var i=e.useEffect,j=e.useRef,k=e.useState;function a(){var a=j(!1),e=k(!1),f=e[0],g=e[1];e=k(!1);var h=e[0],l=e[1],m=d("usePolarisCreationDispatch").useCreationDispatch();e=d("usePolarisCreationState").useCreationState();var n=c("usePolarisCreationToast")(),o=n.setErrorMessage;i(function(){a.current=!0;return function(){a.current=!1}},[]);n=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){a.current&&(l(!0),g(!0));var b=(yield d("PolarisInstapi").apiGet("/api/v1/upcoming_events/add_event_list/",{query:{}}));b.status==="ok"?m({eligibleUpcomingEvents:b.data.upcoming_events.map(function(a){return d("PolarisUpcomingEventTypes").getUpcomingEventFromUpcomingEventDict(a)}),type:d("PolarisCreationV2ActionTypes").CREATION_SET_ELIGIBLE_UPCOMING_EVENTS}):(o(d("PolarisCreationV2Strings").ADD_EVENT_LIST_LOAD_ERROR),a.current&&g(!1));a.current&&l(!1)});return function(){return c.apply(this,arguments)}}();var p=function(a){m({type:d("PolarisCreationV2ActionTypes").CREATION_SET_UPCOMING_EVENT,upcomingEvent:a}),g(!1)};return{eligibleUpcomingEvents:e.eligibleUpcomingEvents,fetchEligibleUpcomingEvents:n,isLoadingEligibleUpcomingEvents:h,isShowingUpcomingEventSelectionModal:f,setIsShowingUpcomingEventSelectionModal:g,setUpcomingEvent:p,upcomingEvent:e.upcomingEvent}}g["default"]=a}),98);
__d("PolarisCreationModalComposeUpcomingEvent.react",["cx","IGDSBox.react","IGDSCalendarPanoOutlineIcon","IGDSIconButton.react","IGDSListItem.react","IGDSSpinner.react","IGDSText.react","IGDSXPanoOutlineIcon","PolarisCreationV2Strings","PolarisGenericStrings","PolarisIGCorePressable","PolarisIGCoreSheetOrModal","PolarisUpcomingEventUtils","react","usePolarisCreationUpcomingEvents"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=240,l=120;function a(){var a=c("usePolarisCreationUpcomingEvents")(),b=a.eligibleUpcomingEvents,e=a.fetchEligibleUpcomingEvents,f=a.isLoadingEligibleUpcomingEvents,g=a.isShowingUpcomingEventSelectionModal,h=a.setIsShowingUpcomingEventSelectionModal,i=a.setUpcomingEvent;a=a.upcomingEvent;return j.jsxs("div",{className:"_aaza",children:[j.jsxs(c("PolarisIGCorePressable"),{className:"_aazb",disabled:a!=null,onPress:e,children:[j.jsx(c("IGDSText.react").Section,{children:a?a.title:d("PolarisCreationV2Strings").ADD_EVENT}),a?j.jsx("span",{className:"_aazc",children:j.jsx(c("IGDSIconButton.react"),{onClick:function(){return i(null)},padding:0,children:j.jsx(c("IGDSXPanoOutlineIcon"),{alt:d("PolarisGenericStrings").CLOSE_TEXT,color:"ig-primary-text",size:16})})}):j.jsx(c("IGDSCalendarPanoOutlineIcon"),{alt:d("PolarisGenericStrings").UPCOMING_EVENT_ICON_ALT,size:16})]}),g&&j.jsx(d("PolarisIGCoreSheetOrModal").IGCoreSheetOrModal,{onClose:function(){return h(!1)},title:d("PolarisCreationV2Strings").SELECT_EVENT,children:f?j.jsx(c("IGDSBox.react"),{alignItems:"center",height:l,justifyContent:"center",position:"relative",children:j.jsx(c("IGDSSpinner.react"),{})}):j.jsx(c("IGDSBox.react"),{maxHeight:k,overflow:"scrollY",paddingY:3,position:"relative",children:b.map(function(a){return j.jsx(c("IGDSListItem.react"),{onPress:function(){return i(a)},subtitle:d("PolarisUpcomingEventUtils").getUpcomingEventDateString(a.startTime),title:a.title},a.eventId)})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationModalMonetizationSettings.react",["cx","IGDSBox.react","IGDSSwitch.react","IGDSText.react","PolarisCreationV2ActionTypes","PolarisExternalLink.react","PolarisIGTVStrings","react","usePolarisCreationDispatch","usePolarisCreationState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.toggleOptions;var b=d("usePolarisCreationState").useCreationState(),e=d("usePolarisCreationDispatch").useCreationDispatch(),f=a.disabled,g=a.helpUrl,h=a.label;a=a.text;return j.jsx("div",{className:"_aabh",children:j.jsxs("div",{className:"_aabi",children:[j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"between",position:"relative",width:"100%",children:[j.jsx(c("IGDSText.react").Label,{children:h}),f===!1&&j.jsx(c("IGDSSwitch.react"),{onValueChange:function(){e({hasAdsEnabled:!b.advancedSettings.hasAdsEnabled,type:d("PolarisCreationV2ActionTypes").CREATION_SET_ADS_ENABLED})},value:b.advancedSettings.hasAdsEnabled})]}),j.jsx(c("IGDSBox.react"),{marginTop:3,position:"relative",children:j.jsxs(c("IGDSText.react").Body2,{color:"secondaryText",children:[a,g!=null&&j.jsxs(j.Fragment,{children:[" ",j.jsx(c("PolarisExternalLink.react"),{href:g,children:d("PolarisIGTVStrings").IGTV_VIDEO_UPLOAD_LEARN_MORE_LINK})]})]})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("polarisRevshareEligibilityToggleOptions",["PolarisIGTVStrings"],(function(a,b,c,d,e,f,g){"use strict";var h=6e4,i="https://www.facebook.com/help/instagram/793848097773634",j="https://help.instagram.com/2635536099905516";function a(a,b){if(a==null)return null;a=a.find(function(a){return a.productType==="igtv_revshare"});if(a==null)return null;var c=a.productConfig;c=(c==null?void 0:c.mesStatusForProduct)!=null?c.mesStatusForProduct:null;if(a.hasOnboarded==="has_completed_onboarding"&&a.canUseProduct==="can_use_product"&&c==="eligible")return b==null||b>=h?{disabled:b==null,helpUrl:i,label:d("PolarisIGTVStrings").IGTV_VIDEO_UPLOAD_MONETIZATION_CHECKBOX_LABEL,text:d("PolarisIGTVStrings").IGTV_VIDEO_UPLOAD_MONETIZATION_CHECKBOX_TEXT}:{disabled:!0,helpUrl:i,label:d("PolarisIGTVStrings").IGTV_VIDEO_UPLOAD_MONETIZATION_CHECKBOX_INELIGIBLE_VIDEO,text:d("PolarisIGTVStrings").IGTV_VIDEO_UPLOAD_MONETIZATION_CHECKBOX_INELIGIBLE_VIDEO_TEXT};else if(c==="not_eligible")return{disabled:!0,helpUrl:j,label:d("PolarisIGTVStrings").IGTV_VIDEO_UPLOAD_MONETIZATION_CHECKBOX_INELIGIBLE_ACCOUNT,text:d("PolarisIGTVStrings").IGTV_VIDEO_UPLOAD_MONETIZATION_CHECKBOX_INELIGIBLE_ACCOUNT_TEXT};return null}g.MINIMUM_VIDEO_DURATION_MS=h;g.revshareEligibilityToggleOptions=a}),98);
__d("usePolarisCreationMonetizationDecisions",["usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("usePolarisCreationState").useCreationState();return a.monetizationEligibility}g["default"]=a}),98);
__d("usePolarisCreationVideoAdsToggleOptions",["polarisRevshareEligibilityToggleOptions","usePolarisCreationCurrentMedia","usePolarisCreationIsSingleVideoPost","usePolarisCreationMonetizationDecisions"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("usePolarisCreationIsSingleVideoPost")(),b=c("usePolarisCreationMonetizationDecisions")(),e=c("usePolarisCreationCurrentMedia")();e=e.currentMedia;if(!a||b==null)return null;a=h(e);return a!=null?d("polarisRevshareEligibilityToggleOptions").revshareEligibilityToggleOptions(b,a):null}function h(a){var b=a.trim;a=a.video;return a==null?null:b==null?a.videoDurationMs*1e3:(b.end-b.start)*1e3}g["default"]=a}),98);
__d("usePolarisCreationAdvancedMonetization",["PolarisCreationModalMonetizationSettings.react","react","usePolarisCreationVideoAdsToggleOptions"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=c("usePolarisCreationVideoAdsToggleOptions")();return a!=null?{monetizationElement:i.jsx(c("PolarisCreationModalMonetizationSettings.react"),{toggleOptions:a}),monetizationIsVisible:!0}:{monetizationElement:null,monetizationIsVisible:!1}}g["default"]=a}),98);
__d("PolarisCreationModalComposeSettingsContent.react",["cx","CometPlaceholder.react","IGDSBox.react","IGDSGlimmer.react","IGDSListItem.react","IGDSText.react","PolarisCreationLocationInput.react","PolarisCreationModalComposeAccessibilitySettings.react","PolarisCreationModalComposeAdvancedSettings.react","PolarisCreationModalComposeUpcomingEvent.react","PolarisUserAvatar.react","QE2Logger","cr:1573","gkx","react","usePolarisCreationAdvancedMonetization","usePolarisViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));e=i;var k=e.useEffect,l=e.useRef,m=e.useState,n={glimmer:{height:"x1s1d1n7",marginBottom:"xyorhqc",marginEnd:"xmo9yow",marginStart:"x17adc0v",width:"xh8yej3",$$css:!0}},o=28;function a(a){var e=a.disclaimerText;a=a.showAdvancedSettings;var f=c("usePolarisViewer")(),g=l(null),h=m(!1),i=h[0];h=h[1];var p=m(!1),q=p[0];p=p[1];var r=c("usePolarisCreationAdvancedMonetization")(),s=r.monetizationElement;r=r.monetizationIsVisible;k(function(){d("QE2Logger").logExposureForIGUser("ig_web_h1_2023_lexical_editor_in_post_creation")},[]);return j.jsxs("div",{className:"_ac2p",ref:g,children:[j.jsx(c("IGDSBox.react"),{marginEnd:4,marginStart:4,children:j.jsx("div",{className:"_ac2q",children:j.jsx(c("IGDSListItem.react"),{addOnStart:j.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:f==null?void 0:f.profilePictureUrl,size:o,username:f==null?void 0:f.username}),paddingX:0,paddingY:0,title:(f=f==null?void 0:f.username)!=null?f:""})})}),j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",children:j.jsx(c("IGDSGlimmer.react"),{index:0,xstyle:n.glimmer})}),children:j.jsx(b("cr:1573"),{})}),j.jsx(c("PolarisCreationLocationInput.react"),{width:g==null?void 0:(f=g.current)==null?void 0:f.offsetWidth}),c("gkx")("4782")&&j.jsx(c("PolarisCreationModalComposeUpcomingEvent.react"),{}),r&&s,j.jsx(c("PolarisCreationModalComposeAccessibilitySettings.react"),{isExpanded:i,onInputPress:h}),a?j.jsx(c("PolarisCreationModalComposeAdvancedSettings.react"),{isExpanded:q,onInputPress:p}):null,j.jsx(c("IGDSBox.react"),{marginEnd:4,marginStart:4,paddingY:3,children:j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"miniscule",textAlign:"start",children:e})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationUserSearchTagList.react",["IGDSBox.react","IGDSIconButton.react","IGDSListItem.react","IGDSText.react","IGDSVerifiedBadge.react","IGDSXPanoOutlineIcon","PolarisCreationV2Strings","PolarisHasFeedCreationV2Dogfooding","PolarisIGCoreButton","PolarisIGCoreConstants","PolarisReactRedux","PolarisUserAvatar.react","polarisUserSelectors","react","usePolarisCreationCurrentMedia"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){var b=a.onRemoveUser,e=a.userId;a=d("PolarisReactRedux").useSelector(function(a){return d("polarisUserSelectors").getUserById(a,e)});function f(){b&&b(e)}return i.jsx(c("IGDSListItem.react"),{addOnEnd:i.jsx(c("IGDSIconButton.react"),{onClick:f,children:i.jsx(c("IGDSXPanoOutlineIcon"),{alt:d("PolarisCreationV2Strings").REMOVE_TAG_ALT,color:"ig-secondary-text",size:16})}),addOnStart:i.jsx(c("PolarisUserAvatar.react"),{profilePictureUrl:a.profilePictureUrl,size:c("PolarisIGCoreConstants").AVATAR_SIZES.medium,username:a.username}),subtitle:a.fullName,title:i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",children:[i.jsx(c("IGDSText.react").BodyEmphasized,{zeroMargin:!0,children:a.username})," ",a.isVerified===!0&&i.jsx(c("IGDSBox.react"),{marginStart:1,children:i.jsx(c("IGDSVerifiedBadge.react"),{size:"small"})})]})})}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=a.onAddUserClick,e=a.onRemoveUser;a=c("usePolarisCreationCurrentMedia")();a=a.currentMedia;a=Array.from(a.tags);var f=d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding();return i.jsxs(c("IGDSBox.react"),{height:"100%",children:[i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"between",margin:4,children:[f?i.jsx(c("IGDSText.react").LabelEmphasized,{color:"secondaryText",zeroMargin:!0,children:d("PolarisCreationV2Strings").TAGGED_PEOPLE}):i.jsx(c("IGDSText.react").BodyEmphasized,{color:"secondaryText",zeroMargin:!0,children:d("PolarisCreationV2Strings").TAGGED_PEOPLE}),i.jsx(c("PolarisIGCoreButton"),{borderless:!0,onClick:b,children:i.jsx(c("IGDSBox.react"),{marginStart:4,children:f?i.jsx(c("IGDSText.react").BodyEmphasized,{color:"primaryButton",zeroMargin:!0,children:d("PolarisCreationV2Strings").TAG_ANOTHER_PERSON}):i.jsx(c("IGDSText.react").Body2Emphasized,{color:"primaryButton",zeroMargin:!0,children:d("PolarisCreationV2Strings").TAG_ANOTHER_PERSON})})})]}),i.jsx(c("IGDSBox.react"),{flex:"grow",overflow:"scrollY",children:a.map(function(a){return i.jsx(j,{onRemoveUser:e,userId:a[0]},a[0])})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationUserSearchPopover.react",["cx","IGDSBox.react","PolarisCreationStrings","PolarisCreationUserSearchTagList.react","PolarisCreationV2ActionTypes","PolarisIGCoreAnchoredPopover","PolarisIGCoreAnchoredPopoverContentContainer","PolarisIGCoreSearchInput","PolarisIGCoreText","PolarisReactRedux","PolarisSearchConstants","PolarisTypeaheadContainer.react","polarisSearchSelectors","react","usePolarisCreationCurrentMedia","usePolarisCreationDispatch"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useState,l=226,m=338,n={positionStyles:{top:0},x:"right",y:"bottom"};function a(a){var b=a.children,e=a.hasTags,f=a.id,g=a.isVisible,h=a.onClose,i=a.position;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","hasTags","id","isVisible","onClose","position"]);var o=c("usePolarisCreationCurrentMedia")(),p=o.currentMedia;o=k("");var q=o[0],r=o[1];o=k(p.type==="video"&&p.tags.size>0);var s=o[0],t=o[1];o=d("PolarisReactRedux").useSelector(d("polarisSearchSelectors").getCurrentSearchContent);o=o.loading;var u=d("usePolarisCreationDispatch").useCreationDispatch();function v(a){a.stopPropagation(),r(a.target.value)}function w(a){a.stopPropagation(),r("")}function x(){h&&h(),p.type==="video"&&p.tags.size>0&&t(!0)}function y(a){p.tags.size<=1&&(h&&h(),t(!1)),u({id:f,type:d("PolarisCreationV2ActionTypes").CREATION_REMOVE_USERTAG_FROM_MEDIA,userId:a})}function z(a){if(a.type===d("PolarisSearchConstants").USER_RESULT){var b,c=String(a.pk);u({id:f,tag:{position:(b=i)!=null?b:[],userId:c,username:a.username},type:d("PolarisCreationV2ActionTypes").CREATION_ADD_USERTAG_TO_MEDIA,userId:c});r("");p.type==="video"?t(!0):x()}}o=j.jsxs(j.Fragment,{children:[j.jsxs("div",{className:"_abfp",children:[j.jsx(c("IGDSBox.react"),{justifyContent:"start",paddingX:3,paddingY:1,position:"relative",children:j.jsx(c("PolarisIGCoreText").Section,{display:"preserve",zeroMargin:!0,children:d("PolarisCreationStrings").TAG_SEARCH_HEADER})}),j.jsx("div",{className:"_abfq",children:j.jsx(c("PolarisIGCoreSearchInput"),{focusOnMount:!0,loading:o,noInputStyling:!0,onChange:v,onClear:w,placeholder:d("PolarisCreationStrings").SEARCH_PLACEHOLDER,value:q})})]}),j.jsx(c("IGDSBox.react"),{height:180,overflow:"scrollY",position:"relative",children:q.length>0&&j.jsx(c("PolarisTypeaheadContainer.react"),{cursorIndex:q.length,initialSearchContext:d("PolarisSearchConstants").SEARCH_CONTEXT.USER,inputString:q,onResultSelect:z,showLargeAvatars:!0,showResultsCondensed:!1,useSearchTriggers:!1})})]});v=s===!0?j.jsx(c("PolarisCreationUserSearchTagList.react"),{onAddUserClick:function(){return t(!1)},onRemoveUser:y}):o;return j.jsx(c("PolarisIGCoreAnchoredPopover"),babelHelpers["extends"]({},a,{content:g&&j.jsx(c("PolarisIGCoreAnchoredPopoverContentContainer"),{height:l,isVisible:g,onClose:x,width:m,children:j.jsx(c("IGDSBox.react"),{height:l,position:"relative",width:m,children:v})},e===!0?0:1),initialPositionStyles:n,positionType:"fixed",children:b!=null?b:j.jsx("div",{className:"_abfr"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisArrowHorizontalPosition",["PolarisPhotoWithIndicator.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useState;function a(a,b){a=i(d("PolarisPhotoWithIndicator.react").getHorizontalOffset(a,b));b=a[0];var c=a[1];return[b,function(a,b){return c(d("PolarisPhotoWithIndicator.react").getHorizontalOffset(a,b))}]}g["default"]=a}),98);
__d("usePolarisArrowPosition",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useState,j=42;function a(a,b){b=i(b-a<j?"bottom":"top");a=b[0];var c=b[1];return[a,function(a,b){return c(b-a<j?"bottom":"top")}]}g.TAG_THRESHOLD=j;g.useArrowPosition=a}),98);
__d("usePolarisUserTagDrag",["react-use-gesture"],(function(a,b,c,d,e,f,g){"use strict";var h=8,i=h+16;function a(a){var b=a.containerRect,c=a.offsetX,e=a.offsetY,f=a.onDrag,g=a.onDragEnd,j=b.left+c,k=b.top+e;a=d("react-use-gesture").useDrag(function(a){var c=a.movement,d=c[0];c=c[1];a=a.down;d=j+d;c=k+c;f&&f(d-b.left,c-b.top);g&&!a&&g(d-b.left,c-b.top)},{bounds:{bottom:b.height-e-h,left:-c+i,right:b.width-c-i,top:-e+h}});return{bindDragEvents:a}}g["default"]=a}),98);
__d("PolarisCreationUserTagV2.react",["cx","IGDSBox.react","IGDSIconButton.react","IGDSXPanoOutlineIcon","PolarisCreationV2ActionTypes","PolarisIGAnimate","PolarisStoriesStrings","PolarisUserTag.react","react","usePolarisArrowHorizontalPosition","usePolarisArrowPosition","usePolarisCreationDispatch","usePolarisUserTagDrag"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef,m=1.08;function a(a){var b=a.containerRect,e=a.id,f=a.isVisible,g=a.usertag,h=d("usePolarisCreationDispatch").useCreationDispatch(),i=l(null);a=d("usePolarisArrowPosition").useArrowPosition(g.position[1]*b.height,b.height);var n=a[0],o=a[1];a=c("usePolarisArrowHorizontalPosition")(g.position[0],((a=(a=i.current)==null?void 0:a.offsetWidth)!=null?a:0)/b.width/2);var p=a[0],q=a[1];a=d("PolarisIGAnimate").usePanAndZoom({scale:1,x:g.position[0]*b.width,y:g.position[1]*b.height},{friction:26,mass:1,tension:470});var r=a.set;a=a.style;k(function(){var a;r({scale:1,x:g.position[0]*b.width,y:g.position[1]*b.height});q(g.position[0],((a=(a=i.current)==null?void 0:a.offsetWidth)!=null?a:0)/b.width/2)},[r,q,i,g.position,b]);function s(a,c){r({scale:1,x:a,y:c});var f=a/b.width;c=c/b.height;q(a/((a=b.width)!=null?a:1),((a=(a=i.current)==null?void 0:a.offsetWidth)!=null?a:0)/b.width/2);h({id:e,tag:{position:[f,c],userId:g.userId,username:g.username},type:d("PolarisCreationV2ActionTypes").CREATION_ADD_USERTAG_TO_MEDIA,userId:g.userId})}function t(a,c){r({scale:m,x:a,y:c});o(c,(a=b.height)!=null?a:0)}t=c("usePolarisUserTagDrag")({containerRect:b,offsetX:g.position[0]*b.width,offsetY:g.position[1]*b.height,onDrag:t,onDragEnd:s});s=t.bindDragEvents;function u(a){a.stopPropagation(),h({id:e,type:d("PolarisCreationV2ActionTypes").CREATION_REMOVE_USERTAG_FROM_MEDIA,userId:g.userId})}t={transform:"translate(\n      "+p+"%,\n      "+(n==="top"?0:-100)+"%\n    ) scale("+(f?1:0)+")"};return j.jsx(d("PolarisIGAnimate").Animated.div,babelHelpers["extends"]({style:babelHelpers["extends"]({},a,{left:0,position:"absolute",top:0,zIndex:2})},s(),{children:j.jsx("div",{className:"_abfs"+(n==="bottom"?" _abft":""),ref:i,children:j.jsx(c("PolarisUserTag.react"),{action:j.jsx(c("IGDSBox.react"),{display:"flex",justifyContent:"center",marginEnd:3,children:j.jsx(c("IGDSIconButton.react"),{onClick:u,padding:0,children:j.jsx(c("IGDSXPanoOutlineIcon"),{alt:d("PolarisStoriesStrings").ALT_TEXT_CLOSE_ICON,color:"web-always-white",size:16})})}),isPointingUp:n==="top",isShowingTags:f,pointerStyle:{left:-p+"%"},style:t,user:babelHelpers["extends"]({},g,{id:e})})})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisIGCoreDeletePanoOutline24Icon",["PolarisIGCoreSVGIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[i.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"2.876",x2:"21.124",y1:"4.727",y2:"4.727"}),i.jsx("path",{d:"M8.818 4.727v-1.59A1.136 1.136 0 0 1 9.954 2h4.092a1.136 1.136 0 0 1 1.136 1.136v1.591",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),i.jsx("path",{d:"m4.377 4.727 1.987 15.88A1.59 1.59 0 0 0 7.942 22h8.116a1.59 1.59 0 0 0 1.578-1.393l1.987-15.88",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("PolarisCreationTagImagePreview.react",["cx","fbt","IGDSBox.react","PolarisCreationMediaButton.react","PolarisCreationMediaPreviewCarouselButtons.react","PolarisCreationStepProvider.react","PolarisCreationTypes","PolarisCreationUserSearchPopover.react","PolarisCreationUserTagV2.react","PolarisCreationV2ActionTypes","PolarisCreationV2Strings","PolarisCreationWarningDialog.react","PolarisDisappearingTooltip.react","PolarisGenericStrings","PolarisHasFeedCreation","PolarisHasFeedCreationV2Dogfooding","PolarisIGCoreConstants","PolarisIGCoreDeletePanoOutline24Icon","PolarisIGCoreUserPanoFilledIcon","PolarisMediaDimensionHelpers","PolarisRect","PolarisResponsiveBlock.react","PolarisUserTagIndicator.react","nullthrows","react","usePolarisCreationDispatch","usePolarisCreationMedia","usePolarisCreationState","usePolarisObjectState"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));b=j;var l=b.useRef,m=b.useState;function n(a){a=a.onTooltipHide;return k.jsx(c("PolarisDisappearingTooltip.react"),{autoHideAfter:c("PolarisIGCoreConstants").TOOLTIP.AUTO_HIDE_MS*1e4,color:"black",disableAutoAlign:!0,disableTooltipHideOnDismount:!0,onTooltipHide:a,position:"above",tooltip:d("PolarisCreationV2Strings").CLICK_PHOTO_TAG,children:k.jsx("div",{})})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b,e=a.containerRect,f=a.isVisible;a=d("usePolarisCreationState").useCreationState();var g=(b=a.currentMediaId)!=null?b:a.multiPostOrder[0];b=c("nullthrows")(a.media.get(g));return Array.from(b.tags.values()).map(function(a){return k.jsx(c("PolarisCreationUserTagV2.react"),{containerRect:e,id:g,isVisible:f,usertag:a},a.userId)})}o.displayName=o.name+" [from "+f.id+"]";var p=25,q=10;function a(a){var b=a.id,e=a.onDelete;a=a.src;var f=l(null),g=d("usePolarisCreationState").useCreationState(),h=d("usePolarisCreationDispatch").useCreationDispatch(),j=m(null),r=j[0],s=j[1];j=m(!0);var t=j[0],u=j[1];j=d("usePolarisCreationState").useCreationState();j=j.multiPostOrder;var v=m(!1),w=v[0],x=v[1];v=c("usePolarisObjectState")({height:0,width:0});var y=v[0],z=v[1];v=c("usePolarisObjectState")(null);var A=v[0],B=v[1];v=c("nullthrows")(g.media.get(b));var C=d("usePolarisCreationMedia").useCreationMedia(b),D=C.mediaHeight,E=C.mediaWidth;C=d("PolarisCreationStepProvider.react").useCreationStep();C=C.step;C=C===d("PolarisCreationTypes").STEP.editPostInfo;var F=function(){h({hasViewedPhotoTooltip:!0,type:d("PolarisCreationV2ActionTypes").CREATION_SET_VIEWED_PHOTO_TOOLTIP})};function G(a){g.hasViewedPhotoTooltip!==!0&&F();t||u(!0);if(r!=null){s(null);return}if(!A)return;var b=a.clientX-A.left;a=a.clientY-A.top;b=b/A.width;a=a/A.height;s([b,a])}function H(a,b){var c;c=d("PolarisMediaDimensionHelpers").getDimensionsToStretchFit((c=D)!=null?c:0,(c=E)!=null?c:0,b,a);z(c);a=f==null?void 0:(b=f.current)==null?void 0:b.getBoundingClientRect();a!=null&&B(d("PolarisRect").fromClientRect(a))}var I,J;r!=null&&(I="calc("+r[0]*100+"% - "+p+"px)",J="calc("+r[1]*100+"% + "+q+"px)");var K=d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding();j=j.length>2&&C&&d("PolarisHasFeedCreation").hasFeedCreation();var L=function(){x(!0)};C=function(){e&&(e(b),x(!1))};var M=function(){return K?k.jsx(c("PolarisCreationMediaPreviewCarouselButtons.react"),{}):null};return k.jsxs(k.Fragment,{children:[j&&w&&k.jsx(c("PolarisCreationWarningDialog.react"),{dialogBody:d("PolarisCreationV2Strings").DELETE_PHOTO_BODY,dialogTitle:d("PolarisCreationV2Strings").DELETE_PHOTO_TITLE,discardText:d("PolarisGenericStrings").DELETE_TEXT,onCancel:function(){return x(!1)},onDiscardClick:C}),k.jsxs(c("PolarisResponsiveBlock.react"),{className:"_aazk",onResize:H,children:[M(),K&&g.hasViewedPhotoTooltip!==!0&&k.jsx("div",{className:"_aazi",children:k.jsx(n,{onTooltipHide:F})}),k.jsxs("div",{className:"_aazl",style:{height:y.height,width:y.width},children:[k.jsx("img",{alt:i._("__JHASH__bWxlq0XQKeD__JHASH__"),className:"_aazh",src:a}),k.jsx("div",{className:"_aazm",onClick:G,ref:f,role:"button",tabIndex:0}),k.jsx("div",{style:{left:I,position:"absolute",top:J},children:k.jsx(c("PolarisCreationUserSearchPopover.react"),{id:b,isVisible:r!=null,onClose:function(){return s(null)},position:r})}),A!=null&&k.jsx(o,{containerRect:A,isVisible:t}),!K&&k.jsx(c("PolarisUserTagIndicator.react"),{absolute:!0,onClick:function(){return u(function(a){return!a})},visible:v.tags.size>0})]}),j&&K&&k.jsx(c("IGDSBox.react"),{left:!0,padding:2,position:"absolute",top:!0,children:k.jsx(c("PolarisCreationMediaButton.react"),{altText:d("PolarisGenericStrings").DELETE_TEXT,icon:c("PolarisIGCoreDeletePanoOutline24Icon"),onClick:function(){return L()},selected:!1})}),K&&v.tags.size>0&&k.jsx(c("IGDSBox.react"),{bottom:!0,left:!0,padding:2,position:"absolute",children:k.jsx(c("PolarisCreationMediaButton.react"),{altText:d("PolarisGenericStrings").TAG_TEXT,icon:c("PolarisIGCoreUserPanoFilledIcon"),onClick:function(){return u(function(a){return!a})},selected:!1})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisForceUpdate",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useState;function a(){var a=i(0);a[0];var b=a[1];return function(){return b(function(a){return a+1})}}g.useForceUpdate=a}),98);
__d("PolarisCreationTagVideoPreview.react",["IGDSBox.react","IGDSText.react","PolarisCreationCropHelpers","PolarisCreationMediaButton.react","PolarisCreationMediaPreviewCarouselButtons.react","PolarisCreationStepProvider.react","PolarisCreationTypes","PolarisCreationUserSearchPopover.react","PolarisCreationV2State","PolarisCreationV2Strings","PolarisCreationVideoPlayer.react","PolarisCreationWarningDialog.react","PolarisGenericStrings","PolarisHasFeedCreation","PolarisHasFeedCreationV2Dogfooding","PolarisIGCoreDeletePanoOutline24Icon","PolarisIGCoreUserPanoFilledIcon","PolarisUserTagIndicator.react","react","usePolarisCreationCurrentMedia","usePolarisCreationMediaPreview","usePolarisCreationState","usePolarisForceUpdate"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function l(){var a=c("usePolarisCreationCurrentMedia")(),b=a.currentMedia;a=a.currentMediaId;b=((b=b.tags.size)!=null?b:0)>0;var e=k(!1),f=e[0],g=e[1];return i.jsxs(c("IGDSBox.react"),{bottom:!0,left:!0,position:"absolute",children:[i.jsx(c("PolarisCreationUserSearchPopover.react"),{hasTags:b,id:a,isVisible:f,onClose:function(){return g(!1)},position:[],preferredPositionY:"top"}),d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()?i.jsx(c("IGDSBox.react"),{padding:2,position:"relative",children:i.jsx(c("PolarisCreationMediaButton.react"),{altText:d("PolarisGenericStrings").TAG_TEXT,endText:d("PolarisCreationV2Strings").TAG_A_PERSON,icon:c("PolarisIGCoreUserPanoFilledIcon"),onClick:function(){return g(!0)},selected:!1})}):i.jsx(c("PolarisUserTagIndicator.react"),{absolute:!1,endAndornment:b?null:i.jsx(c("IGDSBox.react"),{marginStart:2,position:"relative",children:i.jsx(c("IGDSText.react"),{color:"webAlwaysWhite",weight:"semibold",children:d("PolarisCreationV2Strings").TAG_A_PERSON})}),onClick:function(){return g(!0)},visible:!0})]})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.onDelete;a=d("usePolarisCreationState").useCreationState();var e=c("usePolarisCreationCurrentMedia")(),f=e.currentMedia,g=e.currentMediaId;e=e.currentMediaItem;var h=d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding(),m=d("usePolarisForceUpdate").useForceUpdate(),n=d("usePolarisCreationState").useCreationState();n=n.multiPostOrder;var o=k(!1),p=o[0],q=o[1];a=c("usePolarisCreationMediaPreview")(f,(o=a.cropRatio)!=null?o:1);var r=a.croppedHeightScaled,s=a.croppedWidthScaled;o=a.mediaDimensions;a=a.setFrameEl;var t=d("PolarisCreationStepProvider.react").useCreationStep();t=t.step;t=t===d("PolarisCreationTypes").STEP.editPostInfo;var u=d("PolarisCreationCropHelpers").getPanningOffsets(r,s,f),v=u.offsetX;u=u.offsetY;var w=f.scale,x={display:"flex",height:o.height,transform:"translateX("+v+"px) translateY("+u+"px) scale("+w,transition:"none",width:o.width};v=n.length>2&&t&&d("PolarisHasFeedCreation").hasFeedCreation();var y=function(){q(!0)};u=function(){b&&(b(g),q(!1))};j(function(){parseInt(x.height,10)!==r&&parseInt(x.width,10)!==s&&m()});return i.jsxs(c("IGDSBox.react"),{alignItems:"center",containerRef:a,height:"100%",justifyContent:"center",position:"relative",width:"100%",children:[h&&i.jsx(c("PolarisCreationMediaPreviewCarouselButtons.react"),{}),v&&d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()&&i.jsx(c("IGDSBox.react"),{left:!0,padding:2,position:"absolute",top:!0,children:i.jsx(c("PolarisCreationMediaButton.react"),{altText:d("PolarisGenericStrings").DELETE_TEXT,icon:c("PolarisIGCoreDeletePanoOutline24Icon"),onClick:function(){return y()},selected:!1})}),v&&p&&i.jsx(c("PolarisCreationWarningDialog.react"),{dialogBody:d("PolarisCreationV2Strings").DELETE_VIDEO_BODY,dialogTitle:d("PolarisCreationV2Strings").DELETE_VIDEO_TITLE,discardText:d("PolarisGenericStrings").DELETE_TEXT,onCancel:function(){return q(!1)},onDiscardClick:u}),i.jsxs(c("IGDSBox.react"),{alignItems:"center",height:r,justifyContent:"center",overflow:"hidden",position:"relative",width:s,children:[i.jsx(c("PolarisCreationVideoPlayer.react"),{coverPhoto:f==null?void 0:(w=f.coverPhoto)==null?void 0:(o=w.selectedCoverPhoto)==null?void 0:o.dataURL,muted:f.audio!==d("PolarisCreationV2State").AUDIO_STATUS.on,src:e.dataURL,style:x,trim:f.trim}),!h&&i.jsx(l,{})]}),h&&i.jsx(l,{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationV2Shell.react",["IGDSBox.react","PolarisCreationConstants","react","useIGDSToaster","usePolarisCreationState","usePolarisCreationToast"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){a=a.children;var b=c("usePolarisCreationToast")(),e=b.clearToast,f=d("usePolarisCreationState").useCreationState();b=c("useIGDSToaster")();var g=b.add;j(function(){f.errorMessage!=null&&g({message:f.errorMessage},{duration:d("PolarisCreationConstants").TOAST_TIMEOUT,onAfterHide:e()})},[g,f.errorMessage,e]);return i.jsx(c("IGDSBox.react"),{flex:"grow",overflow:"hidden",position:"relative",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationModalComposePage.react",["PolarisCreationCameraLogger","PolarisCreationLoggerHooks","PolarisCreationModalBodyV2.react","PolarisCreationModalComposeSettingsContent.react","PolarisCreationModalHeader.react","PolarisCreationStepProvider.react","PolarisCreationTagImagePreview.react","PolarisCreationTagVideoPreview.react","PolarisCreationV2Shell.react","PolarisCreationV2Strings","asyncToGeneratorRuntime","nullthrows","polarisVideoMergeUtils","react","usePolarisCreationCurrentMedia","usePolarisCreationState","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a,b){if(a)if(b===!0)return d("PolarisCreationV2Strings").REELS_DISCLAIMER_PRIVATE;else return d("PolarisCreationV2Strings").REELS_DISCLAIMER_PUBLIC}function a(a){var e=a.disclaimerText;a=a.modalTitle;var f=d("PolarisCreationStepProvider.react").useCreationStep(),g=f.handleNextStep;f=d("usePolarisCreationState").useCreationState();var h=f.media,k=f.multiPostOrder,l=f.sessionId,m=h.get(k[0]);f=c("usePolarisCreationCurrentMedia")();h=f.currentMedia;k=f.currentMediaId;if(h.type==="image"){f=c("nullthrows")((f=h.filteredMedia)==null?void 0:f.dataURL)}else{var n;f=c("nullthrows")((n=h.video)==null?void 0:n.dataURL)}function o(){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(m==null?void 0:m.type)==="image"?d("PolarisCreationCameraLogger").InstagramCameraMediaTypes.PHOTO:d("PolarisCreationCameraLogger").InstagramCameraMediaTypes.VIDEO;d("PolarisCreationCameraLogger").logFeedCreationShareMedia({mediaType:a,sessionId:l});g()});return p.apply(this,arguments)}d("PolarisCreationLoggerHooks").useCreationFeedGalleryStartShareSessionLogger();n=c("usePolarisViewer")();n=n==null?void 0:n.isPrivate;var q=d("polarisVideoMergeUtils").isMediaEligibleForVideoMerge(h)&&d("polarisVideoMergeUtils").eligibleForVideoMerge();return i.jsxs(c("PolarisCreationV2Shell.react"),{children:[i.jsx(d("PolarisCreationModalHeader.react").CreationModalHeader,{modalTitle:a,onCta:o,showReelCreationHeader:q}),i.jsx(c("PolarisCreationModalBodyV2.react"),{mainContent:h.type==="image"?i.jsx(c("PolarisCreationTagImagePreview.react"),{id:k,src:f},k):i.jsx(c("PolarisCreationTagVideoPreview.react"),{}),settingsColumnContent:i.jsx(c("PolarisCreationModalComposeSettingsContent.react"),{disclaimerText:(a=e)!=null?a:j(q,n),showAdvancedSettings:!0})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisGenericDropzone.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect;function a(a){var b=a.children,c=a.onDrag,d=a.onFilesSelect,e=j(function(a){a.preventDefault(),c!=null&&c(!0)},[c]),f=j(function(a){a.preventDefault(),c!=null&&c(!1)},[c]);k(function(){document.addEventListener("dragover",e);document.addEventListener("dragleave",f);return function(){document.removeEventListener("dragover",e),document.addEventListener("dragleave",f)}},[f,e]);var g=j(function(a){var b;b=(b=a.dataTransfer)==null?void 0:b.files;b!=null&&d(b);a.preventDefault()},[d]);k(function(){document.addEventListener("drop",g);return function(){document.removeEventListener("drop",g)}},[g]);return i.jsx(i.Fragment,{children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisCreationCropAllMedia",["PolarisCreationV2Actions","Promise","asyncToGeneratorRuntime","nullthrows","usePolarisCreationDispatch","usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("usePolarisCreationState").useCreationState(),e=d("usePolarisCreationDispatch").useCreationDispatch();function f(){var f=a.multiPostOrder.map(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var f=c("nullthrows")(a.media.get(b));f.type==="image"?e(yield d("PolarisCreationV2Actions").createCroppedPhoto(b,c("nullthrows")(f.image),c("nullthrows")(a.cropRatio),f.panningOffsetRatioX,f.panningOffsetRatioY,f.scale)):e(yield d("PolarisCreationV2Actions").createCroppedVideo(b))});return function(a){return f.apply(this,arguments)}}());return(h||(h=b("Promise"))).all(f)}return f}g["default"]=a}),98);
__d("PolarisCreationModalCropPage.react",["PolarisCreationCameraLogger","PolarisCreationError","PolarisCreationErrorHelpers","PolarisCreationModalBodyV2.react","PolarisCreationModalHeader.react","PolarisCreationStepProvider.react","PolarisCreationV2Shell.react","PolarisCreationV2Strings","PolarisGenericDropzone.react","asyncToGeneratorRuntime","gkx","react","usePolarisCreationCropAllMedia","usePolarisCreationMediaPopoverContext","usePolarisCreationSelectMedia","usePolarisCreationState","usePolarisCreationToast"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useMemo,k=e.useState;function l(){var a=d("usePolarisCreationState").useCreationState(),e=a.sessionId;a=c("usePolarisCreationSelectMedia")();var f=a.addMediaFiles;a=c("usePolarisCreationToast")();var g=a.setErrorMessage;a=d("usePolarisCreationMediaPopoverContext").useCreationMediaPopoverContext();var h=a.setOpenedPopover;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{yield f(a),d("PolarisCreationCameraLogger").logFeedCreationCameraEndGallerySession({sessionId:e}),h(d("usePolarisCreationMediaPopoverContext").CreationMediaPopoverView.GALLERY)}catch(c){if(c instanceof d("PolarisCreationError").CreationError){var b=d("PolarisCreationErrorHelpers").getCreationErrorToastForError(c);b?g(b.message):g(a.length>1?d("PolarisCreationV2Strings").MULTIPLE_FILE_UPLOAD_ERROR:d("PolarisCreationV2Strings").SINGLE_FILE_UPLOAD_ERROR)}else throw c}});return function(b){return a.apply(this,arguments)}}();return c("gkx")("4783")===!0?i.jsx(c("PolarisGenericDropzone.react"),{onFilesSelect:a,children:i.jsx(c("PolarisCreationModalBodyV2.react"),{})}):i.jsx(c("PolarisCreationModalBodyV2.react"),{})}l.displayName=l.name+" [from "+f.id+"]";function a(a){a=a.modalTitle;var e=d("usePolarisCreationState").useCreationState(),f=d("PolarisCreationStepProvider.react").useCreationStep(),g=f.handleNextStep,h=c("usePolarisCreationCropAllMedia")();function m(){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield h(),d("PolarisCreationCameraLogger").logFeedCreationFeedGalleryStartEditSession({sessionId:e.sessionId}),g()});return n.apply(this,arguments)}f=k(null);var o=f[0],p=f[1];f=j(function(){return{openedPopover:o,setOpenedPopover:p}},[o,p]);return i.jsxs(c("PolarisCreationV2Shell.react"),{children:[i.jsx(d("PolarisCreationModalHeader.react").CreationModalHeader,{modalTitle:a,onCta:m}),i.jsx(d("usePolarisCreationMediaPopoverContext").CreationMediaPopoverContext.Provider,{value:f,children:i.jsx(l,{})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationModalEditPageAdjustmentTab.react",["cx","IGDSBox.react","IGDSButton.react","IGDSText.react","PolarisCreationConstants","PolarisCreationSlider.react","PolarisCreationV2Strings","PolarisHasFeedCreationV2Dogfooding","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useState,m=36;function n(a){var b=a.currentValue,e=a.defaultValue,f=a.filterName,g=a.onAdjustmentStrengthChange,h=a.onAdjustmentStrengthSet;a=l(!1);var i=a[0],n=a[1];a=k(function(){h(f,e)},[h,f,e]);return j.jsx(c("IGDSBox.react"),{flex:"none",justifyContent:"end",paddingX:4,position:"relative",children:j.jsxs("div",{onMouseEnter:function(){return n(!0)},onMouseLeave:function(){return n(!1)},role:"presentation",children:[j.jsxs("div",{className:"_aazd",children:[j.jsx(c("IGDSText.react").Label,{zeroMargin:!0,children:d("PolarisCreationV2Strings").ADJUSTMENT_FILTER_MAPPING[f]}),d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()&&b!==e&&i&&j.jsx(c("IGDSButton.react"),{display:"block",label:d("PolarisCreationV2Strings").RESET_ADJUSTMENT,onClick:a,variant:"primary_link"})]}),j.jsx(c("IGDSBox.react"),{height:m,justifyContent:"center",position:"relative",children:j.jsx(d("PolarisCreationSlider.react").CreationSlider,{centerBased:f!=="vignette",initialValue:b,maxValue:100,minValue:f==="vignette"?0:-100,onChange:function(a){g(f,a)},onSetValue:function(a){h(f,a)},showValue:!0})})]})},f)}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.adjustmentParams,e=a.onAdjustmentStrengthChange,f=a.onAdjustmentStrengthSet;return j.jsx(c("IGDSBox.react"),{flex:"grow",overflow:"auto",position:"relative",children:j.jsx(c("IGDSBox.react"),{marginBottom:4,position:"relative",children:Object.keys(b).map(function(a){var c;return j.jsx(n,{currentValue:(c=b[a])!=null?c:d("PolarisCreationConstants").INIT_ADJUSTMENT_STRENGTH,defaultValue:0,filterName:a,onAdjustmentStrengthChange:e,onAdjustmentStrengthSet:f},a)})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationFilterImageThumbnail.react",["cx","fbt","PolarisHasFeedCreationV2Dogfooding","PolarisIGCoreButton","PolarisIGCoreText","react","usePolarisDisplayProperties"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function l(a){a=a.getName();return a==="Normal"&&d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()?i._("__JHASH__IKg9lq2USme__JHASH__"):a}function a(a){var b=a.filter,e=a.filterBuilder,f=a.isSelected,g=a.onClick;a=c("usePolarisDisplayProperties")();a=a.pixelRatio;return k.jsxs(c("PolarisIGCoreButton"),{borderless:!0,onClick:function(){return g(b)},children:[k.jsx("div",{className:"_abg9"+(f?" _abga":""),children:k.jsx("img",{alt:i._("__JHASH__QzDeQ4rlx9e__JHASH__",[i._param("filter title",e.getName())]),className:"_abgb"+(d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()?" _abgc":""),src:e.getThumbnail(a)})}),k.jsx(c("PolarisIGCoreText"),{color:f?"ig-primary-button":"ig-secondary-text",size:"footnote",weight:f?"semibold":"normal",children:l(e)})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationModalEditPageFilterTab.react",["cx","IGDSBox.react","IGDSDivider.react","PolarisCreationFilterImageThumbnail.react","PolarisCreationSlider.react","PolarisFilters","PolarisHasFeedCreationV2Dogfooding","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=50;function a(a){var b=a.filterStrength,e=a.onFilterClick,f=a.onFilterStrengthChange,g=a.onFilterStrengthSet,h=a.selectedFilterName;function i(a){e(a,h)}return j.jsxs(j.Fragment,{children:[j.jsx(c("IGDSBox.react"),{flex:"grow",overflow:"auto",position:"relative",children:j.jsxs("div",{className:"_ac39"+(d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()?"":" _aab0"),children:[d("PolarisFilters").FILTER_NAMES.map(function(a){return j.jsx(c("IGDSBox.react"),{marginTop:4,position:"relative",width:1/3*100+"%",children:j.jsx(c("PolarisCreationFilterImageThumbnail.react"),{filter:a,filterBuilder:d("PolarisFilters").FILTERS[a],isSelected:h===a,onClick:i})},a)}),j.jsx(c("IGDSBox.react"),{height:16,position:"relative",width:"100%"})]})}),h!=="normal"&&j.jsx(c("IGDSDivider.react"),{}),j.jsx(c("IGDSBox.react"),{display:h==="normal"?"none":void 0,flex:"none",justifyContent:"end",position:"relative",children:j.jsx(c("IGDSBox.react"),{height:k,justifyContent:"center",paddingX:4,position:"relative",children:j.jsx(d("PolarisCreationSlider.react").CreationSlider,{initialValue:b,onChange:f,onSetValue:g,showValue:!0},h)})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationCoverPhotoFileSelector.react",["IGDSButton.react","PolarisCreationV2Strings","PolarisHasFeedCreationV2Dogfooding","PolarisImageFileForm.react","PolarisUA","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useRef,k=["image/jpeg","image/png"];function a(a){a=a.onChange;var b=j(null),e=function(){var a=b==null?void 0:b.current;a!=null&&a.selectFile()};return i.jsxs("div",{children:[i.jsx(c("IGDSButton.react"),{display:"block",label:d("PolarisUA").isTouchDevice()&&d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()?d("PolarisCreationV2Strings").SELECT_COVER_PHOTO_FROM_DEVICE_TEXT:d("PolarisCreationV2Strings").SELECT_COVER_PHOTO_TEXT,onClick:e,variant:"primary_link"}),i.jsx(d("PolarisImageFileForm.react").ImageFileForm,{acceptMimeTypes:k,capture:!1,multiple:!1,onFileChange:a,ref:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationFilmStrip.react",["cx","PolarisResponsiveBlock.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.editType,d=a.onResize;a=a.placeholders;return j.jsx(c("PolarisResponsiveBlock.react"),{className:(b==="coverPhoto"?"_aabj":"")+(b==="trim"?" _aabk":""),onResize:d,children:a.map(function(a){return j.jsx("div",{className:"_aabl",style:{backgroundImage:"url("+a.dataURL+")"}},a.dataURL)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("polarisCalculateScrubberPosition",["DateConsts","PolarisCreationConstants"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,d){if(b==null)return null;var e=a/b.clientWidth;e=e*100;if(d){d=c*(a/(b.clientWidth-c));a=d/b.clientWidth;c=Math.round(a*100);return e+c}return e}function b(a,b){var c=a/100;b=b*c;return Math.min(Math.max(.01,b),a-d("PolarisCreationConstants").DEFAULT_VIDEO_COVER_TIME)}function c(a,b,c,d,e){a=a/b;b=a*c;if(e){c=d*a;return b-c}return b}function e(a,b){return d("PolarisCreationConstants").MIN_TRIM_LENGTH/a*b}function f(a){var b=Math.round(a*(a=d("DateConsts")).MS_PER_SEC)/a.MS_PER_SEC,c=Math.floor(b/a.SEC_PER_HOUR);b=b-c*a.SEC_PER_HOUR;var e=Math.floor(b/a.SEC_PER_MIN);b=Math.floor(b-e*a.SEC_PER_MIN);a=("0"+c).slice(-2);e=("0"+e).slice(-2);b=("0"+b).slice(-2);var f="";c>0&&(f+=a+":");return f+=e+":"+b}g.xToSlider=a;g.sliderToTime=b;g.timeToX=c;g.minTrimX=e;g.convertTimestampToFormattedString=f}),98);
__d("usePolarisVideoScrubber",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useLayoutEffect,k=b.useRef;function l(a){return Math.round((a+Number.EPSILON)*100)/100}function a(a,b,c,d){var e=k(a.current),f=i(function(c,e){e===void 0&&(e=!0);var f=b.current;if(f!=null){var g=l(c)!==l(f.currentTime);g&&(f.currentTime=c,a.current=c,e&&d(f,c))}},[a,d,b]),g=i(function(){var a=b.current;a!=null&&f(e.current)},[f,b]),h=i(function(a){var c=b.current;c!=null&&!c.seeking&&f(a);e.current=a},[f,b]);j(function(){var a=b.current;a!=null&&c&&f(e.current,!1)},[f,b,c]);return{handleScrubberPositionChange:h,handleVideoSeeked:g}}g["default"]=a}),98);
__d("PolarisCreationCoverPhotoPicker.react",["cx","IGDSBox.react","PolarisCreationConstants","PolarisCreationFilmStrip.react","PolarisIGAnimate","PolarisUA","polarisCalculateScrubberPosition","react","react-spring-wwwig","react-use-gesture","usePolarisVideoScrubber"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useLayoutEffect,m=b.useMemo,n=b.useRef,o=b.useState;function a(a){var b,e=a.duration,f=a.initialCurrentTime,g=a.mediaId,h=a.onChange,i=a.placeholders,p=a.previewDataUrl,q=a.previewVideoRef;a=o(null);var r=a[0];a=a[1];var s=n(f);f=o(null);var t=f[0],u=f[1];f=d("react-spring-wwwig").useSpring(function(){return{}});var v=f[0],w=f[1];f=o(!1);var x=f[0],y=f[1];f=k(function(){if(r!=null&&x){var a;a=d("polarisCalculateScrubberPosition").timeToX(s.current,e,(a=r==null?void 0:r.clientWidth)!=null?a:0,d("PolarisCreationConstants").PREVIEW_TILE_WIDTH,!0);a!=null&&(w({immediate:!0,x:a}),u(a))}},[e,r,w,x]);l(f,[f]);var z=m(function(){return h.bind(null,g)},[g,h]);z=c("usePolarisVideoScrubber")(s,q,x,z);var A=z.handleScrubberPositionChange;z=z.handleVideoSeeked;b=d("react-use-gesture").useDrag(function(a){var b,c=a.down;a=a.movement;a=a[0];b=((b=t)!=null?b:0)+a;w({config:d("PolarisCreationConstants").SLIDER_ANIMATION_CONFIG,x:b});if(q.current!=null){A(d("polarisCalculateScrubberPosition").sliderToTime(e,(a=d("polarisCalculateScrubberPosition").xToSlider(b,r,d("PolarisCreationConstants").PREVIEW_TILE_WIDTH,!0))!=null?a:0))}c||u(b)},{bounds:{bottom:0,left:((b=t)!=null?b:0)*-1,right:((b=r==null?void 0:r.clientWidth)!=null?b:0)-((b=t)!=null?b:0)-d("PolarisCreationConstants").PREVIEW_TILE_WIDTH,top:0},filterTaps:!0,pointer:{touch:!0},preventDefault:!0});return j.jsx("div",{dir:"ltr",children:j.jsxs(c("IGDSBox.react"),{containerRef:a,marginBottom:2,marginTop:2,position:"relative",children:[j.jsx(c("PolarisCreationFilmStrip.react"),{editType:"coverPhoto",onResize:f,placeholders:i}),j.jsx(d("PolarisIGAnimate").Animated.div,babelHelpers["extends"]({"aria-valuemax":"100","aria-valuemin":"0","aria-valuenow":(f=d("polarisCalculateScrubberPosition").xToSlider((a=t)!=null?a:0,r,d("PolarisCreationConstants").PREVIEW_TILE_WIDTH,!0))!=null?f:0,role:"slider"},b(),{className:"_abg6",style:babelHelpers["extends"]({},v,{height:d("PolarisCreationConstants").PREVIEW_TILE_HEIGHT,opacity:x?1:0,width:d("PolarisCreationConstants").PREVIEW_TILE_WIDTH}),children:j.jsx("video",{autoPlay:d("PolarisUA").isMobileSafari(),className:"_abg7",muted:!0,onLoadedData:function(){return y(!0)},onSeeked:z,ref:q,src:p})}))]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationMuteToggle.react",["IGDSBox.react","IGDSSwitch.react","IGDSText.react","PolarisCreationV2ActionTypes","PolarisCreationV2State","PolarisCreationV2Strings","react","usePolarisCreationCurrentMedia","usePolarisCreationDispatch"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=(e={},e[d("PolarisCreationV2State").AUDIO_STATUS.on]=i.jsx(a,{label:d("PolarisCreationV2Strings").SOUND_ON_LABEL}),e[d("PolarisCreationV2State").AUDIO_STATUS.off]=i.jsx(a,{label:d("PolarisCreationV2Strings").SOUND_ON_LABEL}),e[d("PolarisCreationV2State").AUDIO_STATUS.none]=i.jsx(a,{label:d("PolarisCreationV2Strings").NO_AUDIO_LABEL}),e);function a(a){a=a.label;return i.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",position:"relative",children:i.jsx(c("IGDSText.react").Label,{children:a})})}a.displayName=a.name+" [from "+f.id+"]";function k(a){a=a.audioStatus;return j[a]}k.displayName=k.name+" [from "+f.id+"]";function b(){var a=c("usePolarisCreationCurrentMedia")(),b=a.currentMedia,e=a.currentMediaId,f=d("usePolarisCreationDispatch").useCreationDispatch();a=function(){f({audio:b.audio===d("PolarisCreationV2State").AUDIO_STATUS.on?d("PolarisCreationV2State").AUDIO_STATUS.off:d("PolarisCreationV2State").AUDIO_STATUS.on,id:e,type:d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_META})};return i.jsxs(c("IGDSBox.react"),{direction:"row",justifyContent:"between",marginBottom:8,marginTop:3,position:"relative",width:"100%",children:[i.jsx(k,{audioStatus:b.audio}),i.jsx(c("IGDSSwitch.react"),{disabled:b.audio===d("PolarisCreationV2State").AUDIO_STATUS.none,onValueChange:a,value:b.audio===d("PolarisCreationV2State").AUDIO_STATUS.on})]})}b.displayName=b.name+" [from "+f.id+"]";g["default"]=b}),98);
__d("PolarisCreationVideoCurrentTimeBar.react",["cx","react","usePolarisCreationVideoPlayer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useEffect,m=b.useState,n;function a(){var a=d("usePolarisCreationVideoPlayer").useCreationVideoPlayerContext(),b=a.video;a=m(0);var c=a[0],e=a[1];a=m(!1);var f=a[0],g=a[1],h=k(function(){if(b==null)return;var a=b.currentTime,c=b.duration;a=a*100/c;e(a);g(!b.paused);n=window.requestAnimationFrame(h)},[b]);l(function(){b!==null&&(n=window.requestAnimationFrame(h));return function(){window.cancelAnimationFrame(n)}},[h,b]);return j.jsx(j.Fragment,{children:f&&j.jsx("div",{className:"_aazn",style:{left:c+"%"}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationVideoTrimScrubber.react",["cx","PolarisCreationConstants","PolarisIGAnimate","polarisCalculateScrubberPosition","react","react-spring-wwwig","react-use-gesture","usePolarisCreationVideoPlayer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useLayoutEffect,l=b.useState;function m(a,b,c,d,e,f){if(f==="start"){return{bottom:0,left:((f=c)!=null?f:0)*-1,right:((f=e)!=null?f:0)-((e=c)!=null?e:0)-a,top:0}}return{bottom:0,left:(((f=b==null?void 0:b.clientWidth)!=null?f:0)+((e=c)!=null?e:0)-((b=d)!=null?b:0)-a)*-1,right:((f=c)!=null?f:0)*-1,top:0}}function a(a){var b,c=a.duration,e=a.handleDrag,f=a.handleTrimChange;a.mediaId;a.onChange;var g=a.previewVideoRef,h=a.scrubberType,i=a.trimContainerEl,n=a.trimEnd;a=a.trimStart;var o=i==null?void 0:i.clientWidth,p=d("usePolarisCreationVideoPlayer").useCreationVideoPlayerContext(),q=p.video;p=l(null);var r=p[0],s=p[1];p=d("react-spring-wwwig").useSpring(function(){return{}});var t=p[0],u=p[1];p=l(!1);var v=p[0],w=p[1];p=d("polarisCalculateScrubberPosition").minTrimX(c,(p=o)!=null?p:0);var x=d("polarisCalculateScrubberPosition").timeToX(a,c,(b=o)!=null?b:0,d("PolarisCreationConstants").VIDEO_TRIMMER_WIDTH,!1),y=d("polarisCalculateScrubberPosition").timeToX(n,c,(b=o)!=null?b:0,d("PolarisCreationConstants").VIDEO_TRIMMER_WIDTH,!1);b=d("polarisCalculateScrubberPosition").convertTimestampToFormattedString(h==="start"?a:n);var z=function(a){q!=null&&(q.currentTime=a)};k(function(){if(i!=null){var a;a=h==="start"?x:y-((a=o)!=null?a:0);a!=null&&(u({config:d("PolarisCreationConstants").SLIDER_ANIMATION_CONFIG,immediate:!0,x:a}),s(a))}},[o]);a=d("react-use-gesture").useDrag(function(a){var b,e=a.down;a=a.movement;a=a[0];b=((b=r)!=null?b:0)+a;u({config:d("PolarisCreationConstants").SLIDER_ANIMATION_CONFIG,x:b});a=h==="start"?b:((a=o)!=null?a:0)+b;a=d("polarisCalculateScrubberPosition").sliderToTime(c,(a=d("polarisCalculateScrubberPosition").xToSlider(a,i,d("PolarisCreationConstants").VIDEO_TRIMMER_WIDTH,!1))!=null?a:0);g.current!=null&&(a-=d("PolarisCreationConstants").DEFAULT_VIDEO_COVER_TIME,f(a,h==="start"));e?(w(!0),z(a)):(w(!1),s(b))},{bounds:m(p,i,r,x,y,h),filterTaps:!0});return j.jsxs(d("PolarisIGAnimate").Animated.div,babelHelpers["extends"]({"aria-valuemax":"100","aria-valuemin":"0","aria-valuenow":(p=d("polarisCalculateScrubberPosition").xToSlider((n=r)!=null?n:0,i,d("PolarisCreationConstants").VIDEO_TRIMMER_WIDTH,!1))!=null?p:0,onMouseDown:function(){return e(!0)},onMouseUp:function(){return e(!1)},role:"slider"},a(),{className:"_ac31"+(h==="start"?" _ac32":"")+(h==="end"?" _ac33":""),style:babelHelpers["extends"]({},t,{height:d("PolarisCreationConstants").VIDEO_TRIMMER_HEIGHT,width:d("PolarisCreationConstants").VIDEO_TRIMMER_WIDTH}),children:[j.jsx("div",{className:"_ac34"}),v?j.jsx("div",{className:"_ac35",children:b}):null]}))}a.displayName=a.name+" [from "+f.id+"]";g.calculateScrubberBoundaries=m;g.CreationVideoTrimScrubber=a}),98);
__d("polarisTimeRuler",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=[];b.push({hasLabel:!0,timestamp:0});for(var c=0;c<3;c+=1)b.push({hasLabel:!1});b.push({hasLabel:!0,timestamp:Math.round(a/2)});for(c=0;c<3;c+=1)b.push({hasLabel:!1});b.push({hasLabel:!0,timestamp:Math.round(a)});return b}f.getTicks=a}),66);
__d("PolarisCreationVideoTrimTimeRuler.react",["cx","IGDSBox.react","polarisTimeRuler","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.duration;a=d("polarisTimeRuler").getTicks(a);return j.jsx(c("IGDSBox.react"),{direction:"row",justifyContent:"between",marginTop:2,position:"relative",children:a.map(function(a,b){return j.jsxs("div",{className:"_aaze",children:[j.jsx("div",{className:"_aazf"+(a.hasLabel?" _aazg":"")}),a.hasLabel&&j.jsxs("div",{children:[a.timestamp,"s"]})]},b)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationVideoTrimmerTrimmedOutMask.react",["cx","PolarisCreationConstants","polarisCalculateScrubberPosition","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.duration,c=a.trimContainerEl,e=a.trimEnd;a=a.trimStart;return j.jsxs("div",{className:"_aako",children:[j.jsx("div",{className:"_aakp _aakq",style:{left:0,width:d("polarisCalculateScrubberPosition").timeToX(a,b,(a=c==null?void 0:c.clientWidth)!=null?a:0,d("PolarisCreationConstants").VIDEO_TRIMMER_WIDTH,!1)-d("PolarisCreationConstants").VIDEO_TRIM_BORDER_ADDITIONAL_PADDING}}),j.jsx("div",{className:"_aakp _aakr",style:{right:0,width:d("polarisCalculateScrubberPosition").timeToX(b-e,b,(a=c==null?void 0:c.clientWidth)!=null?a:0,d("PolarisCreationConstants").VIDEO_TRIMMER_WIDTH,!1)-d("PolarisCreationConstants").VIDEO_TRIM_BORDER_ADDITIONAL_PADDING}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisCreationTrimmer",["PolarisCreationV2Actions","usePolarisCreationCurrentMedia","usePolarisCreationDispatch"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("usePolarisCreationDispatch").useCreationDispatch(),b=c("usePolarisCreationCurrentMedia")(),e=b.currentMediaId;function f(b,c){b=d("PolarisCreationV2Actions").createTrimmedVideo(e,b,c);a(b)}return{trimVideo:f}}g["default"]=a}),98);
__d("PolarisCreationVideoTrimmer.react",["cx","IGDSBox.react","PolarisCreationConstants","PolarisCreationFilmStrip.react","PolarisCreationVideoCurrentTimeBar.react","PolarisCreationVideoTrimScrubber.react","PolarisCreationVideoTrimTimeRuler.react","PolarisCreationVideoTrimmerTrimmedOutMask.react","polarisCalculateScrubberPosition","react","usePolarisCreationTrimmer","usePolarisCreationVideoPlayer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useState;function a(a){var b=a.duration,e=a.mediaId,f=a.onChange,g=a.placeholders,h=a.previewVideoRef,i=a.trimEndTime;a=a.trimStartTime;var m=c("usePolarisCreationTrimmer")(),n=m.trimVideo;m=l(null);var o=m[0];m=m[1];a=l(a);var p=a[0],q=a[1];a=l(i);var r=a[0],s=a[1];i=l(!1);var t=i[0],u=i[1];a=d("usePolarisCreationVideoPlayer").useCreationVideoPlayerContext();var v=a.pauseVideo,w=a.playVideo,x=a.video;i=function(a,b){b?(q(a),n(a,r)):(s(a),n(p,a)),t&&x!=null&&(x.currentTime=a)};a=k(function(a){u(a),x!=null&&(a?v():w())},[v,w,x]);return j.jsxs("div",{dir:"ltr",children:[j.jsxs(c("IGDSBox.react"),{containerRef:m,marginBottom:2,marginTop:2,position:"relative",children:[j.jsx(c("PolarisCreationFilmStrip.react"),{editType:"trim",onResize:function(){},placeholders:g}),j.jsx(c("PolarisCreationVideoTrimmerTrimmedOutMask.react"),{duration:b,trimContainerEl:o,trimEnd:r,trimStart:p}),j.jsx("div",{className:"_aabn",style:{left:d("polarisCalculateScrubberPosition").timeToX(p,b,(m=o==null?void 0:o.clientWidth)!=null?m:0,d("PolarisCreationConstants").VIDEO_TRIMMER_WIDTH,!1)+d("PolarisCreationConstants").VIDEO_TRIMMER_WIDTH,width:d("polarisCalculateScrubberPosition").timeToX(r-p,b,(g=o==null?void 0:o.clientWidth)!=null?g:0,d("PolarisCreationConstants").VIDEO_TRIMMER_WIDTH,!1)-d("PolarisCreationConstants").VIDEO_TRIMMER_WIDTH*2+d("PolarisCreationConstants").VIDEO_TRIM_BORDER_ADDITIONAL_PADDING}}),j.jsx(d("PolarisCreationVideoTrimScrubber.react").CreationVideoTrimScrubber,{duration:b,handleDrag:a,handleTrimChange:i,mediaId:e,onChange:f,previewVideoRef:h,scrubberType:"start",trimContainerEl:o,trimEnd:r,trimStart:p}),!t&&j.jsx(c("PolarisCreationVideoCurrentTimeBar.react"),{}),j.jsx(d("PolarisCreationVideoTrimScrubber.react").CreationVideoTrimScrubber,{duration:b,handleDrag:a,handleTrimChange:i,mediaId:e,onChange:f,previewVideoRef:h,scrubberType:"end",trimContainerEl:o,trimEnd:r,trimStart:p})]}),j.jsx(c("PolarisCreationVideoTrimTimeRuler.react"),{duration:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisCreationUpdateCoverPhoto",["PolarisCreationV2ActionTypes","asyncToGeneratorRuntime","polarisCreateCoverPhoto","polarisDebounce","react","usePolarisCreationDispatch"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");var i=e.useCallback,j=e.useRef;function a(){var a=d("usePolarisCreationDispatch").useCreationDispatch(),e=j(null);return i(c("polarisDebounce")(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,c,f){e.current=f;c=(yield d("polarisCreateCoverPhoto").createCoverPhoto(c,f));if(e.current!==f)return;a({id:b,selectedCoverPhoto:c,selectedCoverPhotoTime:f,type:d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_COVER_PHOTO})});function f(a,b,d){return c.apply(this,arguments)}return f}(),500),[a])}g["default"]=a}),98);
__d("polarisCanvasCenterCropWithAspectRatio",["nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.element,d=a.height,e=a.outputAspectRatio;a=a.width;var f=a/d;f=e<=f;f=f?{outputHeight:d,outputWidth:e*d}:{outputHeight:1/e*a,outputWidth:a};e=f.outputHeight;f=f.outputWidth;var g=document.createElement("canvas");g.setAttribute("width",f+"px");g.setAttribute("height",e+"px");var h=c("nullthrows")(g.getContext("2d"));h.translate(f/2,e/2);h.fillStyle="red";h.fillRect(0,0,f,e);h.drawImage(b,0,0,a,d,-a/2,-d/2,a,d);return{element:g,height:e,width:f}}g["default"]=a}),98);
__d("polarisCanvasRotate",["nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.element,d=a.height,e=a.rotationAngle;a=a.width;if(e===0)return{element:b,height:d,rotationAngle:e,width:a};var f=e%180===90;f=f?{outputHeight:a,outputWidth:d}:{outputHeight:d,outputWidth:a};var g=f.outputHeight;f=f.outputWidth;var h=document.createElement("canvas");h.width=f;h.height=g;var i=c("nullthrows")(h.getContext("2d"));i.translate(f/2,g/2);i.rotate(e*Math.PI/180);i.drawImage(b,0,0,a,d,-a/2,-d/2,a,d);return{element:h,height:g,rotationAngle:0,width:f}}g["default"]=a}),98);
__d("polarisGetIgtvUploadRequirements",[],(function(a,b,c,d,e,f){"use strict";var g=.5;function a(){return{coverAspectRatio:{height:5,width:4},coverAspectRatioCrop:{height:16,width:9},editVideoControls:!0,maxDescriptionLength:2200,maxDurationInSeconds:3600,maxTitleLength:75,maxVideoSizeInBytes:36e8,minDurationForFeedPreviewInSeconds:g,minDurationInSeconds:g,reencodeToJpegMimeTypes:[""],validCoverMimeTypes:["image/jpeg"],validVideoExtensions:["mp4"],validVideoMimeTypes:["video/mp4"],videoAspectRatio:{height:5,width:4}}}f["default"]=a}),66);
__d("polarisIgtvTransformCoverImageIfNecessary",["polarisCanvasCenterCropWithAspectRatio","polarisCanvasDrawImage","polarisCanvasRotate","polarisGetIgtvUploadRequirements"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.rotationAngle===0?a:babelHelpers["extends"]({},a,c("polarisCanvasRotate")(a))}function i(a){var b=a.element,d=a.height,e=a.type,f=a.width,g=c("polarisGetIgtvUploadRequirements")();g=g.reencodeToJpegMimeTypes;return!g.includes(e)?a:babelHelpers["extends"]({},a,c("polarisCanvasDrawImage")({element:b,height:d,width:f}),{type:"image/jpeg"})}function j(a){var b=a.height,d=a.width,e=c("polarisGetIgtvUploadRequirements")();e=e.coverAspectRatioCrop;d=d/b;b=e.width/e.height;e=d!==b;return!e?a:babelHelpers["extends"]({},a,c("polarisCanvasCenterCropWithAspectRatio")(babelHelpers["extends"]({},a,{outputAspectRatio:b})))}function a(a){return[h,j,i].reduce(function(a,b){return b(a)},a)}g["default"]=a}),98);
__d("usePolarisCreationUpdateCoverPhotoFileSelection",["PolarisCreationV2ActionTypes","asyncToGeneratorRuntime","polarisCreateJpegFileFromCanvas","polarisIgtvTransformCoverImageIfNecessary","polarisReadImageFile","react","usePolarisCreationDispatch"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("polarisReadImageFile").readImageFile(a)),e=b.dataURL,f=b.height,g=b.image,h=b.location,i=b.orientation,j=b.rotationAngle;b=b.width;g=c("polarisIgtvTransformCoverImageIfNecessary")({element:g,height:f,rotationAngle:j,type:a.type,width:b});j=a;g.element instanceof HTMLCanvasElement&&(j=(yield c("polarisCreateJpegFileFromCanvas")(g.element,a.name)));return{dataURL:e,file:j,height:f,location:h,orientation:i,width:b}});return k.apply(this,arguments)}function a(a){var c=d("usePolarisCreationDispatch").useCreationDispatch();return i(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=b[0];if(!b)return;b=(yield j(b));c({id:a,selectedCoverPhoto:b,type:d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_COVER_PHOTO})});return function(a){return e.apply(this,arguments)}}(),[c,a])}g["default"]=a}),98);
__d("PolarisCreationModalEditPageVideoSettingsTab.react",["cx","IGDSBox.react","IGDSText.react","PolarisConfig","PolarisCreationCoverPhotoFileSelector.react","PolarisCreationCoverPhotoPicker.react","PolarisCreationMuteToggle.react","PolarisCreationV2Strings","PolarisCreationVideoTrimmer.react","PolarisUA","nullthrows","react","usePolarisCreationCurrentMedia","usePolarisCreationUpdateCoverPhoto","usePolarisCreationUpdateCoverPhotoFileSelection"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useRef;function a(){var a=c("usePolarisCreationCurrentMedia")(),b=a.currentMedia;a=a.currentMediaId;var e=c("nullthrows")(b.coverPhoto);e=e.selectedCoverPhotoTime;var f=k(null),g=c("nullthrows")(b.video),h=c("usePolarisCreationUpdateCoverPhoto")(),i=c("usePolarisCreationUpdateCoverPhotoFileSelection")(a),l=d("PolarisUA").isMobileSafari()!==!0&&(d("PolarisConfig").isIOS()&&d("PolarisUA").isTouchDevice())!==!0;return j.jsxs(c("IGDSBox.react"),{paddingX:4,position:"relative",children:[j.jsxs(c("IGDSBox.react"),{marginBottom:l?3:0,position:"relative",children:[j.jsx("div",{className:"_abgd",children:j.jsxs(c("IGDSBox.react"),{alignContent:"stretch",alignItems:"center",direction:"row",justifyContent:"between",position:"relative",children:[j.jsx(c("IGDSText.react").LabelEmphasized,{children:d("PolarisCreationV2Strings").COVER_PHOTO_LABEL}),j.jsx(c("PolarisCreationCoverPhotoFileSelector.react"),{onChange:i})]})}),l&&j.jsx(c("PolarisCreationCoverPhotoPicker.react"),{duration:c("nullthrows")(b==null?void 0:(i=b.video)==null?void 0:i.videoDurationMs),initialCurrentTime:e,mediaId:a,onChange:h,placeholders:(i=(l=b.coverPhoto)==null?void 0:l.placeholders)!=null?i:[],previewDataUrl:g.dataURL,previewVideoRef:f},a)]}),j.jsxs(c("IGDSBox.react"),{marginBottom:3,position:"relative",children:[j.jsx("div",{className:"_abgd",children:j.jsx(c("IGDSText.react").LabelEmphasized,{children:d("PolarisCreationV2Strings").TRIM_VIDEO_LABEL})}),j.jsx(c("PolarisCreationVideoTrimmer.react"),{duration:c("nullthrows")(b==null?void 0:(e=b.video)==null?void 0:e.videoDurationMs),mediaId:a,onChange:h,placeholders:(i=(l=b.coverPhoto)==null?void 0:l.placeholders)!=null?i:[],previewVideoRef:f,trimEndTime:(e=b==null?void 0:(g=b.trim)==null?void 0:g.end)!=null?e:c("nullthrows")(b==null?void 0:(h=b.video)==null?void 0:h.videoDurationMs),trimStartTime:(i=b==null?void 0:(l=b.trim)==null?void 0:l.start)!=null?i:0},a)]}),j.jsx(c("IGDSBox.react"),{position:"relative",children:j.jsx(c("PolarisCreationMuteToggle.react"),{})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisCreationFilter",["PolarisCreationV2Actions","Promise","ReactDOMComet","asyncToGeneratorRuntime","nullthrows","polarisGetBlobFromCanvas","react","usePolarisCreationCurrentMedia","usePolarisCreationDispatch","usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function a(){var a=d("usePolarisCreationState").useCreationState(),e=d("usePolarisCreationDispatch").useCreationDispatch(),f=c("usePolarisCreationCurrentMedia")(),g=f.currentMediaId;f=j(function(a){a=d("PolarisCreationV2Actions").setAdjustment(g,a);e(a)},[g,e]);var i=j(function(a,b){a=d("PolarisCreationV2Actions").setFilter(g,a,b);e(a)},[g,e]),k=j(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=(yield c("polarisGetBlobFromCanvas")(b));var f=d("PolarisCreationV2Actions").setFilteredBlob(a,b);d("ReactDOMComet").flushSync(function(){e(f)})});return function(b,c){return a.apply(this,arguments)}}(),[e]),l=j(function(){var f=a.multiPostOrder.map(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(f){var g=a.media.get(f);if((g==null?void 0:g.type)==="image"){var i=g==null?void 0:g.filteredBlob;if(i==null){g=c("nullthrows")(g==null?void 0:g.croppedCanvas);i=(yield c("polarisGetBlobFromCanvas")(g))}var j=(yield d("PolarisCreationV2Actions").setFilteredMedia(i,f));return d("ReactDOMComet").flushSync(function(){return e(j)})}return(h||(h=b("Promise"))).resolve()});return function(a){return f.apply(this,arguments)}}());return(h||(h=b("Promise"))).all(f)},[e,a.media,a.multiPostOrder]);return{filterAllMedia:l,saveFilterBlob:k,setMediaAdjustment:f,setMediaFilter:i}}g["default"]=a}),98);
__d("usePolarisCreationMonetization",["react","usePolarisCreationDispatch","usePolarisCreationIsSingleVideoPost","usePolarisCreationMonetizationDecisions"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(){var a=d("usePolarisCreationDispatch").useCreationDispatch(),b=c("usePolarisCreationIsSingleVideoPost")(),e=c("usePolarisCreationMonetizationDecisions")();i(function(){return},[e,a,b])}g["default"]=a}),98);
__d("PolarisCreationModalEditPage.react",["cx","IGDSBox.react","PolarisCreationConstants","PolarisCreationMediaPreviewV2.react","PolarisCreationModalBodyV2.react","PolarisCreationModalEditPageAdjustmentTab.react","PolarisCreationModalEditPageFilterTab.react","PolarisCreationModalEditPageVideoSettingsTab.react","PolarisCreationModalHeader.react","PolarisCreationStepProvider.react","PolarisCreationV2Shell.react","PolarisCreationV2Strings","PolarisFilteredCanvas.react","PolarisIGCoreTabV2","PolarisIGCoreTabsV2","asyncToGeneratorRuntime","nullthrows","promiseDone","react","usePolarisCreationCurrentMedia","usePolarisCreationFilter","usePolarisCreationMonetization","usePolarisCreationUploadAllMedia","usePrevious"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useEffect,m=e.useRef,n=e.useState;function o(){return j.jsx(c("IGDSBox.react"),{flex:"grow",overflow:"auto",position:"relative",children:j.jsx(c("PolarisCreationModalEditPageVideoSettingsTab.react"),{})})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.adjustmentParams,e=a.filterName,f=a.filterStrength,g=a.onAdjustmentStrengthChange,h=a.onAdjustmentStrengthSet,i=a.onFilterClick,k=a.onFilterStrengthChange;a=a.onFilterStrengthSet;return j.jsx(c("IGDSBox.react"),{flex:"grow",position:"relative",children:j.jsxs(c("PolarisIGCoreTabsV2"),{children:[j.jsx(c("PolarisIGCoreTabV2"),{node:j.jsx(c("PolarisCreationModalEditPageFilterTab.react"),{filterStrength:f,onFilterClick:i,onFilterStrengthChange:k,onFilterStrengthSet:a,selectedFilterName:e}),children:d("PolarisCreationV2Strings").FILTER_TAB}),j.jsx(c("PolarisIGCoreTabV2"),{node:j.jsx(c("PolarisCreationModalEditPageAdjustmentTab.react"),{adjustmentParams:b,onAdjustmentStrengthChange:g,onAdjustmentStrengthSet:h}),children:d("PolarisCreationV2Strings").EDIT_TAB})]})})}p.displayName=p.name+" [from "+f.id+"]";function a(){var a=m(null),e=m(),f=d("PolarisCreationStepProvider.react").useCreationStep(),g=f.handleNextStep;f=c("usePolarisCreationFilter")();var h=f.filterAllMedia,i=f.saveFilterBlob,q=f.setMediaAdjustment,r=f.setMediaFilter,s=c("usePolarisCreationUploadAllMedia")();f=c("usePolarisCreationCurrentMedia")();var t=f.currentMedia,u=f.currentMediaAdjustmentParams,v=f.currentMediaFilter,w=f.currentMediaFilterStrength,x=f.currentMediaId;f=f.currentMediaItem;var y=n(!1),z=y[0],A=y[1];y=n(w);var B=y[0],C=y[1];w=n(new Map());var D=w[0],E=w[1];function F(a,b){D.has(x)||E(D.set(x,new Map()));var c=D.get(x);c==null?void 0:c.set(a,b)}var G=k(function(a){var b=D.get(x);a=(b=b==null?void 0:b.get(a))!=null?b:d("PolarisCreationConstants").INIT_FILTER_STRENGTH;C(a)},[x,D]);y=k(function(a,b){var c;q(babelHelpers["extends"]({},u,(c={},c[a]=b,c)))},[u,q]);function H(){return I.apply(this,arguments)}function I(){I=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){t.type==="image"&&(yield i(x,c("nullthrows")(a.current))),yield h(),g(),yield s()});return I.apply(this,arguments)}c("usePolarisCreationMonetization")();var J=c("usePrevious")({canvas:a.current,mediaId:x});l(function(){if(x===(J==null?void 0:J.mediaId))return;c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){(J==null?void 0:J.mediaId)!=null&&(J==null?void 0:J.canvas)!=null&&(yield i(J.mediaId,J.canvas)),G(v)})())},[x,v,J==null?void 0:J.canvas,J==null?void 0:J.mediaId,i,G]);function K(a,b){if(a===b)return;F(b,B);G(a);r(a,B)}return t==null||f==null?null:j.jsxs(c("PolarisCreationV2Shell.react"),{children:[j.jsx(d("PolarisCreationModalHeader.react").CreationModalHeader,{onCta:H}),j.jsx(c("PolarisCreationModalBodyV2.react"),{mainContent:t.type==="image"?j.jsx("div",{className:"_abgf",onMouseDown:function(){return A(!0)},onMouseUp:function(){return A(!1)},role:"img",children:j.jsx(c("PolarisFilteredCanvas.react"),{adjustmentParams:z?d("PolarisCreationConstants").INIT_ADJUSTMENT_PARAMS:u,filter:z?d("PolarisCreationConstants").INIT_FILTER_NAME:v,filterStrength:(z?d("PolarisCreationConstants").INIT_FILTER_STRENGTH:B)/100,parentRef:e,ref:a,src:c("nullthrows")(t.croppedCanvas)},c("nullthrows")(f.dataURL))}):j.jsx(c("PolarisCreationMediaPreviewV2.react"),{previewType:"videoplayer"}),settingsColumnContent:t.type==="image"?j.jsx(p,{adjustmentParams:u,filterName:v,filterStrength:B,onAdjustmentStrengthChange:function(a,b){var c;q(babelHelpers["extends"]({},u,(c={},c[a]=b,c)))},onAdjustmentStrengthSet:y,onFilterClick:K,onFilterStrengthChange:function(a){C(a)},onFilterStrengthSet:function(a){F(v,a),r(v,a)}}):j.jsx(o,{})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisInstagramActionFalcoEvent",["PolarisFalcoLogger"],(function(a,b,c,d,e,f,g){"use strict";var h={falco:!0,pigeon:!1};a={log:function(a){d("PolarisFalcoLogger").FalcoLogger.log("instagram_actions_annotated",a(),{},h)}};g.InstagramActionFalcoEvent=a}),98);
__d("PolarisInstagramActionsLogger",["PolarisConfig","PolarisInstagramActionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h={UPDATE:"update"};function a(a,b){d("PolarisInstagramActionFalcoEvent").InstagramActionFalcoEvent.log(function(){return{action:h.UPDATE,event_data:{app_id:d("PolarisConfig").getIGAppID()},media_id:a,media_owner_id:b,platform:"web",verb:"profile"}})}g.logInstagramPostUpdateAction=a}),98);
__d("deepMapEqual",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){if(a===b)return!0;if(a==null||b==null)return!1;if(a.size!==b.size)return!1;for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f=e[0];e=e[1];f=b.get(f);if(e instanceof Map&&f instanceof Map){if(!g(e,f))return!1}else if(e!==f)return!1}return!0}f["default"]=g}),66);
__d("PolarisPostActionEditPost",["PolarisGenericStrings","PolarisInstagramActionsLogger","PolarisInstapi","PolarisToastActions","deepMapEqual","polarisPostSelectors"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,e,f,g){return function(j,k){var l;j({editedObj:b,postId:a,type:"EDIT_POST_REQUESTED"});k=k();k=d("polarisPostSelectors").getPostById(k,a);var m=((l=k.owner)==null?void 0:l.id)!=null?(l=k.owner)==null?void 0:l.id:"";k={};b.caption!==e.caption&&(k.caption_text=b.caption);l=e.location!==b.location;if(l){k.location=JSON.stringify({facebook_places_id:(l=b.location)==null?void 0:l.external_id,lat:(l=b.location)==null?void 0:l.lat,lng:(l=b.location)==null?void 0:l.lng,name:(l=b.location)==null?void 0:l.name})}if(!c("deepMapEqual")(b.altTextMap,e.altTextMap)){l=b.altTextMap;if(l!=null){var n=l.keys();n=n?n.next().value:"";n=n!=null?l.get(n):"";if(!g)k.custom_accessibility_caption=n;else{var o={};l.forEach(function(a,c){var d;if(((d=b.childrenMediaIdsToDelete)==null?void 0:d.includes(c))===!1){d=c+"_"+m;o[d]=a!=null?a:""}});k.children_custom_accessibility_caption=o}}}n=b.childrenMediaIdsToDelete;n!=null&&n.length>0&&(k.carousel_children_media_ids_to_delete=n);l=b.userTags;var p=e.userTags;if(!c("deepMapEqual")(l,p))if(g===!1){var q=i(l,p,m),r=f+"_"+m;k.usertags=q[r]}else if(g){if(n&&n.length>0)for(q=n,r=Array.isArray(q),n=0,q=r?q:q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var s;if(r){if(n>=q.length)break;s=q[n++]}else{n=q.next();if(n.done)break;s=n.value}s=s;if(l&&p){l.set(String(s),(s=p.get(String(s)))!=null?s:[])}}k.children_usertags=JSON.stringify(i(l,p,m))}return d("PolarisInstapi").apiPost("/api/v1/media/{media_id}/edit_media/",{body:k,path:{media_id:g?a:f}},{options:{dataType:"json"}}).then(function(){d("PolarisInstagramActionsLogger").logInstagramPostUpdateAction(a,m),j({postId:a,type:"EDIT_POST_SUCCEEDED"})})["catch"](function(){j({editedObj:e,postId:a,type:"EDIT_POST_FAILED"}),j(d("PolarisToastActions").showToast({actionHandler:function(){return j(h(a,b,e,f,g))},actionText:d("PolarisGenericStrings").RETRY_TEXT,text:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE}))})}}function i(a,b,c){var d={};if(a!=null&&b!=null){var e=function(){var a;if(g){if(h>=f.length)return"break";i=f[h++]}else{h=f.next();if(h.done)return"break";i=h.value}var e=i,j=[],k=[],l=e[0];e=e[1];a=(a=b.get(l))!=null?a:[];var m=e.map(function(a){return String(a.userId)}),n=a.map(function(a){return String(a.userId)});j=m.filter(function(a){return!n.includes(a)});k=n.filter(function(a){return!m.includes(a)});a=((a=l)!=null?a:"")+"_"+((l=c)!=null?l:"");d[a]=JSON.stringify({added:j,"in":e.map(function(a){return{position:a.position.length===0?void 0:a.position,show_category_of_user:!1,user_id:String(a.userId)}}),removed:k})};for(var f=a,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;a=e();if(a==="break")break}}return d}g.editPost=h}),98);
__d("PolarisCreationModalEditPostInfoPage.react",["PolarisCreationModalBodyV2.react","PolarisCreationModalComposeSettingsContent.react","PolarisCreationModalHeader.react","PolarisCreationTagImagePreview.react","PolarisCreationTagVideoPreview.react","PolarisCreationV2Shell.react","PolarisNavigationActions","PolarisPostActionEditPost","PolarisReactRedux","polarisUnexpected","react","usePolarisCreationCurrentMedia","usePolarisCreationSelectMedia","usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useState;function k(a,b){var c=new Map();a.forEach(function(a){var d=b.get(a);d=(d=d==null?void 0:d.altText)!=null?d:"";c.set(a,d)});return c}function l(a,b){var c=new Map();a.forEach(function(a){var d=b.get(a);if(d!=null){d=Array.from(d.tags.values());c.set(a,d)}});return c}function a(a){var b,e=a.editPostInfo,f=d("usePolarisCreationState").useCreationState();a=c("usePolarisCreationCurrentMedia")();var g=a.currentMedia,h=a.currentMediaId,m=g.uploadId;a=c("usePolarisCreationSelectMedia")();var n=a.removeMedia,o=d("PolarisReactRedux").useDispatch();a=j([]);var p=a[0],q=a[1];a=function(a){q(p.concat(a)),n(a)};var r=function(){s!=null?s():o(d("PolarisNavigationActions").closeFeedCreationModal())};if(e==null){c("polarisUnexpected")("edit post info should be passed to this page");return null}b=((b=g.filteredMedia)==null?void 0:b.dataURL)?g.filteredMedia.dataURL:"";var s=e.onClose,t=function(){var a=f.multiPostOrder.length>1,b=k(e.beginningState.multiPostOrder,e.beginningState.media),c=k(f.multiPostOrder,f.media),i=l(e.beginningState.multiPostOrder,e.beginningState.media),j=l(f.multiPostOrder,f.media);b={altTextMap:b,caption:e.beginningState.caption,location:e.beginningState.location,userTags:i};i={altTextMap:c,caption:f.caption,childrenMediaIdsToDelete:p,location:f.location,userTags:j};p.length>0&&o({carouselChildrenToDelete:p,postId:m,type:"DELETE_FROM_CAROUSEL_POST"});o(d("PolarisPostActionEditPost").editPost(g.uploadId!=null?g.uploadId:"",i,b,h,a));r()};return i.jsxs(c("PolarisCreationV2Shell.react"),{children:[i.jsx(d("PolarisCreationModalHeader.react").CreationModalHeader,{onClose:s,onCta:t}),i.jsx(c("PolarisCreationModalBodyV2.react"),{mainContent:g.type==="image"?i.jsx(c("PolarisCreationTagImagePreview.react"),{id:h,onDelete:a,src:b},h):i.jsx(c("PolarisCreationTagVideoPreview.react"),{onDelete:a}),settingsColumnContent:i.jsx(c("PolarisCreationModalComposeSettingsContent.react"),{showAdvancedSettings:!1})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationModalErrorPage.react",["IGDSBox.react","IGDSErrorOutlineV2Icon","InstagramODS","PolarisCreationModalBodyV2.react","PolarisCreationModalHeader.react","PolarisCreationStepProvider.react","PolarisCreationV2Shell.react","PolarisCreationV2Strings","PolarisGenericNullStateView.react","PolarisGenericStrings","PolarisHasFeedCreationV2Dogfooding","PolarisUA","asyncToGeneratorRuntime","react","usePolarisCreationState","usePolarisCreationUploadAllMedia"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(){var a;function e(){return f.apply(this,arguments)}function f(){f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield h()});return f.apply(this,arguments)}var g=d("usePolarisCreationState").useCreationState(),h=c("usePolarisCreationUploadAllMedia")(),j=d("PolarisCreationStepProvider.react").useCreationStep(),k=j.handleTryAgain;j=function(){d("PolarisUA").isDesktop()&&(c("InstagramODS").incr("web.creation.try_again.v2"),e(),k(),g.errorPage=null)};return i.jsx(c("IGDSBox.react"),{alignItems:"center",height:"100%",justifyContent:"center",position:"relative",width:"100%",children:i.jsx(c("PolarisGenericNullStateView.react"),{body:(a=g.errorPage)==null?void 0:a.body,header:(a=(a=g.errorPage)==null?void 0:a.header)!=null?a:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE,icon:i.jsx(c("IGDSErrorOutlineV2Icon"),{alt:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE,size:96}),primaryAction:((a=g.errorPage)==null?void 0:a.primaryActionName)===d("PolarisCreationV2Strings").TRY_AGAIN_CTA_TEXT?j:(a=g.errorPage)==null?void 0:a.primaryAction,primaryActionName:(j=g.errorPage)==null?void 0:j.primaryActionName})})}j.displayName=j.name+" [from "+f.id+"]";function k(){return d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()?i.jsx(c("PolarisCreationModalBodyV2.react"),{children:i.jsx(j,{})}):i.jsx(j,{})}k.displayName=k.name+" [from "+f.id+"]";function a(){return i.jsxs(c("PolarisCreationV2Shell.react"),{children:[i.jsx(d("PolarisCreationModalHeader.react").CreationModalHeader,{}),i.jsx(k,{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisCreationConfigureAllMedia",["invariant","PolarisCreationAPI","PolarisCreationError","PolarisCreationErrorHelpers","PolarisCreationV2ActionTypes","PolarisCreationV2State","PolarisUploadLogger","asyncToGeneratorRuntime","nullthrows","polarisUnexpected","polarisWithExponentialBackoff","usePolarisCreationDispatch","usePolarisCreationErrorPage","usePolarisCreationState"],(function(a,b,c,d,e,f,g,h){"use strict";var i={currentRetryInMs:3e3,maxRetryInMs:64e4,onStatusCode:function(a){return a!==202}};function j(a,b){var c=new Map();a.forEach(function(a){a=b.get(a);var d=a==null?void 0:a.altText;a=a==null?void 0:a.uploadId;a!=null&&c.set(a,d)});return c.size>0?c:null}function k(a){var b,d=new Set([]);a.media.forEach(function(a){d.add(a.type)});d.has("image")&&d.has("video")?b="mix":d.has("image")?b="photo":b="video";return c("PolarisUploadLogger").fromLoggingData({ingestSurface:b==="video"?"unified_video":"feed",isCarouselItem:a.multiPostOrder.length>1,mediaType:b,sessionId:a.sessionId})}function a(){var a=d("usePolarisCreationState").useCreationState(),e=d("usePolarisCreationDispatch").useCreationDispatch(),f=c("usePolarisCreationErrorPage")(),g=f.setSelectErrorPage;function l(){var b=a.multiPostOrder.some(function(b){b=a.media.get(b);return(b==null?void 0:b.uploadId)==null});return b!==!0}function m(){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=l();b||h(0,51549);var f=k(a);f.logPublishInvoke();if(a.multiPostOrder.length===1){b=a.multiPostOrder[0];var g=c("nullthrows")(a.media.get(b)),m=g.trim?g.trim.end-g.trim.start:(b=g.video)==null?void 0:b.videoDurationMs;try{b=(yield d("polarisWithExponentialBackoff").withExponentialBackoff(function(){var b;return d("PolarisCreationAPI").configure({caption:a.caption,customAccessibilityCaption:g.altText,disableComments:a.advancedSettings.hasCommentsDisabled,disableLikeViewCounts:a.advancedSettings.hasLikeViewCountsDisabled,disableOaReuse:a.advancedSettings.hasAudioReuseDisabled,enableVideoAds:a.advancedSettings.hasAdsEnabled,geoTag:a.location,trimmedVideoDuration:m,type:g.type,upcomingEventId:(b=a.upcomingEvent)==null?void 0:b.eventId,uploadId:c("nullthrows")(g==null?void 0:g.uploadId),usertags:Array.from(g.tags.values()),videoSubtitlesEnabled:a.advancedSettings.hasVideoSubtitlesEnabled&&g.audio===d("PolarisCreationV2State").AUDIO_STATUS.on})},i).then(function(a){f.logPublishSuccess();return a})["catch"](function(a){f.logPublishFailure();throw a}));e({isPosted:!0,postedMedia:b.media,shortcode:(b=b.media)==null?void 0:b.code,type:d("PolarisCreationV2ActionTypes").CREATION_SET_IS_POSTED})}catch(a){e({isPosted:!1,type:d("PolarisCreationV2ActionTypes").CREATION_SET_IS_POSTED});throw d("PolarisCreationError").CreationError.uploadError(a)}}else if(a.multiPostOrder.length>1){var n=new Map();a.media.forEach(function(a){n.set(c("nullthrows")(a.uploadId),Array.from(a.tags.values()))});var o=a.multiPostOrder.map(function(b){return c("nullthrows")((b=a.media.get(b))==null?void 0:b.uploadId)});try{b=(yield d("polarisWithExponentialBackoff").withExponentialBackoff(function(){return d("PolarisCreationAPI").configureSidecar({caption:a.caption,customAccessibilityCaptionMap:j(a.multiPostOrder,a.media),disableComments:a.advancedSettings.hasCommentsDisabled,disableLikeViewCounts:a.advancedSettings.hasLikeViewCountsDisabled,geoTag:a.location,uploadIds:o,usertagMap:n})},i).then(function(a){f.logPublishSuccess();return a})["catch"](function(a){f.logPublishFailure();throw a}));e({isPosted:!0,postedMedia:b.media,shortcode:(b=b.media)==null?void 0:b.code,type:d("PolarisCreationV2ActionTypes").CREATION_SET_IS_POSTED})}catch(a){e({isPosted:!1,type:d("PolarisCreationV2ActionTypes").CREATION_SET_IS_POSTED});throw d("PolarisCreationError").CreationError.uploadError(a)}}else c("polarisUnexpected")("No media present in multiPostOrder")});return n.apply(this,arguments)}return function(){return m()["catch"](function(a){if(a instanceof d("PolarisCreationError").CreationError){var b=d("PolarisCreationErrorHelpers").getCreationErrorPageForError(a);g(b)}else throw a})}}g.publishLoggerFromState=k;g.useCreationConfigureAllMedia=a}),98);
__d("PolarisCreationModalPublishPage.react",["ix","IGCoreImage","IGDSBox.react","IGDSText.react","PolarisCreationModalBodyV2.react","PolarisCreationModalHeader.react","PolarisCreationStepProvider.react","PolarisCreationStrings","PolarisCreationTypes","PolarisCreationV2Shell.react","PolarisCreationV2Strings","PolarisHasFeedCreationV2Dogfooding","PolarisIGAnimate","polarisVideoMergeUtils","react","react-spring-wwwig","usePolarisCreationConfigureAllMedia","usePolarisCreationCurrentMedia","usePolarisCreationErrorPage","usePolarisCreationSelectMedia","usePolarisCreationState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useEffect;function l(){return j.jsx(c("IGDSBox.react"),{height:96,position:"relative",width:96,children:j.jsx(c("IGCoreImage"),{alt:d("PolarisCreationStrings").UPLOAD_SPINNER_ALT,objectFit:"cover",src:{dark:h("222562"),light:h("212909")}})})}l.displayName=l.name+" [from "+f.id+"]";function m(){var a=d("PolarisCreationStepProvider.react").useCreationStep();a=a.step;a=a===d("PolarisCreationTypes").STEP.done;var b=d("react-spring-wwwig").useSpring({opacity:a?1:0}),e=d("react-spring-wwwig").useSpring({marginBottom:a?16:0}),f=c("usePolarisCreationCurrentMedia")();f=f.currentMedia;f=d("polarisVideoMergeUtils").isMediaEligibleForVideoMerge(f)&&d("polarisVideoMergeUtils").eligibleForVideoMerge();return j.jsx(c("IGDSBox.react"),{alignItems:"center",flex:"grow",justifyContent:"center",position:"relative",width:"100%",children:a?j.jsxs(j.Fragment,{children:[j.jsx(c("IGDSBox.react"),{height:96,position:"relative",width:96,children:j.jsx(c("IGCoreImage"),{alt:d("PolarisCreationStrings").UPLOAD_LOADING_ALT,objectFit:"cover",src:{dark:h("222561"),light:h("212908")}})}),j.jsx(d("PolarisIGAnimate").Animated.div,{style:babelHelpers["extends"]({},e,{marginTop:16}),children:j.jsx(d("PolarisIGAnimate").Animated.div,{style:b,children:j.jsx(c("IGDSText.react").Title,{textAlign:"center",children:f?d("PolarisCreationV2Strings").REEL_UPLOADED_TEXT:d("PolarisCreationV2Strings").POST_UPLOADED_TEXT})})})]}):j.jsx(l,{})})}m.displayName=m.name+" [from "+f.id+"]";function n(){return d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()?j.jsx(c("PolarisCreationModalBodyV2.react"),{children:j.jsx(m,{})}):j.jsx(m,{})}n.displayName=n.name+" [from "+f.id+"]";function a(){var a=d("usePolarisCreationState").useCreationState(),b=d("PolarisCreationStepProvider.react").useCreationStep(),e=b.handlePublishSuccess,f=b.handleStartOver,g=d("usePolarisCreationConfigureAllMedia").useCreationConfigureAllMedia();b=c("usePolarisCreationErrorPage")();var h=b.navigateToErrorPage,i=b.setSelectErrorPage;b=c("usePolarisCreationSelectMedia")();var l=b.clearAllMedia,m=a.multiPostOrder.every(function(b){return((b=a.media.get(b))==null?void 0:b.uploadId)!=null});k(function(){a.errorPage!=null&&(a.errorPage.body==null?h(a.errorPage):(l(),i(a.errorPage),f()))},[l,h,f,i,a.errorPage]);k(function(){m&&g()},[m]);k(function(){a.isPosted&&e()},[e,a.isPosted]);b=c("usePolarisCreationCurrentMedia")();b=b.currentMedia;b=d("polarisVideoMergeUtils").isMediaEligibleForVideoMerge(b)&&d("polarisVideoMergeUtils").eligibleForVideoMerge();return j.jsxs(c("PolarisCreationV2Shell.react"),{children:[j.jsx(d("PolarisCreationModalHeader.react").CreationModalHeader,{showReelCreationHeader:b}),j.jsx(n,{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDSIlloWebUploadIcon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{aspectRatio:1.2626131953428201,viewBox:"0 0 97.6 77.3",children:[i.jsx("path",{d:"M16.3 24h.3c2.8-.2 4.9-2.6 4.8-5.4-.2-2.8-2.6-4.9-5.4-4.8s-4.9 2.6-4.8 5.4c.1 2.7 2.4 4.8 5.1 4.8zm-2.4-7.2c.5-.6 1.3-1 2.1-1h.2c1.7 0 3.1 1.4 3.1 3.1 0 1.7-1.4 3.1-3.1 3.1-1.7 0-3.1-1.4-3.1-3.1 0-.8.3-1.5.8-2.1z",fill:"currentColor"}),i.jsx("path",{d:"M84.7 18.4 58 16.9l-.2-3c-.3-5.7-5.2-10.1-11-9.8L12.9 6c-5.7.3-10.1 5.3-9.8 11L5 51v.8c.7 5.2 5.1 9.1 10.3 9.1h.6l21.7-1.2v.6c-.3 5.7 4 10.7 9.8 11l34 2h.6c5.5 0 10.1-4.3 10.4-9.8l2-34c.4-5.8-4-10.7-9.7-11.1zM7.2 10.8C8.7 9.1 10.8 8.1 13 8l34-1.9c4.6-.3 8.6 3.3 8.9 7.9l.2 2.8-5.3-.3c-5.7-.3-10.7 4-11 9.8l-.6 9.5-9.5 10.7c-.2.3-.6.4-1 .5-.4 0-.7-.1-1-.4l-7.8-7c-1.4-1.3-3.5-1.1-4.8.3L7 49 5.2 17c-.2-2.3.6-4.5 2-6.2zm8.7 48c-4.3.2-8.1-2.8-8.8-7.1l9.4-10.5c.2-.3.6-.4 1-.5.4 0 .7.1 1 .4l7.8 7c.7.6 1.6.9 2.5.9.9 0 1.7-.5 2.3-1.1l7.8-8.8-1.1 18.6-21.9 1.1zm76.5-29.5-2 34c-.3 4.6-4.3 8.2-8.9 7.9l-34-2c-4.6-.3-8.2-4.3-7.9-8.9l2-34c.3-4.4 3.9-7.9 8.4-7.9h.5l34 2c4.7.3 8.2 4.3 7.9 8.9z",fill:"currentColor"}),i.jsx("path",{d:"M78.2 41.6 61.3 30.5c-2.1-1.4-4.9-.8-6.2 1.3-.4.7-.7 1.4-.7 2.2l-1.2 20.1c-.1 2.5 1.7 4.6 4.2 4.8h.3c.7 0 1.4-.2 2-.5l18-9c2.2-1.1 3.1-3.8 2-6-.4-.7-.9-1.3-1.5-1.8zm-1.4 6-18 9c-.4.2-.8.3-1.3.3-.4 0-.9-.2-1.2-.4-.7-.5-1.2-1.3-1.1-2.2l1.2-20.1c.1-.9.6-1.7 1.4-2.1.8-.4 1.7-.3 2.5.1L77 43.3c1.2.8 1.5 2.3.7 3.4-.2.4-.5.7-.9.9z",fill:"currentColor"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("PolarisCreationLoadingBar.react",["PolarisLoadingBar.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={root:{position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0}};function a(a){a=a.isLoading;return a===!1?null:i.jsx(c("PolarisLoadingBar.react"),{xstyle:j.root})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationModalSelectBody.react",["IGDSBox.react","IGDSErrorOutlineV2Icon","IGDSIlloWebUploadIcon","PolarisCreationCameraLogger","PolarisCreationError","PolarisCreationErrorHelpers","PolarisCreationLoadingBar.react","PolarisCreationLoggerHooks","PolarisCreationStepProvider.react","PolarisCreationTypes","PolarisCreationV2Strings","PolarisGenericDropzone.react","PolarisGenericNullStateView.react","PolarisHasFeedCreationV2Dogfooding","PolarisImageFileForm.react","PolarisUA","asyncToGeneratorRuntime","nullthrows","react","usePolarisCreationErrorPage","usePolarisCreationSelectMedia","usePolarisCreationState","usePolarisCreationToast"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useRef,k=e.useState;function l(a){return d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()?a?d("PolarisCreationV2Strings").SELECT_OTHER_TEXT:d("PolarisUA").isTouchDevice()?d("PolarisCreationV2Strings").SELECT_FROM_DEVICE_TEXT:d("PolarisCreationV2Strings").SELECT_TEXT:d("PolarisCreationV2Strings").SELECT_TEXT}function a(a){a=a.body;var e=j(null),f=c("usePolarisCreationSelectMedia")(),g=f.selectMediaFiles;f=d("PolarisCreationStepProvider.react").useCreationStep();var h=f.handleNextStep;f=c("usePolarisCreationToast")();var m=f.setErrorMessage;f=d("usePolarisCreationState").useCreationState();var n=f.errorPage,o=f.sessionId;f=c("usePolarisCreationErrorPage")();var p=f.setSelectErrorPage;f=k(!1);var q=f[0],r=f[1];f=k(!1);var s=f[0],t=f[1];f=n!=null;d("PolarisCreationLoggerHooks").useCreationStartGallerySessionLogger();var u=function(){h(),d("PolarisCreationCameraLogger").logFeedCreationCameraEndGallerySession({sessionId:o}),p(null)},v=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){r(!0);try{yield g(a),u()}catch(e){r(!1);if(e instanceof d("PolarisCreationError").CreationError){var b=d("PolarisCreationErrorHelpers").getCreationErrorPageForError(e),c=d("PolarisCreationErrorHelpers").getCreationErrorToastForError(e);b?p(b):c?(e.type===d("PolarisCreationError").CreationErrorType.MAX_MEDIA_ADDED&&u(),m(c.message)):m(a.length>1?d("PolarisCreationV2Strings").MULTIPLE_FILE_UPLOAD_ERROR:d("PolarisCreationV2Strings").SINGLE_FILE_UPLOAD_ERROR)}else throw e}});return function(b){return a.apply(this,arguments)}}(),w=function(){var a=e==null?void 0:e.current;a!=null&&a.selectFile()},x=d("PolarisUA").isTouchDevice()&&d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding();return i.jsxs(c("PolarisGenericDropzone.react"),{onDrag:function(a){return t(a)},onFilesSelect:v,children:[i.jsx(c("PolarisCreationLoadingBar.react"),{isLoading:q}),i.jsx(c("IGDSBox.react"),{alignItems:"center",height:"100%",justifyContent:"center",position:"relative",width:"100%",children:i.jsx(c("PolarisGenericNullStateView.react"),{backgroundColor:s?"secondaryBackground":void 0,body:f?n==null?void 0:n.body:a!=null?a:void 0,header:f?c("nullthrows")(n==null?void 0:n.header):x?d("PolarisCreationV2Strings").ADD_MEDIA_TITLE:d("PolarisCreationV2Strings").DRAG_AND_DROP_TITLE,icon:f?i.jsx(c("IGDSErrorOutlineV2Icon"),{alt:d("PolarisCreationV2Strings").MEDIA_OUTLINE_ALT,size:96}):i.jsx(c("IGDSIlloWebUploadIcon"),{alt:d("PolarisCreationV2Strings").MEDIA_OUTLINE_ALT,color:s?"ig-primary-button":"ig-primary-text",size:96}),primaryAction:w,primaryActionName:l(f),secondaryAction:f?n==null?void 0:n.secondaryAction:void 0,secondaryActionName:f?n==null?void 0:n.secondaryActionName:void 0})}),i.jsx(d("PolarisImageFileForm.react").ImageFileForm,{acceptMimeTypes:Object.keys(d("PolarisCreationTypes").CREATION_MIME_TYPES),capture:!1,multiple:!0,onFileChange:v,ref:e})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationModalSelectPage.react",["PolarisCreationLoggerHooks","PolarisCreationModalBodyV2.react","PolarisCreationModalHeader.react","PolarisCreationModalSelectBody.react","PolarisCreationV2Actions","PolarisCreationV2Shell.react","react","usePolarisCreationDispatch"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=a.body;a=a.modalTitle;var e=d("usePolarisCreationDispatch").useCreationDispatch();d("PolarisCreationLoggerHooks").useCreationStartCameraSessionLogger();j(function(){e(d("PolarisCreationV2Actions").creationSessionStarted())},[e]);return i.jsxs(c("PolarisCreationV2Shell.react"),{children:[i.jsx(d("PolarisCreationModalHeader.react").CreationModalHeader,{modalTitle:a}),i.jsx(c("PolarisCreationModalBodyV2.react"),{children:i.jsx(c("PolarisCreationModalSelectBody.react"),{body:(a=b)!=null?a:void 0})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationModuleHelpers.react",["PolarisCreationModalComposePage.react","PolarisCreationModalCropPage.react","PolarisCreationModalEditPage.react","PolarisCreationModalEditPostInfoPage.react","PolarisCreationModalErrorPage.react","PolarisCreationModalPublishPage.react","PolarisCreationModalSelectPage.react","PolarisCreationTypes","cr:6065","polarisUnexpected","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,e,f){var g=function(){c("polarisUnexpected")("unsupported creation step");return i.jsx(c("PolarisCreationModalSelectPage.react"),{})};switch(a){case d("PolarisCreationTypes").STEP.select:return i.jsx(c("PolarisCreationModalSelectPage.react"),{body:f==null?void 0:(a=f.selectPage)==null?void 0:a.body,modalTitle:f==null?void 0:f.modalTitle});case d("PolarisCreationTypes").STEP.generate:return b("cr:6065")==null?g():i.jsx(b("cr:6065"),{});case d("PolarisCreationTypes").STEP.crop:return i.jsx(c("PolarisCreationModalCropPage.react"),{modalTitle:f==null?void 0:f.modalTitle});case d("PolarisCreationTypes").STEP.edit:return i.jsx(c("PolarisCreationModalEditPage.react"),{});case d("PolarisCreationTypes").STEP.compose:return i.jsx(c("PolarisCreationModalComposePage.react"),{disclaimerText:f==null?void 0:(a=f.composePage)==null?void 0:a.disclaimerText,modalTitle:f==null?void 0:f.modalTitle});case d("PolarisCreationTypes").STEP.publish:return i.jsx(c("PolarisCreationModalPublishPage.react"),{});case d("PolarisCreationTypes").STEP.done:return i.jsx(c("PolarisCreationModalPublishPage.react"),{});case d("PolarisCreationTypes").STEP.error:return i.jsx(c("PolarisCreationModalErrorPage.react"),{});case d("PolarisCreationTypes").STEP.editPostInfo:return i.jsx(c("PolarisCreationModalEditPostInfoPage.react"),{editPostInfo:e});default:return g()}}a.displayName=a.name+" [from "+f.id+"]";g.getCreationModule=a}),98);
__d("PolarisPostActionShowNewUploadedPost",["PolarisPostModel","PolarisUserModel","polarisGetFeedItemFromFeedItemDict","polarisNormalizeMediaDicts"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){return function(f,g){g=d("polarisNormalizeMediaDicts").normalizeMediaDicts([a]);var h=g.entities.mediaDicts||[];g=g.entities.userDicts||[];h=babelHelpers["extends"]({},h[b],{like_count:0});var i=d("polarisGetFeedItemFromFeedItemDict").getFeedItemFromMediaDict(h);f({feedItem:i,post:c("PolarisPostModel").fromNativeResponse(h).toReduxStore(),type:"SHOW_NEW_UPLOADED_POST",user:c("PolarisUserModel").fromNativeResponse(g[e]).toReduxStore()})}}g.showNewUploadedPost=a}),98);
__d("polarisCreationStateFactory",[],(function(a,b,c,d,e,f){"use strict";var g={advancedSettings:{hasAdsEnabled:!1,hasAudioReuseDisabled:!1,hasCommentsDisabled:!1,hasLikeViewCountsDisabled:!1,hasVideoSubtitlesEnabled:!1},caption:"",cropRatio:null,cropType:null,currentMediaId:null,eligibleUpcomingEvents:[],entryPath:"/",errorPage:null,hasViewedPhotoTooltip:!1,hasViewedReorderTooltip:!1,isPosted:!1,location:null,media:new Map(),monetizationEligibility:null,multiPostOrder:[],postedMedia:null,sessionId:"",upcomingEvent:null};function a(a){a===void 0&&(a={});return babelHelpers["extends"]({},g,a)}f.defaultState=g;f.creationStateFactory=a}),66);
__d("usePolarisCreationModalTimeSpent",["PolarisTimeSpentNavigation","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect,j="creationModal";function a(){i(function(){var a,b=(a=d("PolarisTimeSpentNavigation").getPageInfo())==null?void 0:a.page;if(b==null)return function(){};d("PolarisTimeSpentNavigation").setPage(j);return function(){d("PolarisTimeSpentNavigation").setPage(b)}},[])}g["default"]=a}),98);
__d("polarisCreationV2Reducer",["invariant","PolarisCreationConstants","PolarisCreationCropHelpers","PolarisCreationV2ActionTypes","PolarisCreationV2State","areEqual","nullthrows","polarisCreationStateFactory"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=new Set(["cropRatio","panningOffsetRatioX","panningOffsetRatioY","scale","filters","coverPhoto","audio","adjustmentParams"]);function k(a,b){var c=a[0];c=b.media.get(c);return b.cropType===d("PolarisCreationV2State").CropTypes.ORIGINAL&&c!=null?d("PolarisCreationCropHelpers").getClosestValidAspectRatio(c.originalAspectRatio,c.type,a.length):b.cropRatio}function l(a,b){b.forEach(function(b){var c=a.get(b);(c==null?void 0:c.uploadId)!=null&&(c.uploadId=null,a.set(b,c))});return a}function a(a,b){switch(b.type){case d("PolarisCreationV2ActionTypes").CREATION_RESET_STATE:return d("polarisCreationStateFactory").defaultState;case d("PolarisCreationV2ActionTypes").CREATION_SESSION_STARTED:return babelHelpers["extends"]({},a,{sessionId:b.sessionId});case d("PolarisCreationV2ActionTypes").CREATION_SET_CAPTION:return babelHelpers["extends"]({},a,{caption:b.caption});case d("PolarisCreationV2ActionTypes").CREATION_SET_CROP_RATIO:return babelHelpers["extends"]({},a,{cropRatio:b.cropRatio,cropType:b.cropType});case d("PolarisCreationV2ActionTypes").CREATION_SET_CURRENT_ID:return babelHelpers["extends"]({},a,{currentMediaId:b.id});case d("PolarisCreationV2ActionTypes").CREATION_SET_LOCATION:return babelHelpers["extends"]({},a,{location:b.location});case d("PolarisCreationV2ActionTypes").CREATION_SET_IS_POSTED:return babelHelpers["extends"]({},a,{isPosted:b.isPosted,postedMedia:b.postedMedia,shortcode:b.shortcode});case d("PolarisCreationV2ActionTypes").CREATION_SET_COMMENTS_DISABLED:return babelHelpers["extends"]({},a,{advancedSettings:babelHelpers["extends"]({},a.advancedSettings,{hasCommentsDisabled:b.hasCommentsDisabled})});case d("PolarisCreationV2ActionTypes").CREATION_SET_AUDIO_REUSE_DISABLED:return babelHelpers["extends"]({},a,{advancedSettings:babelHelpers["extends"]({},a.advancedSettings,{hasAudioReuseDisabled:b.hasAudioReuseDisabled})});case d("PolarisCreationV2ActionTypes").CREATION_SET_LIKE_VIEW_COUNTS_DISABLED:return babelHelpers["extends"]({},a,{advancedSettings:babelHelpers["extends"]({},a.advancedSettings,{hasLikeViewCountsDisabled:b.hasLikeViewCountsDisabled})});case d("PolarisCreationV2ActionTypes").CREATION_SET_GENERATE_SUBTITLES_ENABLED:return babelHelpers["extends"]({},a,{advancedSettings:babelHelpers["extends"]({},a.advancedSettings,{hasVideoSubtitlesEnabled:b.hasVideoSubtitlesEnabled})});case d("PolarisCreationV2ActionTypes").CREATION_SET_VIEWED_PHOTO_TOOLTIP:return babelHelpers["extends"]({},a,{hasViewedPhotoTooltip:b.hasViewedPhotoTooltip});case d("PolarisCreationV2ActionTypes").CREATION_SET_VIEWED_REORDER_TOOLTIP:return babelHelpers["extends"]({},a,{hasViewedReorderTooltip:b.hasViewedReorderTooltip});case d("PolarisCreationV2ActionTypes").CREATION_SET_MEDIA:var e;return babelHelpers["extends"]({},a,{currentMediaId:(e=a.currentMediaId)!=null?e:b.multiPostOrder[0],media:b.media,multiPostOrder:b.multiPostOrder});case d("PolarisCreationV2ActionTypes").CREATION_ADD_MEDIA:e=new Map([].concat(Array.from(a.media.entries()),Array.from(b.media.entries())));var f=Array.from(new Set([].concat(a.multiPostOrder,b.multiPostOrder)));a.multiPostOrder.length===1&&l(e,a.multiPostOrder);return babelHelpers["extends"]({},a,{media:e,multiPostOrder:f});case d("PolarisCreationV2ActionTypes").CREATION_REMOVE_MEDIA:e=b.mediaId;f=new Map(a.media);f["delete"](e);e=a.multiPostOrder.indexOf(e);e!==-1||h(0,51150);e=e===0?1:e-1;e=a.multiPostOrder[e];var g=a.multiPostOrder.filter(function(a){return a!==b.mediaId});a.multiPostOrder.length===2&&l(f,a.multiPostOrder);return babelHelpers["extends"]({},a,{cropRatio:k(g,a),currentMediaId:e,media:f,multiPostOrder:g});case d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_META:e=a.media;f=b.id;b.type;var m=babelHelpers.objectWithoutPropertiesLoose(b,["id","type"]),n=c("nullthrows")(e.get(f));g=babelHelpers["extends"]({},n,m);if(n.uploadId!=null){var o=Object.keys(m).some(function(a){return j.has(a)&&!(i||(i=c("areEqual")))(m[a],n[a])});o&&(g.uploadId=null)}o=e.set(f,g);return babelHelpers["extends"]({},a,{media:o});case d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_COVER_PHOTO:var p;e=b.id;f=b.selectedCoverPhoto;g=b.selectedCoverPhotoTime;o=a.media;var q=c("nullthrows")(o.get(e));if(((p=q.coverPhoto)==null?void 0:p.selectedCoverPhotoTime)===g)return babelHelpers["extends"]({},a);q=babelHelpers["extends"]({},q,{coverPhoto:{placeholders:(q=(p=q.coverPhoto)==null?void 0:p.placeholders)!=null?q:[],selectedCoverPhoto:f,selectedCoverPhotoTime:(p=g)!=null?p:d("PolarisCreationConstants").DEFAULT_VIDEO_COVER_TIME}});f=o.set(e,q);return babelHelpers["extends"]({},a,{media:f});case d("PolarisCreationV2ActionTypes").CREATION_ADD_USERTAG_TO_MEDIA:g=a.media;p=b.id;o=b.tag;e=b.userId;q=c("nullthrows")(g.get(p));f=q.tags.set(e,o);e=babelHelpers["extends"]({},q,{tags:f});o=g.set(p,e);return babelHelpers["extends"]({},a,{media:o});case d("PolarisCreationV2ActionTypes").CREATION_REMOVE_USERTAG_FROM_MEDIA:q=a.media;f=b.id;g=b.userId;p=c("nullthrows")(q.get(f));e=new Map(p.tags);e["delete"](g);o=babelHelpers["extends"]({},p,{tags:e});g=q.set(f,o);return babelHelpers["extends"]({},a,{media:g});case d("PolarisCreationV2ActionTypes").CREATION_SET_MULTI_POST_ORDER:p=b.multiPostOrder;return babelHelpers["extends"]({},a,{cropRatio:k(p,a),multiPostOrder:p});case d("PolarisCreationV2ActionTypes").CREATION_SET_ERROR_MESSAGE:e=b.errorMessage;return babelHelpers["extends"]({},a,{errorMessage:e});case d("PolarisCreationV2ActionTypes").CREATION_SET_ERROR_PAGE:q=b.errorPage;return babelHelpers["extends"]({},a,{errorPage:q});case d("PolarisCreationV2ActionTypes").CREATION_UPDATE_VIDEO_TRIM:f=b.end;o=b.id;g=b.start;p=a.media;e=c("nullthrows")(p.get(o));if(((q=e.trim)==null?void 0:q.end)===f&&((q=e.trim)==null?void 0:q.start)===g)return babelHelpers["extends"]({},a);q=babelHelpers["extends"]({},e,{trim:{end:f,start:g}});e=p.set(o,q);return babelHelpers["extends"]({},a,{media:e});case d("PolarisCreationV2ActionTypes").CREATION_SET_ELIGIBLE_UPCOMING_EVENTS:return babelHelpers["extends"]({},a,{eligibleUpcomingEvents:b.eligibleUpcomingEvents});case d("PolarisCreationV2ActionTypes").CREATION_SET_UPCOMING_EVENT:return babelHelpers["extends"]({},a,{upcomingEvent:b.upcomingEvent});case d("PolarisCreationV2ActionTypes").CREATION_SET_MONETIZATION_ELIGIBILITY:return babelHelpers["extends"]({},a,{monetizationEligibility:b.decisions});case d("PolarisCreationV2ActionTypes").CREATION_SET_ADS_ENABLED:return babelHelpers["extends"]({},a,{advancedSettings:babelHelpers["extends"]({},a.advancedSettings,{hasAdsEnabled:b.hasAdsEnabled})});default:return a}}g["default"]=a}),98);
__d("usePolarisCreationReducer",["polarisCreationStateFactory","polarisCreationV2Reducer","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useReducer;function a(a){a===void 0&&(a=d("polarisCreationStateFactory").defaultState);return i(c("polarisCreationV2Reducer"),a)}g["default"]=a}),98);
__d("IGDShell.react",["BaseTheme.react","IGDSBox.react","IGDThemeConfig","PolarisBaseShell.react","PolarisCallGatingHelpers","PolarisCreationModal.react","PolarisHasFeedCreation","PolarisQPConstants","PolarisQPManager.react","PolarisReactRedux","PolarisSwitchAccountsModal.react","PolarisToastWrapper.react","VideoPlayerGlobalComponents.react","cr:1005","deferredLoadComponent","polarisIsUserLoggedIn","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("deferredLoadComponent")(c("requireDeferred")("PolarisIncomingCall.react").__setRef("IGDShell.react")),k=c("deferredLoadComponent")(c("requireDeferred")("PolarisDirectVerifiedUserCallingNotEnabledModal.react").__setRef("IGDShell.react")),l=c("deferredLoadComponent")(c("requireDeferred")("PolarisDirectVerifiedUserCallingNotFollowingModal.react").__setRef("IGDShell.react")),m={desktopContent:{backgroundColor:"xnz67gz",flexGrow:"x1iyjqo2",height:"x5yr21d",maxHeight:"xmz0i5r",paddingTop:"xlnp5zw",$$css:!0},root:{height:"x5yr21d",width:"xh8yej3",$$css:!0}};function a(a){a=a.children;var e=d("PolarisReactRedux").useSelector(function(a){return a.navigation.isAccountSwitcherOpen}),f=d("PolarisReactRedux").useSelector(function(a){return a.navigation.isFeedCreationModalOpen}),g=d("PolarisReactRedux").useSelector(function(a){return a.direct.verifiedUserCalling}),h=g.notEnabledModalOpen;g=g.notFollowingModalOpen;var n=null;f&&d("PolarisHasFeedCreation").hasFeedCreation()&&(n=i.jsx("div",{children:i.jsx(c("PolarisCreationModal.react"),{})}));return i.jsx(c("VideoPlayerGlobalComponents.react"),{children:i.jsxs(c("PolarisBaseShell.react"),{xstyle:m.root,children:[i.jsxs(c("BaseTheme.react"),{config:c("IGDThemeConfig"),children:[i.jsxs("div",{className:"xnz67gz x1iyjqo2 x5yr21d xmz0i5r xlnp5zw",children:[h&&i.jsx(k,{}),g&&i.jsx(l,{}),i.jsxs(c("IGDSBox.react"),{height:"100vh",position:"relative",width:"100%",children:[b("cr:1005")!=null?i.jsxs(b("cr:1005"),{children:[d("PolarisCallGatingHelpers").isIncomingCallEnabled()&&i.jsx(j,{}),a]}):i.jsxs(i.Fragment,{children:[d("PolarisCallGatingHelpers").isIncomingCallEnabled()&&i.jsx(j,{}),a]}),i.jsx("div",{children:i.jsx(c("PolarisToastWrapper.react"),{})})]})]}),e&&d("polarisIsUserLoggedIn").isUserLoggedIn()&&i.jsx("div",{children:i.jsx(c("PolarisSwitchAccountsModal.react"),{})}),n]}),i.jsx(c("PolarisQPManager.react"),{slot:d("PolarisQPConstants").SLOTS.inbox})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMaster.react",["I64","IGDNullState.react","IGDOpenThreadContainer.react","IGDRouteProvider.react","LSMessagingThreadTypeUtil","cr:5493","react","useForceUpdate","useMaybeAddE2EEAnnotations"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));e=h;var k=e.useLayoutEffect,l=e.useRef;function a(){var a=d("IGDRouteProvider.react").useThreadKeyFromCurrentRoute(),e=d("IGDRouteProvider.react").useThreadTypeFromCurrentRoute();c("useMaybeAddE2EEAnnotations")();var f=function(){if(a==null)return j.jsx(c("IGDNullState.react"),{});var f=e!=null?d("LSMessagingThreadTypeUtil").isSecure(e):!1;return f?!b("cr:5493")?j.jsx(c("IGDNullState.react"),{}):j.jsx(b("cr:5493"),{threadKey:a},(i||(i=d("I64"))).to_string(a)):j.jsx(c("IGDOpenThreadContainer.react"),{threadKey:a},(i||(i=d("I64"))).to_string(a))};return m(a,f)}a.displayName=a.name+" [from "+f.id+"]";function m(a,b){var e=a!=null?(i||(i=d("I64"))).to_string(a):void 0,f=l(e);a=l(null);var g=c("useForceUpdate")();k(function(){f.current!==e&&(f.current=e,window.requestAnimationFrame(g))},[g,e]);if(f.current!==e)return a.current;a.current=b();return a.current}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWSetupPresenceReportingDeferred.react",["CometPlaceholder.react","deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("deferredLoadComponent")(c("requireDeferred")("MWSetupPresenceReporting.react").__setRef("MWSetupPresenceReportingDeferred.react"));function a(){return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(j,{})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("translatedServerString",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}f["default"]=a}),66);
__d("useSubscribeToErrorTableAndShowToast",["ReQL","react","requireDeferred","translatedServerString","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect,j=c("requireDeferred")("LSUserVisibleErrorsUtil").__setRef("useSubscribeToErrorTableAndShowToast"),k=c("requireDeferred")("mwPushToast").__setRef("useSubscribeToErrorTableAndShowToast"),l={contents:!1};function a(){var a=c("useReStore")();return i(function(){if(l.contents)return;l.contents=!0;var b=d("ReQL").fromTableAscending(a.table("user_visible_errors")).subscribe(function(b,d){switch(d.operation){case"add":var e=d.value;b=e.presentationStyle;if(b!=null&&b!=="toast"&&b!=="undefined")return;k.onReady(function(b){b.mwPushErrorToast({body:e.errorBodyText!=null?c("translatedServerString")(e.errorBodyText):void 0,onDismiss:function(){j.onReady(function(b){b.removeUserVisibleErrorFromTable(a,e.errorId)})},title:c("translatedServerString")(e.errorTitleText)})});return;case"put":case"delete":return}});return function(){l.contents=!1;return b()}},[a])}g["default"]=a}),98);
__d("IGDInboxRoot.react",["BaseHeadingContext","CometRouterFocusRegion.react","IGDDeviceTypeProvider.react","IGDEntryPoints","IGDInboxActiveNowTrayConversionLoggingContextProvider","IGDInboxLayout.react","IGDMaster.react","MWSetupPresenceReportingDeferred.react","WebUXLoggingEntryPointContextProvider","WebUXLoggingSurfaceContextProvider","XPlatWebAudioPlaybackContextProvider.react","cr:2598","react","useGetStableCometRouterDispatcher","useSubscribeToErrorTableAndShowToast"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;function k(){var a=j(c("BaseHeadingContext"));return i.jsx(c("CometRouterFocusRegion.react"),{children:i.jsx(c("BaseHeadingContext").Provider,{children:i.jsx(c("IGDMaster.react"),{}),value:a+1|0})})}k.displayName=k.name+" [from "+f.id+"]";function a(a){a=a.leftRail;c("useSubscribeToErrorTableAndShowToast")();b("cr:2598")==null?void 0:b("cr:2598").useEBShadowTest();return i.jsx(d("IGDDeviceTypeProvider.react").IGDDeviceTypeProvider,{isMobile:!1,children:i.jsx(d("useGetStableCometRouterDispatcher").CometRouterDispatcherGetterContextProvider,{children:i.jsxs(d("WebUXLoggingEntryPointContextProvider").WebUXLoggingEntryPointContextProvider,{value:"inbox",children:[i.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"igd_inbox",children:i.jsx(d("IGDInboxLayout.react").IGDInboxLayoutContainer,{children:i.jsx(c("XPlatWebAudioPlaybackContextProvider.react"),{children:i.jsxs(d("IGDInboxActiveNowTrayConversionLoggingContextProvider").IGDInboxActiveNowTrayConversionLoggingContextProvider,{children:[i.jsx(d("WebUXLoggingEntryPointContextProvider").WebUXLoggingEntryPointContextProvider,{value:d("IGDEntryPoints").IGDEntryPoints.MESSAGES_TAB,children:i.jsx(d("IGDInboxLayout.react").IGDInboxLayoutLeftColumn,{children:a})}),i.jsx(d("IGDInboxLayout.react").IGDInboxLayoutContentArea,{children:i.jsx(k,{})})]})})})}),i.jsx(c("MWSetupPresenceReportingDeferred.react"),{})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDirectInbox.react",["IGDInboxContextProviders.react","IGDInboxLeftRail.react","IGDInboxRoot.react","IGDMessageRequestLeftRail.react","IGDPageSetup.react","IGDShell.react","PolarisDirectInboxMetaManager.react","PolarisDirectStrings","cr:3279","react","useRoutePassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.placeholder;var e=c("useRoutePassthroughProps")();e=e!=null&&(e.entryPoint==="pendingRequests"||e.entryPoint==="inboxSpam");e=e?i.jsx(c("IGDMessageRequestLeftRail.react"),{}):i.jsx(c("IGDInboxLeftRail.react"),{});var f=b("cr:3279"),g="DirectThreadPage",h=d("PolarisDirectStrings").INBOX_STRING;return i.jsx(c("IGDShell.react"),{children:i.jsx(c("IGDPageSetup.react"),{placeholder:a,children:i.jsx(d("IGDInboxContextProviders.react").IGDInboxContextProviders,{children:f?i.jsxs(f,{children:[i.jsx(c("PolarisDirectInboxMetaManager.react"),{id:g,title:h}),i.jsx(c("IGDInboxRoot.react"),{leftRail:e})]}):i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisDirectInboxMetaManager.react"),{id:g,title:h}),i.jsx(c("IGDInboxRoot.react"),{leftRail:e})]})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);